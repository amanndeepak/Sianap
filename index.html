<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sianap ‚Äî Where India Trains, Tests &amp; Talks AI</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<style>

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   SIANAP ‚Äî FULL VIEWPORT WEB APP
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

:root {
  --bg: #f6f6fb;
  --card: #ffffff;
  --card2: #f0f0f8;
  --text: #111827;
  --sub: #6b7280;
  --border: #e5e7eb;
  --chip-bg: #e5e7eb;
  --chip-col: #374151;
  --accent: #6366f1;
  --accent2: #FF9933;
  --nav-h: 60px;
  --sidebar-w: 220px;
  --max-feed: 680px;
}

html, body {
  height: 100%;
  background: var(--bg);
  font-family: 'Inter', sans-serif;
  color: var(--text);
}

/* ‚îÄ‚îÄ SPLASH ‚îÄ‚îÄ */
#splash {
  position: fixed; inset: 0; z-index: 9999;
  background: #07070f;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  transition: opacity .65s ease, visibility .65s ease;
}
#splash.out { opacity:0; visibility:hidden; pointer-events:none; }
.sp-icon {
  width:88px; height:88px; border-radius:26px;
  background:linear-gradient(135deg,#6366f1 0%,#a855f7 50%,#FF9933 100%);
  display:flex; align-items:center; justify-content:center;
  font-size:44px; margin-bottom:30px;
  box-shadow:0 0 70px rgba(99,102,241,0.6),0 0 140px rgba(255,153,51,0.2);
  animation:sp-breathe 2.4s ease-in-out infinite;
}
@keyframes sp-breathe {
  0%,100%{transform:scale(1);   box-shadow:0 0 70px rgba(99,102,241,0.6),0 0 140px rgba(255,153,51,0.2);}
  50%    {transform:scale(1.05);box-shadow:0 0 100px rgba(99,102,241,0.9),0 0 200px rgba(255,153,51,0.4);}
}
.sp-word-wrap { height:64px; overflow:hidden; margin-bottom:8px; }
.sp-word {
  font-size:52px; font-weight:900; letter-spacing:-2px;
  background:linear-gradient(90deg,#c0c0ff 0%,#FF9933 100%);
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  display:block; text-align:center;
  animation:sp-in .42s cubic-bezier(.22,1,.36,1) both;
}
@keyframes sp-in {
  from{transform:translateY(64px) scale(.92);opacity:0;filter:blur(6px);}
  to  {transform:translateY(0) scale(1);     opacity:1;filter:blur(0);}
}
.sp-lang {
  font-size:11px; font-weight:600; letter-spacing:3px;
  color:#2a2a3e; text-transform:uppercase; text-align:center;
  min-height:18px; margin-bottom:28px; transition:opacity .2s;
}
.sp-lang.fade{opacity:0;}
.sp-dots{display:flex;align-items:center;gap:8px;margin-bottom:10px;}
.sp-dot{width:7px;height:7px;border-radius:50%;animation:sp-pip 1.4s ease-in-out infinite;}
.sp-dot:nth-child(1){background:#6366f1;animation-delay:0s;}
.sp-dot:nth-child(2){background:#a855f7;animation-delay:.2s;}
.sp-dot:nth-child(3){background:#FF9933;animation-delay:.4s;}
@keyframes sp-pip{0%,100%{opacity:.2;transform:scale(.6);}50%{opacity:1;transform:scale(1.3);}}
.sp-ai-label {
  font-size:11px; color:#2a2a3e; letter-spacing:2px; font-weight:600;
  text-transform:uppercase; text-align:center; margin-bottom:36px;
  min-height:16px; transition:opacity .2s;
}
.sp-ai-label.fade{opacity:0;}
.sp-bar{width:200px;height:2px;background:#111827;border-radius:2px;overflow:hidden;}
.sp-fill{height:100%;width:0%;background:linear-gradient(90deg,#6366f1,#a855f7,#FF9933);border-radius:2px;transition:width .18s linear;}

/* ‚îÄ‚îÄ APP SHELL ‚îÄ‚îÄ */
#app {
  display: none;
  min-height: 100vh;
  background: var(--bg);
}
#app.on { display: flex; flex-direction: column; }

/* ‚îÄ‚îÄ TOP HEADER ‚îÄ‚îÄ */
.app-topbar {
  position: fixed; top:0; left:0; right:0; z-index:100;
  height: var(--nav-h);
  background: rgba(255,255,255,0.9);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid var(--border);
  display: flex; align-items: center;
  padding: 0 clamp(12px,3vw,24px);
  gap: 12px;
}
.app-topbar-logo {
  display:flex; align-items:center; gap:8px; text-decoration:none; flex-shrink:0;
}
.app-topbar-logo-icon {
  width:32px; height:32px; border-radius:10px;
  background:linear-gradient(135deg,#6366f1,#FF9933);
  display:flex; align-items:center; justify-content:center; font-size:16px;
}
.app-topbar-logo-name {
  font-size:18px; font-weight:900; letter-spacing:-.5px; color:#111;
}
.app-topbar-spacer { flex:1; }
.app-topbar-actions { display:flex; align-items:center; gap:8px; }

/* ‚îÄ‚îÄ LAYOUT ‚îÄ‚îÄ */
.app-layout {
  display: flex;
  padding-top: var(--nav-h);
  min-height: 100vh;
}

/* ‚îÄ‚îÄ SIDEBAR (desktop) ‚îÄ‚îÄ */
.app-sidebar {
  width: var(--sidebar-w);
  flex-shrink: 0;
  position: fixed;
  top: var(--nav-h);
  left: 0;
  bottom: 0;
  overflow-y: auto;
  scrollbar-width: none;
  padding: 16px 12px;
  border-right: 1px solid var(--border);
  background: var(--bg);
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.app-sidebar::-webkit-scrollbar { display:none; }

.sn-item {
  display:flex; align-items:center; gap:12px;
  padding:10px 14px; border-radius:14px;
  cursor:pointer; transition:background .15s, color .15s;
  font-size:14px; font-weight:500; color:var(--sub);
  border:none; background:transparent; width:100%; text-align:left;
}
.sn-item:hover { background:var(--card2); color:var(--text); }
.sn-item.active { background: linear-gradient(135deg,rgba(99,102,241,0.12),rgba(99,102,241,0.06)); color:var(--accent); font-weight:600; }
.sn-item .sn-icon { font-size:20px; flex-shrink:0; }
.sn-badge {
  margin-left:auto; font-size:10px; font-weight:700;
  background:#f43f5e; color:#fff; padding:2px 7px; border-radius:20px;
}

/* ‚îÄ‚îÄ MAIN CONTENT ‚îÄ‚îÄ */
.app-main {
  flex:1;
  margin-left: var(--sidebar-w);
  min-width:0;
  display:flex;
  justify-content:center;
}
.app-feed-wrap {
  width:100%;
  max-width: var(--max-feed);
  padding: 20px 0 100px;
}

/* Tabs ‚Äî now fills app-main */
.tab { display:none; animation:up .22s ease; width:100%; }
.tab.active { display:block; }
@keyframes up { from{opacity:0;transform:translateY(6px);} to{opacity:1;transform:translateY(0);} }
@keyframes liveblink { 0%,100%{opacity:1;} 50%{opacity:0.2;} }
@keyframes spin { from{transform:rotate(0deg);} to{transform:rotate(360deg);} }

/* Page headers scale up for desktop */
.page-title { font-size:clamp(22px,3vw,30px); padding:20px 20px 4px; }
.page-sub   { font-size:14px; padding:0 20px 16px; }

/* Cards stretch more on big screens */
.card,.compose,.ai-box,.prompt-card,.mcard,.ncard,.scard,.chart-card,.cal-grid,.phase,.sched,.vid-cell,.notif.unread,.notif {
  background:var(--card); transition:background .3s;
}
.snippet,.pc-body,.sug,.compose textarea { background:var(--card2); transition:background .3s; }
.page-title,.post-name,.pc-name,.ph-title,.sched-name,.mtitle,.vid-title { color:var(--text); }
.post-time,.post-text,.pc-meta,.ph-desc,.slbl,.vid-meta,.sched-pl,.nt,.ntitle { color:var(--sub); }
.chip { background:var(--chip-bg); color:var(--chip-col); }
.chip.on { background:#111; color:#fff; }
.compose textarea { color:var(--text); }
.sug { color:var(--text); }
.section-label { color:var(--sub); }

/* ‚îÄ‚îÄ BOTTOM NAV (mobile only) ‚îÄ‚îÄ */
.bottom-nav {
  display:none;
  position:fixed; bottom:0; left:0; right:0;
  height:62px;
  background:rgba(255,255,255,0.96);
  backdrop-filter:blur(20px);
  border-top:1px solid var(--border);
  z-index:100;
  padding: 6px 0 8px;
}
.ni {
  flex:1; display:flex; flex-direction:column;
  align-items:center; gap:2px;
  cursor:pointer; padding:2px 0;
}
.ni-icon { font-size:20px; line-height:1; position:relative; }
.ni-lbl  { font-size:10px; color:#bbb; font-weight:500; }
.ni.active .ni-lbl  { color:var(--accent); font-weight:700; }
.ni.active .ni-icon { filter:none; }
.nbadge  { position:absolute; top:-2px; right:-4px; width:7px; height:7px; border-radius:50%; background:#f43f5e; border:1.5px solid #fff; }

/* Modal overlay becomes fixed */
#modal-overlay {
  position: fixed !important;
  z-index: 500 !important;
}
#modal-sheet {
  max-width: 520px;
  margin: 0 auto;
  border-radius: 24px 24px 0 0;
}

/* ‚îÄ‚îÄ DARK MODE ‚îÄ‚îÄ */
body.dark {
  --bg: #0d0d14;
  --card: #1c1c2a;
  --card2: #13131e;
  --text: #e8e8f4;
  --sub: #8888a8;
  --border: #2e2e42;
  --chip-bg: #22223a;
  --chip-col: #a0a0c4;
}
body.dark .app-topbar {
  background: rgba(13,13,20,0.92);
}
body.dark .app-sidebar {
  background: var(--bg);
}
body.dark .bottom-nav {
  background: rgba(13,13,20,0.97);
}
body.dark .sn-item { color:var(--sub); }
body.dark .sn-item:hover { background:var(--card); color:var(--text); }
body.dark .sn-item.active { background:rgba(99,102,241,0.15); color:#8888f8; }
body.dark .chip.on { background:#6366f1; color:#fff; }
body.dark .app-topbar-logo-name { color:#e8e8f4; }
/* propagate dark to all existing dark selectors */
body.dark .card,
body.dark .prompt-card,
body.dark .mcard,
body.dark .ncard,
body.dark .compose,
body.dark .ai-box,
body.dark .chart-card,
body.dark .scard,
body.dark .phase,
body.dark .sched,
body.dark .vid-cell,
body.dark .notif,
body.dark .settings-card,
body.dark .translate-bar { background:var(--card) !important; border-color:var(--border) !important; }
body.dark .snippet,
body.dark .pc-body,
body.dark .sug,
body.dark .compose textarea,
body.dark .comment-panel,
body.dark .comment-input-row { background:var(--card2) !important; }
body.dark .comment-input { background:#22223a !important; color:var(--text) !important; }
body.dark .comment-name { color:var(--text) !important; }
body.dark .comment-text { color:var(--sub) !important; }
body.dark .post-name,.dark .pc-name,.dark .page-title,.dark .vid-title,.dark .prof-name,.dark .mtitle,.dark .ph-title,.dark .sched-name { color:var(--text) !important; }
body.dark .post-text { color:var(--sub) !important; }
body.dark [style*="color:#111"] { color:var(--text) !important; }
body.dark [style*="color:#333"] { color:#c4c4dc !important; }
body.dark [style*="color:#555"] { color:var(--sub) !important; }
body.dark [style*="color:#aaa"],[style*="color:#999"],[style*="color:#bbb"],[style*="color:#ccc"] { }
body.dark [style*="background:#fff;"],body.dark [style*="background: #fff"] { background:var(--card) !important; }
body.dark [style*="background:#f8f8fc"],body.dark [style*="background:#f0f0f5"],body.dark [style*="background:#eee"] { background:var(--card2) !important; }
body.dark #tab-profile [style*="color:#111"] { color:var(--text) !important; }
body.dark #tab-profile [style*="color:#aaa"],body.dark #tab-profile [style*="color:#999"],body.dark #tab-profile [style*="color:#555"] { color:var(--sub) !important; }
body.dark #tab-profile [style*="background:#fff"] { background:var(--card) !important; }
body.dark #tab-profile [style*="background:#f8f8fc"],body.dark #tab-profile [style*="background:#f0f0f5"] { background:var(--card2) !important; }
body.dark #tab-profile [style*="border-bottom"] { border-color:var(--border) !important; }
body.dark .cal-nav button { background:var(--card2); color:var(--text); }
body.dark .post-actions { border-top-color:var(--border) !important; }
body.dark .pact { color:#555 !important; border-right-color:var(--border) !important; }
body.dark .pact.liked { color:#f43f5e !important; }
body.dark .pact.saved { color:#6366f1 !important; }
body.dark .settings-card { background:var(--card) !important; }
body.dark .settings-card > div { border-color:var(--border) !important; }

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   RESPONSIVE BREAKPOINTS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

/* Tablet and up ‚Äî show sidebar */
@media (min-width: 768px) {
  .app-sidebar { display:flex; }
  .app-main { margin-left: var(--sidebar-w); }
  .bottom-nav { display:none !important; }
  .app-feed-wrap { padding: 24px 20px 80px; }
}

/* Wide ‚Äî wider sidebar, more content breathing room */
@media (min-width: 1200px) {
  :root { --sidebar-w: 240px; --max-feed: 720px; }
  .app-feed-wrap { padding: 28px 24px 80px; }
}
@media (min-width: 1600px) {
  :root { --sidebar-w: 260px; --max-feed: 780px; }
}

/* Mobile ‚Äî no sidebar, bottom nav */
@media (max-width: 767px) {
  :root { --nav-h: 54px; }
  .app-sidebar { display:none !important; }
  .app-main { margin-left: 0 !important; }
  .bottom-nav { display:flex !important; }
  .app-feed-wrap { padding: 12px 0 80px; }
  .card,.mcard,.ncard,.sched,.phase,.compose,.ai-box,.chart-card { margin-left:12px; margin-right:12px; }
  .stat-grid { padding: 0 12px 4px; }
  .chips { padding: 0 12px 14px; }
  .page-title { padding: 16px 14px 4px; font-size:22px; }
  .page-sub { padding: 0 14px 12px; }
  .section-label { padding: 12px 14px 6px; }
}

/* Small mobile */
@media (max-width: 399px) {
  .app-topbar-logo-name { font-size:16px; }
  .ni-lbl { font-size:9px; }
}


/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   COMPONENT CSS ‚Äî cards, posts, badges, prompts,
   calendar, stats, meetups, news, notifs, etc.
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

.page-title {
  font-size: 26px; font-weight: 700; color: #111;
  padding: 20px 20px 4px;
}
.page-sub {
  font-size: 13px; color: #999;
  padding: 0 20px 16px;
}

.section-label {
  font-size: 12px; font-weight: 600; color: #aaa;
  letter-spacing: 0.8px; text-transform: uppercase;
  padding: 16px 20px 8px;
}

/* Chips */
.chips {
  display: flex; gap: 8px;
  padding: 0 20px 16px;
  overflow-x: auto; scrollbar-width: none;
}
.chips::-webkit-scrollbar { display: none; }
.chip {
  flex-shrink: 0;
  padding: 7px 16px; border-radius: 20px;
  background: #ebebf0; color: #555;
  font-size: 13px; font-weight: 500; cursor: pointer;
  border: none; transition: all .2s;
}
.chip.on { background: #111; color: #fff; }

/* Card */
.card {
  margin: 0 16px 12px;
  background: #fff;
  border-radius: 18px;
  overflow: hidden;
  box-shadow: 0 2px 12px rgba(0,0,0,0.06);
}

/* Feed post */
.post-header {
  display: flex; align-items: center; gap: 10px;
  padding: 14px 14px 10px;
}
.post-av {
  width: 38px; height: 38px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 15px; font-weight: 700; color: #fff;
  flex-shrink: 0;
}
.post-name { font-size: 14px; font-weight: 600; color: #111; }
.post-time { font-size: 12px; color: #aaa; margin-top: 1px; }
.post-badge {
  margin-left: auto;
  font-size: 11px; font-weight: 600;
  padding: 4px 10px; border-radius: 20px;
}
.badge-ai { background: #fff3e0; color: #e65100; }
.badge-proof { background: #e8f5e9; color: #2e7d32; }

.post-text {
  font-size: 14px; color: #333; line-height: 1.6;
  padding: 0 14px 12px;
}

.post-img {
  width: 100%; height: 150px;
  display: flex; align-items: center; justify-content: center;
  font-size: 48px;
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   DARK MODE ‚Äî full coverage
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.phone.dark { background:#0d0d14 !important; color:#e8e8f4 !important; }
.phone.dark .screen { background:#0d0d14 !important; }
.phone.dark .statusbar { background:#0d0d14; }
.phone.dark .time,
.phone.dark .icons { color:#e8e8f4 !important; }

/* Cards & containers */
.phone.dark .card,
.phone.dark .prompt-card,
.phone.dark .mcard,
.phone.dark .ncard,
.phone.dark .compose,
.phone.dark .ai-box,
.phone.dark .chart-card,
.phone.dark .scard,
.phone.dark .phase,
.phone.dark .sched,
.phone.dark .vid-cell,
.phone.dark .notif,
.phone.dark .settings-card,
.phone.dark .translate-bar { background:#1c1c2a !important; border-color:#2e2e42 !important; box-shadow:0 2px 12px rgba(0,0,0,0.4) !important; }

/* Inner code / subdued blocks */
.phone.dark .snippet,
.phone.dark .pc-body,
.phone.dark .sug,
.phone.dark .compose textarea,
.phone.dark .comment-panel,
.phone.dark .comment-input-row { background:#13131e !important; }
.phone.dark .comment-input { background:#22223a !important; color:#e8e8f4 !important; border:1px solid #2e2e42 !important; }
.phone.dark .comment-item { border-bottom-color:#2e2e42 !important; }
.phone.dark .comment-name { color:#e8e8f4 !important; }
.phone.dark .comment-text { color:#a0a0c4 !important; }
.phone.dark .comment-time { color:#55556a !important; }

/* PRIMARY text ‚Äî bright & readable */
.phone.dark .post-name,
.phone.dark .pc-name,
.phone.dark .mtitle,
.phone.dark .ph-title,
.phone.dark .sched-name,
.phone.dark .page-title,
.phone.dark .vid-title,
.phone.dark .prof-name,
.phone.dark .section-label,
.phone.dark .comment-name,
.phone.dark h1, .phone.dark h2, .phone.dark h3 { color:#e8e8f4 !important; }

/* SECONDARY text ‚Äî clearly visible but softer */
.phone.dark .post-text { color:#c4c4dc !important; }
.phone.dark .post-time,
.phone.dark .pc-meta,
.phone.dark .ph-desc,
.phone.dark .slbl,
.phone.dark .sched-pl,
.phone.dark .page-sub,
.phone.dark .pc-stat,
.phone.dark .nt,
.phone.dark .ntm { color:#8888a8 !important; }

/* App header */
.phone.dark .app-head { background:#0d0d14 !important; }
.phone.dark .app-head [style*="color:var(--text)"] { color:#e8e8f4 !important; }
.phone.dark .app-head [style*="color:var(--sub)"] { color:#8888a8 !important; }

/* Chips */
.phone.dark .chip { background:#22223a !important; color:#a0a0c4 !important; border:1px solid #2e2e42 !important; }
.phone.dark .chip.on { background:#6366f1 !important; color:#fff !important; border-color:#6366f1 !important; }

/* Bottom nav */
.phone.dark .bottom-nav { background:#0d0d14 !important; border-top:1px solid #2e2e42 !important; }
.phone.dark .ni-lbl { color:#55556a !important; }
.phone.dark .ni-icon { color:#55556a !important; filter:none !important; }
.phone.dark .ni.active .ni-lbl { color:#6366f1 !important; }
.phone.dark .ni.active .ni-icon { color:#6366f1 !important; }

/* Dark mode toggle button */
.phone.dark #dark-btn { background:#22223a !important; border-color:#2e2e42 !important; color:#e8e8f4 !important; }

/* Language select */
.phone.dark #langSelect { background:#22223a !important; color:#e8e8f4 !important; border-color:#2e2e42 !important; }

/* Post actions */
.phone.dark .post-actions { border-top-color:#2e2e42 !important; }
.phone.dark .pact { color:#55556a !important; border-right-color:#2e2e42 !important; }
.phone.dark .pact.liked { color:#f43f5e !important; }
.phone.dark .pact.saved { color:#6366f1 !important; }
.phone.dark .pact:hover { color:#a0a0c4 !important; }

/* Buttons */
.phone.dark .btn-copy { background:#22223a !important; color:#a0a0c4 !important; }
.phone.dark .join-btn { background:#22223a !important; color:#e8e8f4 !important; }
.phone.dark #dark-profile-btn { background:#22223a !important; color:#e8e8f4 !important; border-color:#2e2e42 !important; }

/* Profile page ‚Äî override ALL inline colors */
.phone.dark #tab-profile { background:#0d0d14 !important; color:#e8e8f4 !important; }
.phone.dark #tab-profile [style*="color:#111"] { color:#e8e8f4 !important; }
.phone.dark #tab-profile [style*="color:#aaa"],
.phone.dark #tab-profile [style*="color:#999"],
.phone.dark #tab-profile [style*="color:#bbb"],
.phone.dark #tab-profile [style*="color:#ccc"],
.phone.dark #tab-profile [style*="color:#555"] { color:#8888a8 !important; }
.phone.dark #tab-profile [style*="background:#fff"] { background:#1c1c2a !important; }
.phone.dark #tab-profile [style*="background:#f8f8fc"],
.phone.dark #tab-profile [style*="background:#f8f8f0"],
.phone.dark #tab-profile [style*="background:#f0f0f5"],
.phone.dark #tab-profile [style*="background:#f0f0ff"],
.phone.dark #tab-profile [style*="background:#fff8f0"],
.phone.dark #tab-profile [style*="background:#f4f4f8"] { background:#22223a !important; }
.phone.dark #tab-profile [style*="border-bottom:1px solid #f0f0f5"],
.phone.dark #tab-profile [style*="border-bottom: 1px solid"] { border-color:#2e2e42 !important; }
.phone.dark #tab-profile .settings-card { background:#1c1c2a !important; }
.phone.dark #tab-profile .settings-card > div { border-color:#2e2e42 !important; }

/* Feed inline overrides */
.phone.dark #tab-feed [style*="color:#111"] { color:#e8e8f4 !important; }
.phone.dark #tab-feed [style*="color:#aaa"],
.phone.dark #tab-feed [style*="color:#888"],
.phone.dark #tab-feed [style*="color:#555"] { color:#8888a8 !important; }
.phone.dark #tab-feed [style*="background:#f8f8fc"],
.phone.dark #tab-feed [style*="background:#eee"],
.phone.dark #tab-feed [style*="background:#f0f0f5"] { background:#22223a !important; }

/* All tabs inline color overrides */
.phone.dark [style*="color:#111"] { color:#e8e8f4 !important; }
.phone.dark [style*="color:#333"] { color:#c4c4dc !important; }
.phone.dark [style*="color:#555"] { color:#8888a8 !important; }
.phone.dark [style*="color:#aaa"] { color:#8888a8 !important; }
.phone.dark [style*="color:#999"] { color:#8888a8 !important; }
.phone.dark [style*="color:#bbb"] { color:#55556a !important; }
.phone.dark [style*="color:#ccc"] { color:#55556a !important; }
.phone.dark [style*="background:#fff;"] { background:#1c1c2a !important; }
.phone.dark [style*="background: #fff"] { background:#1c1c2a !important; }
.phone.dark [style*="background:#f8f8fc"] { background:#22223a !important; }
.phone.dark [style*="background:#f0f0f5"] { background:#22223a !important; }
.phone.dark [style*="background:#eee"] { background:#22223a !important; }
.phone.dark [style*="border-bottom:1px solid #f0f0f5"] { border-color:#2e2e42 !important; }
.phone.dark [style*="border-top:1px solid #f0f0f5"] { border-color:#2e2e42 !important; }

/* Feed inline color overrides ‚Äî handled in global dark block above */

/* Post actions */
.post-actions {
  display: flex;
  border-top: 1px solid #f0f0f5;
}
.pact {
  flex: 1; display: flex; align-items: center; justify-content: center; gap: 4px;
  padding: 11px 0; font-size: 12px; color: #bbb; cursor: pointer;
  border-right: 1px solid #f0f0f5; transition: color .15s, transform .1s;
  font-weight: 500; user-select: none;
}
.pact:last-child { border-right: none; }
.pact:active { transform: scale(0.93); }
.pact.liked { color: #f43f5e !important; font-weight: 700; }
.pact.saved { color: #6366f1 !important; }

/* Comment panel */
.comment-panel {
  border-top: 1px solid #f0f0f5;
  background: #fafafa;
  max-height: 0;
  overflow: hidden;
  transition: max-height .3s ease;
}
.comment-panel.open { max-height: 300px; }
.comment-item {
  display: flex; gap: 9px; padding: 10px 14px;
  border-bottom: 1px solid #f5f5f8;
  align-items: flex-start;
}
.comment-av {
  width: 28px; height: 28px; border-radius: 50%;
  background: #e8e8f5;
  display: flex; align-items: center; justify-content: center;
  font-size: 11px; font-weight: 700; color: #6366f1; flex-shrink: 0;
}
.comment-name { font-size: 12px; font-weight: 700; color: #111; margin-bottom: 2px; }
.comment-text { font-size: 12px; color: #666; line-height: 1.45; }
.comment-time { font-size: 10px; color: #bbb; margin-left: auto; flex-shrink: 0; }
.comment-input-row {
  display: flex; align-items: center; gap: 8px;
  padding: 8px 12px; border-top: 1px solid #f0f0f5; background: #fff;
}
.comment-input {
  flex: 1; background: #f4f4f8; border: none; border-radius: 20px;
  padding: 7px 12px; font-size: 12px; outline: none;
  font-family: 'Inter', sans-serif; color: #111;
}

/* Code snippet */
.snippet {
  margin: 0 14px 12px;
  background: #f8f8fc;
  border: 1px solid #eee;
  border-radius: 12px;
  padding: 12px;
  font-family: monospace;
  font-size: 12px;
  color: #6366f1;
  line-height: 1.7;
}
.s-comment { color: #aaa; }
.s-kw { color: #FF9933; }
.s-str { color: #22c55e; }

/* Prompt card */
.prompt-card {
  margin: 0 16px 12px;
  background: #fff;
  border-radius: 18px;
  padding: 16px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.06);
  border-left: 3px solid #6366f1;
}
.pc-head { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
.pc-icon {
  width: 34px; height: 34px; border-radius: 10px;
  background: #f0f0ff;
  display: flex; align-items: center; justify-content: center; font-size: 16px;
}
.pc-name { font-size: 14px; font-weight: 600; color: #111; }
.pc-meta { font-size: 12px; color: #aaa; }
.pc-lang {
  margin-left: auto;
  background: #fff3e0; color: #e65100;
  font-size: 11px; font-weight: 600;
  padding: 3px 10px; border-radius: 20px;
}
.pc-body {
  background: #f8f8fc;
  border-radius: 10px;
  padding: 10px 12px;
  font-size: 13px; color: #555; line-height: 1.5;
  margin-bottom: 12px;
}
.pc-footer { display: flex; align-items: center; gap: 8px; }
.btn-run {
  background: #6366f1; color: #fff;
  border: none; padding: 8px 18px; border-radius: 20px;
  font-size: 13px; font-weight: 600; cursor: pointer;
}
.btn-copy {
  background: #f0f0f5; color: #555;
  border: none; padding: 8px 14px; border-radius: 20px;
  font-size: 13px; font-weight: 600; cursor: pointer;
}
.pc-stat { margin-left: auto; font-size: 12px; color: #aaa; }

/* Video cell */
.vid-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 0 16px 16px; }
.vid-cell {
  background: #fff; border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 2px 10px rgba(0,0,0,0.06);
  cursor: pointer;
}
.vid-thumb {
  height: 90px;
  display: flex; align-items: center; justify-content: center;
  font-size: 34px; position: relative;
}
.vid-play {
  position: absolute; width: 28px; height: 28px; border-radius: 50%;
  background: rgba(0,0,0,0.45);
  display: flex; align-items: center; justify-content: center;
  font-size: 11px; color: #fff;
}
.vid-info { padding: 8px 10px 10px; }
.vid-lang {
  display: inline-block;
  background: #fff3e0; color: #e65100;
  font-size: 10px; font-weight: 600;
  padding: 2px 8px; border-radius: 20px; margin-bottom: 4px;
}
.vid-title { font-size: 12px; font-weight: 600; color: #111; line-height: 1.3; margin-bottom: 2px; }
.vid-meta { font-size: 11px; color: #aaa; }

/* Translate bar */
.translate-bar {
  margin: 0 14px 10px;
  background: #f0f0ff;
  border: 1px solid #ddd5ff;
  border-radius: 10px;
  padding: 8px 12px;
}
.tbar-top {
  display: flex; justify-content: space-between; align-items: center;
}
.tbar-text {
  margin-top: 8px;
  font-size: 13px; color: #333; line-height: 1.6;
  padding-top: 8px;
  border-top: 1px solid #ddd5ff;
}

/* post-av ensure inside card-header */
.post-header { display:flex; align-items:center; gap:10px; padding:13px 13px 10px; }

/* ‚îÄ‚îÄ Dark Mode Variables ‚îÄ‚îÄ */
.phone { --bg:#f8f8fc; --card:#fff; --card2:#f8f8fc; --text:#111; --sub:#999; --border:#eee; --chip-bg:#ebebf0; --chip-col:#555; }
.phone.dark { --bg:#0e0e14; --card:#1a1a24; --card2:#22222e; --text:#f0f0f5; --sub:#777; --border:#2a2a38; --chip-bg:#22222e; --chip-col:#aaa; }
.phone { background: var(--bg); transition: background .3s, color .3s; }
.card,.compose,.ai-box,.prompt-card,.mcard,.ncard,.scard,.chart-card,.cal-grid,.phase,.sched,.vid-cell,.notif.unread,.notif { background: var(--card); transition: background .3s; }
.snippet,.pc-body,.sug,.compose textarea { background: var(--card2); transition: background .3s; }
.page-title,.post-name,.pc-name,.ph-title,.sched-name,.mtitle,.vid-title { color: var(--text); }
.post-time,.post-text,.pc-meta,.ph-desc,.slbl,.vid-meta,.sched-pl,.nt,.ntitle { color: var(--sub); }
.chip { background: var(--chip-bg); color: var(--chip-col); }
.chip.on { background: #111; color: #fff; }
.phone.dark .chip.on { background: #fff; color: #111; }
.compose textarea { color: var(--text); }
.sug { color: var(--text); }
.section-label { color: var(--sub); }
.statusbar .time,.statusbar .icons { color: var(--text); }
.bottom-nav { background: rgba(255,255,255,0.95); }
.phone.dark .bottom-nav { background: rgba(14,14,20,0.97); border-top-color: var(--border); }
.phone.dark .ni-lbl { color: #444; }
.phone.dark .ni.active .ni-lbl { color: #FF9933; }
.phone.dark .post-actions { border-top-color: var(--border); }
.phone.dark .pact { color: #444; border-right-color: var(--border); }
.phone.dark .pact.liked { color: #f43f5e; }
.phone.dark .cal-nav button { background: var(--card2); color: var(--text); }
.phone.dark .join-btn { background: #f0f0ff; color: #6366f1; }
.phone.dark .ncard { border-bottom: 1px solid var(--border); }
.phone.dark .app-head select { background: var(--card); color: var(--text); border-color: var(--border); }

.compose {
  margin: 0 16px 12px;
  border-radius: 18px;
  padding: 16px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.06);
}
.compose textarea {
  width: 100%;
  border: none; border-radius: 12px;
  padding: 12px; outline: none;
  font-family: 'Inter', sans-serif;
  font-size: 14px; line-height: 1.6;
  resize: none; min-height: 90px;
}
.compose textarea::placeholder { color: #bbb; }
.ctoolbar {
  display: flex; align-items: center; gap: 12px;
  padding-top: 12px;
}
.ctool { font-size: 20px; cursor: pointer; color: #bbb; }
.publish-btn {
  margin-left: auto;
  background: #FF9933; color: #fff;
  border: none; padding: 9px 22px; border-radius: 20px;
  font-size: 14px; font-weight: 600; cursor: pointer;
}

/* AI suggestion */
.ai-box {
  margin: 0 16px 12px;
  border-radius: 18px;
  padding: 14px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.06);
}
.ai-label {
  font-size: 11px; font-weight: 700; color: #6366f1;
  letter-spacing: 1px; text-transform: uppercase; margin-bottom: 10px;
}
.sug {
  background: #f8f8fc; border-radius: 12px;
  padding: 10px 12px; font-size: 13px; color: #444; line-height: 1.5;
  margin-bottom: 8px; cursor: pointer;
  transition: background .2s;
}
.sug:last-child { margin-bottom: 0; }
.sug:active { background: #eeeeff; }

/* Meetup card */
.mcard {
  margin: 0 16px 12px;
  background: #fff;
  border-radius: 18px;
  overflow: hidden;
  box-shadow: 0 2px 12px rgba(0,0,0,0.06);
}
.mcov {
  height: 90px;
  display: flex; align-items: center; justify-content: center;
  font-size: 40px; position: relative;
}
.mbadge {
  position: absolute; top: 10px; right: 10px;
  font-size: 10px; font-weight: 700;
  padding: 3px 10px; border-radius: 20px;
}
.mbody { padding: 12px 14px; }
.mtitle { font-size: 14px; font-weight: 700; color: #111; margin-bottom: 5px; }
.mmeta { display: flex; gap: 12px; font-size: 12px; color: #aaa; margin-bottom: 10px; }
.mfoot { display: flex; align-items: center; justify-content: space-between; }
.atts { display: flex; align-items: center; gap: 4px; }
.att-emojis { display: flex; }
.att-e {
  width: 22px; height: 22px; border-radius: 50%; border: 2px solid #fff;
  display: flex; align-items: center; justify-content: center;
  font-size: 11px; margin-left: -5px;
}
.att-e:first-child { margin-left: 0; }
.att-count { font-size: 11px; color: #aaa; }
.join-btn {
  background: #111; color: #fff;
  border: none; padding: 8px 20px; border-radius: 20px;
  font-size: 13px; font-weight: 600; cursor: pointer;
}

/* News */
.ncard {
  display: flex; gap: 12px;
  margin: 0 16px 10px; padding: 14px;
  background: #fff; border-radius: 16px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.05); cursor: pointer;
}
.nthumb {
  width: 64px; height: 64px; border-radius: 12px; flex-shrink: 0;
  display: flex; align-items: center; justify-content: center; font-size: 26px;
}
.nbody { flex: 1; min-width: 0; }
.nsrc { font-size: 10px; font-weight: 700; color: #FF9933; letter-spacing: 1px; text-transform: uppercase; margin-bottom: 4px; }
.ntitle { font-size: 13px; font-weight: 600; color: #111; line-height: 1.4; margin-bottom: 5px; }
.nmeta { font-size: 11px; color: #aaa; }
.ai-pill {
  display: inline-flex; align-items: center; gap: 3px;
  background: #f0f0ff; color: #6366f1;
  font-size: 10px; font-weight: 600;
  padding: 2px 8px; border-radius: 20px;
}

/* Calendar */
.cal-head { display: flex; align-items: center; justify-content: space-between; padding: 0 20px 14px; }
.cal-month { font-size: 18px; font-weight: 700; color: #111; }
.cal-nav { display: flex; gap: 6px; }
.cal-nav button {
  width: 30px; height: 30px; border-radius: 10px;
  background: #f0f0f5; border: none; color: #111; cursor: pointer; font-size: 15px;
}
.cal-grid { padding: 0 16px 14px; background: #fff; margin: 0 16px 12px; border-radius: 18px; box-shadow: 0 2px 12px rgba(0,0,0,0.06); overflow: hidden; }
.day-row { display: grid; grid-template-columns: repeat(7,1fr); text-align: center; padding: 12px 0 6px; }
.dl { font-size: 11px; font-weight: 600; color: #bbb; }
.cells { display: grid; grid-template-columns: repeat(7,1fr); gap: 2px; padding-bottom: 12px; }
.cell {
  aspect-ratio: 1; border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
  font-size: 13px; color: #888; cursor: pointer; transition: all .2s; position: relative;
}
.cell:hover { background: #f0f0f5; }
.cell.today { background: #FF9933; color: #fff; font-weight: 700; }
.cell.has-event::after {
  content: ''; position: absolute; bottom: 2px; left: 50%; transform: translateX(-50%);
  width: 3px; height: 3px; border-radius: 50%; background: #6366f1;
}
.cell.om { color: #ddd; }

.sched {
  margin: 0 16px 8px; padding: 12px 14px;
  background: #fff; border-radius: 14px;
  display: flex; gap: 12px; align-items: center;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}
.sched-t { font-size: 12px; color: #aaa; font-weight: 600; min-width: 44px; }
.sched-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }
.sched-body { flex: 1; }
.sched-name { font-size: 13px; font-weight: 600; color: #111; }
.sched-pl { font-size: 11px; color: #aaa; margin-top: 2px; }

/* Roadmap */
.phase {
  display: flex; gap: 14px;
  margin: 0 16px 12px; padding: 14px;
  background: #fff; border-radius: 16px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.05);
  align-items: flex-start;
}
.ph-num {
  width: 32px; height: 32px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 13px; font-weight: 700; flex-shrink: 0;
}
.ph-title { font-size: 14px; font-weight: 700; color: #111; margin-bottom: 3px; }
.ph-desc { font-size: 12px; color: #888; line-height: 1.5; }
.ph-tag {
  display: inline-block; font-size: 11px; font-weight: 600;
  padding: 2px 10px; border-radius: 20px; margin-top: 6px;
}

/* Stats */
.stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 0 16px 4px; }
.scard {
  background: #fff; border-radius: 16px;
  padding: 14px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}
.sico { font-size: 22px; margin-bottom: 8px; }
.sval { font-size: 22px; font-weight: 700; color: #111; }
.slbl { font-size: 11px; color: #aaa; margin-top: 2px; }
.schg { font-size: 12px; font-weight: 600; margin-top: 4px; }
.up { color: #22c55e; }
.dn { color: #f43f5e; }

.chart-card {
  margin: 0 16px 12px;
  background: #fff; border-radius: 16px;
  padding: 16px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}
.chart-head { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
.chart-ttl { font-size: 14px; font-weight: 600; color: #111; }
.chart-prd { font-size: 12px; color: #6366f1; font-weight: 600; }
.bars { display: flex; align-items: flex-end; gap: 6px; height: 72px; }
.bw { flex: 1; display: flex; flex-direction: column; align-items: center; gap: 4px; height: 100%; justify-content: flex-end; }
.b { width: 100%; border-radius: 5px 5px 0 0; min-height: 3px; }
.bl { font-size: 9px; color: #bbb; }

/* Notifs */
.notif {
  display: flex; gap: 12px; align-items: flex-start;
  margin: 0 16px 2px; padding: 14px;
  border-radius: 16px; cursor: pointer; transition: background .2s;
}
.notif.unread { background: #fff; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
.navo {
  width: 40px; height: 40px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 18px; flex-shrink: 0;
}
.nb { flex: 1; }
.nt { font-size: 13px; color: #333; line-height: 1.45; margin-bottom: 3px; }
.nt b { color: #111; }
.ntm { font-size: 11px; color: #bbb; }
.ndot { width: 8px; height: 8px; border-radius: 50%; background: #FF9933; flex-shrink: 0; margin-top: 5px; }

/* Bottom Nav */
.bottom-nav {
  position: absolute; bottom: 0; left: 0; right: 0;
  height: 78px;
  background: rgba(255,255,255,0.95);
  backdrop-filter: blur(20px);
  border-top: 1px solid #eee;
  display: flex; padding: 6px 0 16px;
  z-index: 200;
}
.ni {
  flex: 1; display: flex; flex-direction: column;
  align-items: center; gap: 3px;
  cursor: pointer; padding: 4px 0;
}
.ni-icon { font-size: 22px; line-height: 1; position: relative; }
.ni-lbl { font-size: 10px; color: #bbb; font-weight: 500; }
.ni.active .ni-lbl { color: #FF9933; font-weight: 700; }
.nbadge { position: absolute; top: -2px; right: -4px; width: 7px; height: 7px; border-radius: 50%; background: #f43f5e; border: 1.5px solid #fff; }

.home-pill { position: absolute; bottom: 6px; left: 50%; transform: translateX(-50%); width: 100px; height: 4px; border-radius: 2px; background: #ddd; z-index: 300; }

/* gradient helpers */
.ga { background: linear-gradient(135deg,#f8e8ff,#e8e0ff); }
.gb { background: linear-gradient(135deg,#e8f5e9,#d4edda); }
.gc { background: linear-gradient(135deg,#fff3e0,#ffe0b2); }
.gd { background: linear-gradient(135deg,#e3f2fd,#bbdefb); }
.ge { background: linear-gradient(135deg,#fce4ec,#f8bbd0); }


/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   DARK MODE ‚Äî COMPONENT OVERRIDES
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */



/* Notch */
.notch {
  position: absolute; top: 0; left: 50%; transform: translateX(-50%);
  width: 120px; height: 34px;
  background: #111;
  border-radius: 0 0 20px 20px;
  z-index: 100;
}

/* Status */
.statusbar {
  height: 48px;
  display: flex; align-items: flex-end; justify-content: space-between;
  padding: 0 24px 8px;
  flex-shrink: 0;
}
.time { font-size: 15px; font-weight: 600; color: #111; }
.icons { font-size: 13px; color: #111; }

/* Screen */
.screen {
  flex: 1; overflow-y: auto; overflow-x: hidden;
  scrollbar-width: none;
  padding-bottom: 80px;
}
.screen::-webkit-scrollbar { display: none; }

/* Tabs */
.tab { display: none; animation: up .25s ease; }
.tab.active { display: block; }
/* Indic script rendering */
#tab-feed .post-text,
#tab-feed .post-name,
#tab-feed .post-time,
#tab-feed .pc-name,
#tab-feed .pc-body,
#tab-feed .pc-meta,
#tab-feed .vid-title,
#tab-feed .pact { font-family: inherit; }

#tab-feed .post-text { font-size: 14px; line-height: 1.65; }

/* Slightly larger for dense Indic scripts */
#tab-feed[lang-script="indic"] .post-text { font-size: 15px; line-height: 1.8; letter-spacing: 0.01em; }

@keyframes up { from { opacity:0; transform:translateY(8px); } to { opacity:1; transform:translateY(0); } }
@keyframes spin { from { transform:rotate(0deg); } to { transform:rotate(360deg); } }

/* ‚îÄ‚îÄ Shared ‚îÄ‚îÄ */


/* ‚îÄ‚îÄ Additional web-specific overrides ‚îÄ‚îÄ */
.post-img { border-radius:12px; overflow:hidden; width:100%; }
.card { border-radius:18px; box-shadow:0 2px 12px rgba(0,0,0,0.06); margin-bottom:12px; overflow:hidden; }
.ncard { border-radius:16px; box-shadow:0 2px 10px rgba(0,0,0,0.05); }
.mcard { border-radius:18px; box-shadow:0 2px 12px rgba(0,0,0,0.06); }
.stat-grid { display:grid; grid-template-columns:1fr 1fr; gap:12px; padding:0 0 4px; }
.scard { border-radius:16px; box-shadow:0 2px 10px rgba(0,0,0,0.05); }
.chart-card { border-radius:16px; box-shadow:0 2px 10px rgba(0,0,0,0.05); margin-bottom:12px; }
.phase { border-radius:16px; box-shadow:0 2px 10px rgba(0,0,0,0.05); margin-bottom:12px; }
.sched { border-radius:14px; box-shadow:0 2px 8px rgba(0,0,0,0.05); margin-bottom:8px; }
.compose { border-radius:18px; box-shadow:0 2px 12px rgba(0,0,0,0.06); margin-bottom:12px; }
.ai-box { border-radius:18px; box-shadow:0 2px 12px rgba(0,0,0,0.06); margin-bottom:12px; }
.vid-cell { border-radius:14px; overflow:hidden; }
.prompt-card { border-radius:18px; box-shadow:0 2px 12px rgba(0,0,0,0.06); margin:0 0 12px; }
.cal-grid { border-radius:18px; box-shadow:0 2px 12px rgba(0,0,0,0.06); margin-bottom:12px; }
.notif { border-radius:16px; margin-bottom:4px; }
.notif.unread { box-shadow:0 2px 10px rgba(0,0,0,0.05); }

/* Remove old phone-specific .card margins for web ‚Äî use padding instead */
.app-feed-wrap .card,
.app-feed-wrap .compose,
.app-feed-wrap .ai-box,
.app-feed-wrap .prompt-card,
.app-feed-wrap .mcard,
.app-feed-wrap .ncard,
.app-feed-wrap .phase,
.app-feed-wrap .sched,
.app-feed-wrap .chart-card,
.app-feed-wrap .cal-grid,
.app-feed-wrap .stat-grid,
.app-feed-wrap .notif,
.app-feed-wrap .notif.unread {
  /* keep existing margins from original CSS, they work fine */
}

/* Ensure page-title uses var(--text) */
.page-title { color: var(--text) !important; font-size: clamp(20px,3vw,28px); }
.page-sub { color: var(--sub) !important; }
.section-label { color: var(--sub) !important; }

/* Modal fix for web */
#modal-overlay { position:fixed !important; z-index:9000 !important; }
#modal-sheet {
  position: absolute;
  bottom: 0; left: 0; right: 0;
  max-width: 560px;
  margin: 0 auto;
  border-radius: 24px 24px 0 0;
  max-height: 85vh;
  overflow-y: auto;
}

</style>
</head>
<body>

<!-- ‚ïê‚ïê‚ïê SPLASH ‚ïê‚ïê‚ïê -->
<div id="splash">
  <div class="sp-icon">üáÆüá≥</div>
  <div class="sp-word-wrap"><span class="sp-word" id="sp-word">Sianap</span></div>
  <div class="sp-lang" id="sp-lang">AI Community for Bharat</div>
  <div class="sp-dots">
    <div class="sp-dot"></div><div class="sp-dot"></div><div class="sp-dot"></div>
  </div>
  <div class="sp-ai-label" id="sp-ai">Initialising‚Ä¶</div>
  <div class="sp-bar"><div class="sp-fill" id="sp-fill"></div></div>
</div>

<!-- ‚ïê‚ïê‚ïê APP ‚ïê‚ïê‚ïê -->
<div id="app" style="--bg:#f6f6fb;--card:#fff;--card2:#f0f0f8;--text:#111827;--sub:#6b7280;--border:#e5e7eb;--chip-bg:#e5e7eb;--chip-col:#374151;">

  <!-- TOP BAR -->
  <header class="app-topbar">
    <a class="app-topbar-logo" href="#">
      <div class="app-topbar-logo-icon">üáÆüá≥</div>
      <div class="app-topbar-logo-name">Sianap</div>
    </a>
    <div class="app-topbar-spacer"></div>
    <div class="app-topbar-actions">
      <!-- Notifications bell -->
      <div onclick="go('notifs',null)" style="position:relative;width:34px;height:34px;border-radius:10px;background:var(--card2);display:flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer;border:1px solid var(--border);">
        üîî
        <span id="topbar-notif-badge" style="position:absolute;top:-4px;right:-4px;min-width:17px;height:17px;border-radius:10px;background:#f43f5e;color:#fff;font-size:10px;font-weight:700;display:flex;align-items:center;justify-content:center;padding:0 4px;border:2px solid var(--bg,#f6f6fb);">3</span>
      </div>
      <!-- Dark mode -->
      <div onclick="toggleDark()" id="dark-btn" style="width:34px;height:34px;border-radius:10px;background:var(--card2);display:flex;align-items:center;justify-content:center;font-size:16px;cursor:pointer;border:1px solid var(--border);">üåô</div>
      <!-- Language selector -->
      <div style="position:relative;">
        <select id="langSelect" onchange="setLang(this.value)" style="appearance:none;background:var(--card);border:1px solid var(--border);border-radius:10px;padding:6px 26px 6px 10px;font-size:12px;font-weight:600;color:var(--text);outline:none;cursor:pointer;">
          <option value="en">üåê EN</option>
          <option value="hi">üáÆüá≥ ‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
          <option value="pa">‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä</option>
          <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
          <option value="kn">‡≤ï‡≤®‡≥ç‡≤®‡≤°</option>
          <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
          <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
        </select>
        <span style="position:absolute;right:8px;top:50%;transform:translateY(-50%);font-size:10px;color:var(--sub);pointer-events:none;">‚ñæ</span>
      </div>
      <!-- Avatar -->
      <div onclick="go('profile',document.querySelector('.sn-item:last-child'))" style="width:34px;height:34px;border-radius:50%;background:linear-gradient(135deg,#6366f1,#FF9933);display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:700;color:#fff;cursor:pointer;">AS</div>
    </div>
  </header>

  <!-- LAYOUT -->
  <div class="app-layout">

    <!-- SIDEBAR -->
    <aside class="app-sidebar">
      <div class="sn-item active" onclick="go('feed',this)"><span class="sn-icon">üè†</span> Feed</div>
      <div class="sn-item" onclick="go('images',this)"><span class="sn-icon">üìö</span> Library</div>
      <div class="sn-item" onclick="go('post',this)"><span class="sn-icon">‚úèÔ∏è</span> Create</div>
      <div class="sn-item" onclick="go('meetup',this)"><span class="sn-icon">üóìÔ∏è</span> Meetups</div>
      <div class="sn-item" onclick="go('news',this)"><span class="sn-icon">üì∞</span> News</div>
      <div class="sn-item" onclick="go('calendar',this)"><span class="sn-icon">üìÖ</span> Schedule</div>
      <div class="sn-item" onclick="go('analytics',this)"><span class="sn-icon">üìä</span> Stats</div>

      <div class="sn-item" onclick="go('profile',this)"><span class="sn-icon">üë§</span> Profile</div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="app-main">
      <div class="app-feed-wrap">


    <!-- FEED -->
    <div class="tab active" id="tab-feed">
      <!-- Language banner (hidden by default) -->
      <div id="lang-banner" style="display:none;margin:0 16px 10px;background:#f0f0ff;border:1px solid #ddd5ff;border-radius:12px;padding:10px 12px;display:flex;align-items:center;gap:8px;">
        <span style="font-size:16px;">üåê</span>
        <div style="flex:1;font-size:12px;color:#444;line-height:1.4;">Feed language set to <b id="lang-name">English</b>. AI will offer translations on posts.</div>
        <span onclick="document.getElementById('lang-banner').style.display='none'" style="font-size:16px;color:#aaa;cursor:pointer;">‚úï</span>
      </div>

      <div class="chips" style="padding-top:4px;">
        <div class="chip on" onclick="feedFilter('all', this)">All</div>
        <div class="chip" onclick="feedFilter('prompts', this)">‚ö° Prompts</div>
        <div class="chip" onclick="feedFilter('videos', this)">üé¨ Videos</div>
        <div class="chip" onclick="feedFilter('images', this)">üì∏ Images</div>
        <div class="chip" onclick="feedFilter('audio', this)">üéôÔ∏è Audio</div>
        <div class="chip" onclick="feedFilter('indic', this)">üáÆüá≥ Indic Models</div>
        <div class="chip" onclick="feedFilter('discuss', this)">üí¨ Discuss</div>
        <div class="chip" onclick="feedFilter('live', this)" style="background:linear-gradient(135deg,#f43f5e,#ff6b6b);color:#fff;display:flex;align-items:center;gap:5px;"><span style="width:7px;height:7px;border-radius:50%;background:#fff;display:inline-block;animation:liveblink 1s infinite;"></span>üî¥ AI Live</div>
        <div class="chip" onclick="feedFilter('saved', this)" id="chip-saved" style="display:flex;align-items:center;gap:5px;">üîñ Saved <span id="saved-count-badge" style="display:none;background:#6366f1;color:#fff;font-size:10px;font-weight:700;padding:1px 6px;border-radius:10px;"></span></div>
      </div>

      <!-- AI LIVE section (hidden by default) -->
      <div id="feed-live" style="display:none;">
        <div style="padding:12px 16px 6px;font-size:12px;font-weight:700;color:#f43f5e;letter-spacing:1px;text-transform:uppercase;display:flex;align-items:center;gap:6px;">
          <span style="width:7px;height:7px;border-radius:50%;background:#f43f5e;animation:liveblink 1s infinite;display:inline-block;"></span>
          AI Summits &amp; Live Events
        </div>

        <!-- Video Card 1 ‚Äî Google I/O -->
        <div style="margin:0 16px 14px;background:#fff;border-radius:18px;overflow:hidden;box-shadow:0 2px 12px rgba(0,0,0,0.08);">
          <!-- Thumbnail (shown first, replaced by iframe on click) -->
          <div id="lv-thumb-1" onclick="playLiveVideo('1','XEzRZ35urlk')" style="background:linear-gradient(135deg,#1a1a2e,#16213e);height:200px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer;">
            <img src="https://img.youtube.com/vi/XEzRZ35urlk/hqdefault.jpg" alt="Google I/O 2024" style="width:100%;height:100%;object-fit:cover;position:absolute;inset:0;" onerror="this.style.display='none'">
            <div style="position:relative;z-index:1;width:64px;height:64px;background:rgba(244,63,94,0.9);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:28px;color:#fff;box-shadow:0 4px 20px rgba(244,63,94,0.5);">‚ñ∂</div>
            <div style="position:absolute;top:10px;left:10px;z-index:2;background:#f43f5e;color:#fff;font-size:10px;font-weight:700;padding:3px 10px;border-radius:20px;display:flex;align-items:center;gap:4px;"><span style="width:6px;height:6px;border-radius:50%;background:#fff;animation:liveblink 1s infinite;display:inline-block;"></span>LIVE</div>
            <div style="position:absolute;bottom:10px;right:10px;z-index:2;background:rgba(0,0,0,0.7);color:#fff;font-size:11px;padding:3px 8px;border-radius:6px;">2:12:00</div>
          </div>
          <!-- Iframe player (hidden until thumbnail clicked) -->
          <div id="lv-player-1" style="display:none;position:relative;padding-bottom:56.25%;height:0;overflow:hidden;background:#000;">
            <iframe id="lv-iframe-1" style="position:absolute;top:0;left:0;width:100%;height:100%;border:none;" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
          </div>
          <div style="padding:12px 14px;">
            <div style="font-size:14px;font-weight:700;color:#111;margin-bottom:4px;">Google I/O 2024 ‚Äî AI &amp; Gemini Keynote</div>
            <div style="font-size:12px;color:#999;margin-bottom:10px;">Google for Developers ¬∑ 2.1M views ¬∑ May 14, 2024</div>
            <div style="display:flex;gap:8px;">
              <button onclick="playLiveVideo('1','XEzRZ35urlk')" style="flex:1;padding:9px;border-radius:12px;background:#f43f5e;color:#fff;font-size:13px;font-weight:700;border:none;cursor:pointer;font-family:inherit;">‚ñ∂ Watch Now</button>
              <div style="padding:9px 14px;border-radius:12px;background:#f0f0f8;font-size:13px;font-weight:600;color:#6366f1;cursor:pointer;">üîñ</div>
            </div>
          </div>
        </div>

        <!-- Video Card 2 ‚Äî Microsoft Build -->
        <div style="margin:0 16px 14px;background:#fff;border-radius:18px;overflow:hidden;box-shadow:0 2px 12px rgba(0,0,0,0.08);">
          <div id="lv-thumb-2" onclick="playLiveVideo('2','8OViuvkZDlk')" style="background:linear-gradient(135deg,#0078d4,#00b4d8);height:200px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer;">
            <img src="https://img.youtube.com/vi/8OViuvkZDlk/hqdefault.jpg" alt="Microsoft Build 2024" style="width:100%;height:100%;object-fit:cover;position:absolute;inset:0;" onerror="this.style.display='none'">
            <div style="position:relative;z-index:1;width:64px;height:64px;background:rgba(0,120,212,0.9);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:28px;color:#fff;border:2px solid rgba(255,255,255,0.6);">‚ñ∂</div>
            <div style="position:absolute;top:10px;right:10px;z-index:2;background:#0078d4;color:#fff;font-size:10px;font-weight:700;padding:3px 10px;border-radius:20px;">Microsoft</div>
            <div style="position:absolute;bottom:10px;right:10px;z-index:2;background:rgba(0,0,0,0.7);color:#fff;font-size:11px;padding:3px 8px;border-radius:6px;">1:58:00</div>
          </div>
          <div id="lv-player-2" style="display:none;position:relative;padding-bottom:56.25%;height:0;overflow:hidden;background:#000;">
            <iframe id="lv-iframe-2" style="position:absolute;top:0;left:0;width:100%;height:100%;border:none;" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
          </div>
          <div style="padding:12px 14px;">
            <div style="font-size:14px;font-weight:700;color:#111;margin-bottom:4px;">Microsoft Build 2024 ‚Äî Copilot &amp; AI</div>
            <div style="font-size:12px;color:#999;margin-bottom:10px;">Microsoft ¬∑ 890K views ¬∑ May 21, 2024</div>
            <div style="display:flex;gap:8px;">
              <button onclick="playLiveVideo('2','8OViuvkZDlk')" style="flex:1;padding:9px;border-radius:12px;background:#0078d4;color:#fff;font-size:13px;font-weight:700;border:none;cursor:pointer;font-family:inherit;">‚ñ∂ Watch Now</button>
              <div style="padding:9px 14px;border-radius:12px;background:#f0f0f8;font-size:13px;font-weight:600;color:#6366f1;cursor:pointer;">üîñ</div>
            </div>
          </div>
        </div>

        <!-- Video Card 3 ‚Äî IndiaAI Mission -->
        <div style="margin:0 16px 14px;background:#fff;border-radius:18px;overflow:hidden;box-shadow:0 2px 12px rgba(0,0,0,0.08);">
          <div id="lv-thumb-3" onclick="playLiveVideo('3','pMWqxMd3Pkk')" style="background:linear-gradient(135deg,#FF9933,#138808);height:200px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer;">
            <img src="https://img.youtube.com/vi/pMWqxMd3Pkk/hqdefault.jpg" alt="IndiaAI Mission Summit" style="width:100%;height:100%;object-fit:cover;position:absolute;inset:0;" onerror="this.style.display='none'">
            <div style="position:relative;z-index:1;width:64px;height:64px;background:rgba(255,153,51,0.88);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:32px;color:#fff;">‚ñ∂</div>
            <div style="position:absolute;top:10px;left:10px;z-index:2;background:rgba(19,136,8,0.92);color:#fff;font-size:10px;font-weight:700;padding:3px 10px;border-radius:20px;">IndiaAI Official</div>
          </div>
          <div id="lv-player-3" style="display:none;position:relative;padding-bottom:56.25%;height:0;overflow:hidden;background:#000;">
            <iframe id="lv-iframe-3" style="position:absolute;top:0;left:0;width:100%;height:100%;border:none;" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
          </div>
          <div style="padding:12px 14px;">
            <div style="font-size:14px;font-weight:700;color:#111;margin-bottom:4px;">IndiaAI Mission Summit ‚Äî Full Sessions üáÆüá≥</div>
            <div style="font-size:12px;color:#999;margin-bottom:10px;">IndiaAI Mission ¬∑ Multiple sessions ¬∑ Feb 2024</div>
            <div style="display:flex;gap:8px;">
              <button onclick="playLiveVideo('3','pMWqxMd3Pkk')" style="flex:1;padding:9px;border-radius:12px;background:linear-gradient(135deg,#FF9933,#138808);color:#fff;font-size:13px;font-weight:700;border:none;cursor:pointer;font-family:inherit;">üáÆüá≥ Watch Now</button>
              <div style="padding:9px 14px;border-radius:12px;background:#f0f0f8;font-size:13px;font-weight:600;color:#6366f1;cursor:pointer;">üîñ</div>
            </div>
          </div>
        </div>

        <!-- Video Card 4 ‚Äî OpenAI Dev Day -->
        <div style="margin:0 16px 14px;background:#fff;border-radius:18px;overflow:hidden;box-shadow:0 2px 12px rgba(0,0,0,0.08);">
          <div id="lv-thumb-4" onclick="playLiveVideo('4','U9mJuUkhUzk')" style="background:linear-gradient(135deg,#111,#333);height:200px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer;">
            <img src="https://img.youtube.com/vi/U9mJuUkhUzk/hqdefault.jpg" alt="OpenAI Dev Day 2024" style="width:100%;height:100%;object-fit:cover;position:absolute;inset:0;" onerror="this.style.display='none'">
            <div style="position:relative;z-index:1;width:64px;height:64px;background:rgba(16,163,127,0.9);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:28px;color:#fff;border:2px solid rgba(255,255,255,0.3);">‚ñ∂</div>
            <div style="position:absolute;top:10px;right:10px;z-index:2;background:#10a37f;color:#fff;font-size:10px;font-weight:700;padding:3px 10px;border-radius:20px;">OpenAI</div>
            <div style="position:absolute;bottom:10px;right:10px;z-index:2;background:rgba(0,0,0,0.7);color:#fff;font-size:11px;padding:3px 8px;border-radius:6px;">45:00</div>
          </div>
          <div id="lv-player-4" style="display:none;position:relative;padding-bottom:56.25%;height:0;overflow:hidden;background:#000;">
            <iframe id="lv-iframe-4" style="position:absolute;top:0;left:0;width:100%;height:100%;border:none;" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
          </div>
          <div style="padding:12px 14px;">
            <div style="font-size:14px;font-weight:700;color:#111;margin-bottom:4px;">OpenAI Dev Day 2024 ‚Äî GPT-4o &amp; More</div>
            <div style="font-size:12px;color:#999;margin-bottom:10px;">OpenAI ¬∑ 4.2M views ¬∑ Nov 6, 2023</div>
            <div style="display:flex;gap:8px;">
              <button onclick="playLiveVideo('4','U9mJuUkhUzk')" style="flex:1;padding:9px;border-radius:12px;background:#10a37f;color:#fff;font-size:13px;font-weight:700;border:none;cursor:pointer;font-family:inherit;">‚ñ∂ Watch Now</button>
              <div style="padding:9px 14px;border-radius:12px;background:#f0f0f8;font-size:13px;font-weight:600;color:#6366f1;cursor:pointer;">üîñ</div>
            </div>
          </div>
        </div>

        <div style="padding:0 16px 20px;text-align:center;font-size:12px;color:#aaa;">
          Videos play directly in Sianap ¬∑ Powered by YouTube embed
        </div>

      </div>

      <div id="feed-list"></div>

      <!-- SAVED POSTS panel -->
      <div id="feed-saved" style="display:none;">
        <div style="padding:14px 16px 6px;font-size:12px;font-weight:700;color:#6366f1;letter-spacing:1px;text-transform:uppercase;display:flex;align-items:center;gap:6px;">üîñ Saved Posts</div>
        <div id="saved-posts-list"></div>
      </div>
    </div>

    <!-- LIBRARY -->
    <div class="tab" id="tab-images">
      <div class="page-title">Library</div>
      <div class="page-sub">Prompts ¬∑ Videos ¬∑ Notebooks</div>

      <div class="chips">
        <div class="chip on" onclick="libraryFilter('prompts', this)">‚ö° Prompts</div>
        <div class="chip" onclick="libraryFilter('videos', this)">üé¨ Videos</div>
        <div class="chip" onclick="libraryFilter('notebooks', this)">üìì Notebooks</div>
      </div>

      <div id="library-content"></div>
    </div>

    <!-- CREATE -->
    <div class="tab" id="tab-post">
      <div class="page-title">Create</div>
      <div class="page-sub">Post, prompt, video, or poll</div>

      <div class="chips">
        <div class="chip on" onclick="createFilter('text', this)">‚úçÔ∏è Text</div>
        <div class="chip" onclick="createFilter('prompt', this)">‚ö° Prompt</div>
        <div class="chip" onclick="createFilter('video', this)">üé¨ Video</div>
        <div class="chip" onclick="createFilter('poll', this)">üìä Poll</div>
      </div>

      <div id="create-content"></div>
    </div>

    <!-- MEETUP -->
    <div class="tab" id="tab-meetup">
      <div class="page-title">Meetups</div>
      <div class="page-sub">AI events near you</div>

      <div class="chips">
        <div class="chip on" onclick="meetupFilter('all', this)">All</div>
        <div class="chip" onclick="meetupFilter('online', this)">Online</div>
        <div class="chip" onclick="meetupFilter('bangalore', this)">Bangalore</div>
        <div class="chip" onclick="meetupFilter('mumbai', this)">Mumbai</div>
        <div class="chip" onclick="meetupFilter('free', this)">Free</div>
      </div>

      <div id="meetup-list"></div>
    </div>

    <!-- NEWS -->
    <div class="tab" id="tab-news">
      <div class="page-title">News</div>
      <div class="page-sub">AI-curated for India builders</div>

      <div class="chips">
        <div class="chip on" onclick="newsFilter('all', this)">All</div>
        <div class="chip" onclick="newsFilter('indiaai', this)">IndiaAI</div>
        <div class="chip" onclick="newsFilter('funding', this)">Funding</div>
        <div class="chip" onclick="newsFilter('research', this)">Research</div>
        <div class="chip" onclick="newsFilter('policy', this)">Policy</div>
      </div>

      <div id="news-list"></div>
    </div>

    <!-- CALENDAR -->
    <div class="tab" id="tab-calendar">
      <div class="page-title">Schedule</div>
      <div class="page-sub">Content & roadmap planning</div>

      <div class="chips">
        <div class="chip on" onclick="scheduleFilter('today', this)">üìÖ Today</div>
        <div class="chip" onclick="scheduleFilter('upcoming', this)">üìÜ Upcoming</div>
        <div class="chip" onclick="scheduleFilter('roadmap', this)">üó∫Ô∏è Roadmap</div>
      </div>

      <div id="schedule-content"></div>
    </div>

    <!-- ANALYTICS -->
    <div class="tab" id="tab-analytics">
      <div class="page-title">Stats</div>
      <div class="page-sub">Your performance overview</div>

      <div class="chips">
        <div class="chip on" onclick="statsFilter('overview', this)">üìä Overview</div>
        <div class="chip" onclick="statsFilter('posts', this)">üìù Posts</div>
        <div class="chip" onclick="statsFilter('prompts', this)">‚ö° Prompts</div>
        <div class="chip" onclick="statsFilter('audience', this)">üë• Audience</div>
      </div>

      <div id="stats-content"></div>
    </div>

    <!-- NOTIFS -->
    <div class="tab" id="tab-notifs">
      <div style="display:flex;align-items:center;justify-content:space-between;padding:20px 20px 4px;">
        <div class="page-title" style="padding:0;">Notifications</div>
        <div onclick="clearAllNotifs()" style="font-size:13px;color:#6366f1;font-weight:600;cursor:pointer;">Clear all</div>
      </div>
      <div class="page-sub">What's happening</div>
      <div id="notif-list"></div>
    </div>

    <!-- PROFILE -->
    <div class="tab" id="tab-profile">

      <!-- Hidden file inputs -->
      <input type="file" id="cover-file-input" accept="image/*" style="display:none" onchange="handleCoverUpload(event)">
      <input type="file" id="avatar-file-input" accept="image/*" style="display:none" onchange="handleAvatarUpload(event)">

      <!-- Cover -->
      <div id="profile-cover" style="height:160px;background:linear-gradient(135deg,#6366f1,#a855f7,#FF9933);position:relative;overflow:hidden;border-radius:0 0 0 0;">
        <img id="cover-img" src="" alt="" style="display:none;width:100%;height:100%;object-fit:cover;position:absolute;inset:0;">
        <!-- Cover upload button -->
        <div onclick="showImageSourcePicker('cover')" style="position:absolute;bottom:10px;right:12px;display:flex;align-items:center;gap:6px;padding:6px 12px;background:rgba(0,0,0,0.4);border-radius:20px;cursor:pointer;backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,0.2);">
          <span style="font-size:13px;">üì∑</span>
          <span style="font-size:11px;font-weight:600;color:#fff;">Change Cover</span>
        </div>
        <!-- Dark mode btn -->
        <button onclick="toggleDark()" id="dark-profile-btn" style="position:absolute;top:12px;right:12px;padding:6px 12px;border-radius:20px;background:rgba(0,0,0,0.3);color:#fff;border:1px solid rgba(255,255,255,0.3);font-size:11px;font-weight:600;cursor:pointer;font-family:'Inter',sans-serif;backdrop-filter:blur(8px);">üåô Dark</button>
      </div>

      <!-- Avatar row ‚Äî sits ON the cover bottom edge -->
      <div style="padding:0 20px;display:flex;align-items:flex-end;justify-content:space-between;margin-top:-44px;position:relative;z-index:2;">
        <!-- Avatar with upload ring -->
        <div style="position:relative;display:inline-block;">
          <div id="profile-avatar" style="width:88px;height:88px;border-radius:50%;background:linear-gradient(135deg,#6366f1,#FF9933);border:4px solid var(--bg,#f6f6fb);display:flex;align-items:center;justify-content:center;font-size:26px;font-weight:800;color:#fff;overflow:hidden;box-shadow:0 4px 16px rgba(0,0,0,0.2);">
            <span id="av-initials">AS</span>
            <img id="av-img" src="" alt="" style="display:none;width:100%;height:100%;object-fit:cover;position:absolute;inset:0;">
          </div>
          <!-- Camera badge -->
          <div onclick="showImageSourcePicker('avatar')" style="position:absolute;bottom:2px;right:2px;width:26px;height:26px;border-radius:50%;background:#6366f1;display:flex;align-items:center;justify-content:center;cursor:pointer;border:2px solid var(--bg,#f6f6fb);font-size:13px;">üì∑</div>
        </div>
        <div style="padding-bottom:8px;display:flex;gap:8px;">
          <button onclick="openModal('editProfile')" style="padding:8px 18px;border-radius:20px;background:#6366f1;color:#fff;border:none;font-size:12px;font-weight:600;cursor:pointer;font-family:'Inter',sans-serif;">‚úèÔ∏è Edit Profile</button>
        </div>
      </div>

      <!-- Image source picker modal (inline) -->
      <div id="img-source-picker" style="display:none;position:fixed;inset:0;z-index:8000;background:rgba(0,0,0,0.5);align-items:flex-end;justify-content:center;">
        <div style="background:#fff;border-radius:24px 24px 0 0;width:100%;max-width:520px;padding:20px 20px 32px;">
          <div style="width:36px;height:4px;background:#e0e0e0;border-radius:2px;margin:0 auto 20px;"></div>
          <div style="font-size:15px;font-weight:700;color:#111;margin-bottom:16px;" id="img-picker-title">Choose Photo</div>
          <div style="display:flex;flex-direction:column;gap:2px;">
            <div onclick="pickImageSource('camera')" style="display:flex;align-items:center;gap:14px;padding:14px 16px;border-radius:14px;cursor:pointer;transition:background .15s;" onmouseover="this.style.background='#f5f5ff'" onmouseout="this.style.background=''">
              <span style="font-size:22px;">üì∑</span><div><div style="font-size:14px;font-weight:600;color:#111;">Camera</div><div style="font-size:12px;color:#999;">Take a new photo</div></div>
            </div>
            <div onclick="pickImageSource('gallery')" style="display:flex;align-items:center;gap:14px;padding:14px 16px;border-radius:14px;cursor:pointer;transition:background .15s;" onmouseover="this.style.background='#f5f5ff'" onmouseout="this.style.background=''">
              <span style="font-size:22px;">üñºÔ∏è</span><div><div style="font-size:14px;font-weight:600;color:#111;">Photo Gallery / Desktop</div><div style="font-size:12px;color:#999;">Upload from your device</div></div>
            </div>
            <div onclick="pickImageSource('drive')" style="display:flex;align-items:center;gap:14px;padding:14px 16px;border-radius:14px;cursor:pointer;transition:background .15s;" onmouseover="this.style.background='#f5f5ff'" onmouseout="this.style.background=''">
              <span style="font-size:22px;">üìÅ</span><div><div style="font-size:14px;font-weight:600;color:#111;">Google Drive</div><div style="font-size:12px;color:#999;">Choose from Drive</div></div>
            </div>
            <div onclick="pickImageSource('url')" style="display:flex;align-items:center;gap:14px;padding:14px 16px;border-radius:14px;cursor:pointer;transition:background .15s;" onmouseover="this.style.background='#f5f5ff'" onmouseout="this.style.background=''">
              <span style="font-size:22px;">üîó</span><div><div style="font-size:14px;font-weight:600;color:#111;">Paste Image URL</div><div style="font-size:12px;color:#999;">From web or cloud link</div></div>
            </div>
          </div>
          <button onclick="closeImagePicker()" style="width:100%;margin-top:16px;padding:13px;border-radius:14px;background:#f0f0f8;color:#555;border:none;font-size:14px;font-weight:600;cursor:pointer;">Cancel</button>
        </div>
      </div>

      <!-- Name & stats -->
      <div style="padding:0 20px 14px;">
        <div style="font-size:18px;font-weight:800;color:#111;" class="prof-name" id="display-name">Amandeep Singh</div>
        <div style="font-size:12px;color:#999;margin-top:2px;" id="display-handle">@amandeepsingh ¬∑ AI Builder ¬∑ Bangalore üáÆüá≥</div>
        <div style="display:flex;gap:0;margin-top:12px;background:#f8f8fc;border-radius:14px;overflow:hidden;">
          <div style="flex:1;text-align:center;padding:10px 4px;border-right:1px solid #eee;"><div style="font-size:15px;font-weight:800;color:#111;">10.4K</div><div style="font-size:9px;color:#aaa;margin-top:1px;">Followers</div></div>
          <div style="flex:1;text-align:center;padding:10px 4px;border-right:1px solid #eee;"><div style="font-size:15px;font-weight:800;color:#111;">842</div><div style="font-size:9px;color:#aaa;margin-top:1px;">Following</div></div>
          <div style="flex:1;text-align:center;padding:10px 4px;border-right:1px solid #eee;"><div style="font-size:15px;font-weight:800;color:#111;">98</div><div style="font-size:9px;color:#aaa;margin-top:1px;">AI Posts</div></div>
          <div style="flex:1;text-align:center;padding:10px 4px;"><div style="font-size:15px;font-weight:800;color:#FF9933;">‚≠ê4.9</div><div style="font-size:9px;color:#aaa;margin-top:1px;">Rating</div></div>
        </div>
      </div>

      <!-- Scroll Wellness -->
      <div style="margin:0 16px 12px;background:linear-gradient(135deg,#f0f0ff,#fff8f0);border-radius:18px;padding:14px;box-shadow:0 2px 10px rgba(0,0,0,0.05);">
        <div style="font-size:11px;font-weight:700;color:#6366f1;letter-spacing:1px;text-transform:uppercase;margin-bottom:12px;">üßò Scroll Wellness</div>
        <div style="display:flex;gap:8px;margin-bottom:12px;">
          <div style="flex:1;background:#fff;border-radius:12px;padding:10px;text-align:center;"><div style="font-size:18px;font-weight:800;color:#6366f1;">1h 42m</div><div style="font-size:10px;color:#aaa;margin-top:2px;">Today's screen time</div></div>
          <div style="flex:1;background:#fff;border-radius:12px;padding:10px;text-align:center;"><div style="font-size:18px;font-weight:800;color:#FF9933;">2.4√ó</div><div style="font-size:10px;color:#aaa;margin-top:2px;">vs daily avg</div></div>
        </div>
        <div style="display:flex;flex-direction:column;gap:8px;margin-bottom:12px;">
          <div><div style="display:flex;justify-content:space-between;margin-bottom:3px;"><span style="font-size:11px;color:#555;">üìú Scrolling</span><span style="font-size:11px;font-weight:700;color:#333;">58%</span></div><div style="height:5px;background:#f0f0f5;border-radius:3px;"><div style="height:100%;width:58%;background:#6366f1;border-radius:3px;"></div></div></div>
          <div><div style="display:flex;justify-content:space-between;margin-bottom:3px;"><span style="font-size:11px;color:#555;">‚úçÔ∏è Creating</span><span style="font-size:11px;font-weight:700;color:#333;">22%</span></div><div style="height:5px;background:#f0f0f5;border-radius:3px;"><div style="height:100%;width:22%;background:#FF9933;border-radius:3px;"></div></div></div>
          <div><div style="display:flex;justify-content:space-between;margin-bottom:3px;"><span style="font-size:11px;color:#555;">‚ö° Prompts</span><span style="font-size:11px;font-weight:700;color:#333;">12%</span></div><div style="height:5px;background:#f0f0f5;border-radius:3px;"><div style="height:100%;width:12%;background:#22c55e;border-radius:3px;"></div></div></div>
          <div><div style="display:flex;justify-content:space-between;margin-bottom:3px;"><span style="font-size:11px;color:#555;">üí¨ Commenting</span><span style="font-size:11px;font-weight:700;color:#333;">8%</span></div><div style="height:5px;background:#f0f0f5;border-radius:3px;"><div style="height:100%;width:8%;background:#f43f5e;border-radius:3px;"></div></div></div>
        </div>
        <div style="background:#fff;border-radius:12px;padding:12px;">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;"><span style="font-size:13px;font-weight:600;color:#111;">‚è±Ô∏è Daily Scroll Limit</span><span id="limit-val" style="font-size:13px;font-weight:800;color:#6366f1;">2h 00m</span></div>
          <input type="range" min="30" max="300" value="120" step="30" id="scroll-limit" oninput="updateLimit(this.value)" style="width:100%;accent-color:#6366f1;cursor:pointer;">
          <div style="display:flex;justify-content:space-between;margin-top:4px;"><span style="font-size:10px;color:#aaa;">30m</span><span style="font-size:10px;color:#aaa;">5h</span></div>
        </div>
        <div style="margin-top:10px;display:flex;flex-direction:column;gap:10px;">
          <div style="display:flex;justify-content:space-between;align-items:center;"><span style="font-size:12px;color:#555;">üîî Break reminder every 30 min</span><div onclick="toggleSwitch(this)" class="sw-on" style="width:38px;height:21px;border-radius:11px;background:#FF9933;cursor:pointer;position:relative;transition:background .2s;flex-shrink:0;"><div style="width:17px;height:17px;border-radius:50%;background:#fff;position:absolute;top:2px;right:2px;box-shadow:0 1px 3px rgba(0,0,0,0.25);transition:all .2s;"></div></div></div>
          <div style="display:flex;justify-content:space-between;align-items:center;"><span style="font-size:12px;color:#555;">üåô Night mode after 10 PM</span><div onclick="toggleSwitch(this)" class="sw-on" style="width:38px;height:21px;border-radius:11px;background:#FF9933;cursor:pointer;position:relative;transition:background .2s;flex-shrink:0;"><div style="width:17px;height:17px;border-radius:50%;background:#fff;position:absolute;top:2px;right:2px;box-shadow:0 1px 3px rgba(0,0,0,0.25);transition:all .2s;"></div></div></div>
          <div style="display:flex;justify-content:space-between;align-items:center;"><span style="font-size:12px;color:#555;">üìä Weekly usage report</span><div onclick="toggleSwitch(this)" style="width:38px;height:21px;border-radius:11px;background:#eee;cursor:pointer;position:relative;transition:background .2s;flex-shrink:0;"><div style="width:17px;height:17px;border-radius:50%;background:#fff;position:absolute;top:2px;left:2px;box-shadow:0 1px 3px rgba(0,0,0,0.25);transition:all .2s;"></div></div></div>
        </div>
      </div>

      <!-- Account Settings -->
      <div style="margin:0 16px 12px;background:#fff;border-radius:18px;overflow:hidden;box-shadow:0 2px 10px rgba(0,0,0,0.05);" class="settings-card">
        <div style="padding:12px 16px;font-size:10px;font-weight:700;color:#aaa;letter-spacing:1.2px;text-transform:uppercase;border-bottom:1px solid #f0f0f5;">Account</div>
        <div onclick="openModal('editProfile')" style="display:flex;align-items:center;gap:12px;padding:13px 16px;border-bottom:1px solid #f0f0f5;cursor:pointer;"><span style="font-size:18px;">üë§</span><span style="flex:1;font-size:14px;color:#111;font-weight:500;">Edit Profile</span><span style="font-size:14px;color:#ccc;">‚Ä∫</span></div>
        <div onclick="openModal('notifications')" style="display:flex;align-items:center;gap:12px;padding:13px 16px;border-bottom:1px solid #f0f0f5;cursor:pointer;"><span style="font-size:18px;">üîî</span><span style="flex:1;font-size:14px;color:#111;font-weight:500;">Notifications</span><span style="font-size:14px;color:#ccc;">‚Ä∫</span></div>
        <div onclick="openModal('language')" style="display:flex;align-items:center;gap:12px;padding:13px 16px;border-bottom:1px solid #f0f0f5;cursor:pointer;"><span style="font-size:18px;">üåê</span><span style="flex:1;font-size:14px;color:#111;font-weight:500;">Language & Region</span><span style="font-size:12px;color:#aaa;margin-right:4px;" id="lang-display">English</span><span style="font-size:14px;color:#ccc;">‚Ä∫</span></div>
        <div onclick="openModal('appearance')" style="display:flex;align-items:center;gap:12px;padding:13px 16px;cursor:pointer;"><span style="font-size:18px;">üé®</span><span style="flex:1;font-size:14px;color:#111;font-weight:500;">Appearance</span><span style="font-size:14px;color:#ccc;">‚Ä∫</span></div>
      </div>

      <!-- Privacy -->
      <div style="margin:0 16px 12px;background:#fff;border-radius:18px;overflow:hidden;box-shadow:0 2px 10px rgba(0,0,0,0.05);" class="settings-card">
        <div style="padding:12px 16px;font-size:10px;font-weight:700;color:#aaa;letter-spacing:1.2px;text-transform:uppercase;border-bottom:1px solid #f0f0f5;">Privacy & Safety</div>
        <div onclick="openModal('privacy')" style="display:flex;align-items:center;gap:12px;padding:13px 16px;border-bottom:1px solid #f0f0f5;cursor:pointer;"><span style="font-size:18px;">üîí</span><span style="flex:1;font-size:14px;color:#111;font-weight:500;">Privacy Settings</span><span style="font-size:14px;color:#ccc;">‚Ä∫</span></div>
        <div onclick="openModal('whoCanSee')" style="display:flex;align-items:center;gap:12px;padding:13px 16px;border-bottom:1px solid #f0f0f5;cursor:pointer;"><span style="font-size:18px;">üëÅÔ∏è</span><span style="flex:1;font-size:14px;color:#111;font-weight:500;">Who can see my posts</span><span style="font-size:12px;color:#aaa;margin-right:4px;" id="visibility-display">Everyone</span><span style="font-size:14px;color:#ccc;">‚Ä∫</span></div>
        <div onclick="openModal('blocked')" style="display:flex;align-items:center;gap:12px;padding:13px 16px;cursor:pointer;"><span style="font-size:18px;">üö´</span><span style="flex:1;font-size:14px;color:#111;font-weight:500;">Blocked Accounts</span><span style="font-size:12px;color:#aaa;margin-right:4px;">3</span><span style="font-size:14px;color:#ccc;">‚Ä∫</span></div>
      </div>

      <!-- Support -->
      <div style="margin:0 16px 12px;background:#fff;border-radius:18px;overflow:hidden;box-shadow:0 2px 10px rgba(0,0,0,0.05);" class="settings-card">
        <div style="padding:12px 16px;font-size:10px;font-weight:700;color:#aaa;letter-spacing:1.2px;text-transform:uppercase;border-bottom:1px solid #f0f0f5;">Support</div>
        <div onclick="openModal('helpCenter')" style="display:flex;align-items:center;gap:12px;padding:13px 16px;border-bottom:1px solid #f0f0f5;cursor:pointer;"><span style="font-size:18px;">‚ùì</span><span style="flex:1;font-size:14px;color:#111;font-weight:500;">Help Center</span><span style="font-size:14px;color:#ccc;">‚Ä∫</span></div>
        <div onclick="openModal('feedback')" style="display:flex;align-items:center;gap:12px;padding:13px 16px;border-bottom:1px solid #f0f0f5;cursor:pointer;"><span style="font-size:18px;">üìù</span><span style="flex:1;font-size:14px;color:#111;font-weight:500;">Send Feedback</span><span style="font-size:14px;color:#ccc;">‚Ä∫</span></div>
        <div onclick="openModal('rateApp')" style="display:flex;align-items:center;gap:12px;padding:13px 16px;cursor:pointer;"><span style="font-size:18px;">‚≠ê</span><span style="flex:1;font-size:14px;color:#111;font-weight:500;">Rate Sianap</span><span style="font-size:14px;color:#ccc;">‚Ä∫</span></div>
      </div>

      <div style="padding:0 16px 12px;">
        <button onclick="openModal('logout')" style="width:100%;padding:13px;border-radius:14px;background:#fce4ec;color:#c62828;border:none;font-size:14px;font-weight:700;cursor:pointer;font-family:'Inter',sans-serif;">üö™ Log Out</button>
      </div>
      <div style="text-align:center;padding-bottom:24px;font-size:11px;color:#bbb;">Sianap v1.0.0 ¬∑ Made with ‚ù§Ô∏è for India üáÆüá≥</div>
    </div>

    <!-- ‚ïê‚ïê MODALS OVERLAY ‚ïê‚ïê -->
    <div id="modal-overlay" onclick="if(event.target===this)closeModal()" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.55);z-index:300;align-items:flex-end;">
      <div id="modal-sheet" style="background:#fff;border-radius:24px 24px 0 0;width:100%;max-height:88%;overflow-y:auto;padding-bottom:24px;transform:translateY(100%);transition:transform .32s cubic-bezier(.4,0,.2,1);">
        <div style="width:36px;height:4px;background:#e0e0e0;border-radius:2px;margin:10px auto 0;"></div>
        <div id="modal-content"></div>
      </div>
    </div>



      </div><!-- /app-feed-wrap -->
    </main><!-- /app-main -->

  </div><!-- /app-layout -->

  <!-- BOTTOM NAV (mobile) -->
  <nav class="bottom-nav">
    <div class="ni active" onclick="go('feed',this)"><div class="ni-icon">üè†</div><div class="ni-lbl">Feed</div></div>
    <div class="ni" onclick="go('images',this)"><div class="ni-icon">üìö</div><div class="ni-lbl">Library</div></div>
    <div class="ni" onclick="go('post',this)"><div class="ni-icon">‚úèÔ∏è</div><div class="ni-lbl">Create</div></div>
    <div class="ni" onclick="go('meetup',this)"><div class="ni-icon">üóìÔ∏è</div><div class="ni-lbl">Meetups</div></div>
    <div class="ni" onclick="go('news',this)"><div class="ni-icon">üì∞</div><div class="ni-lbl">News</div></div>
    <div class="ni" onclick="go('calendar',this)"><div class="ni-icon">üìÖ</div><div class="ni-lbl">Schedule</div></div>
    <div class="ni" onclick="go('analytics',this)"><div class="ni-icon">üìä</div><div class="ni-lbl">Stats</div></div>
    <div class="ni" onclick="go('notifs',this)">
      <div class="ni-icon">üîî<div class="nbadge"></div></div>
      <div class="ni-lbl">Alerts</div>
    </div>
    <div class="ni" onclick="go('profile',this)"><div class="ni-icon">üë§</div><div class="ni-lbl">Profile</div></div>
  </nav>

</div><!-- /app -->

<script>
// go() overridden below

// toggleDark overridden below

// ‚îÄ‚îÄ Toggle switch helper ‚îÄ‚îÄ
function toggleSwitch(el) {
  const isOn = el.classList.toggle('sw-on');
  el.style.background = isOn ? '#FF9933' : '#eee';
  const dot = el.querySelector('div');
  if (dot) { dot.style.right = isOn ? '2px' : ''; dot.style.left = isOn ? '' : '2px'; }
}

function updateLimit(v) {
  const h = Math.floor(v/60), m = v%60;
  const el = document.getElementById('limit-val');
  if (el) el.textContent = (h>0?h+'h ':'') + (m>0?m+'m':'');
}

// ‚îÄ‚îÄ Poll: add option ‚îÄ‚îÄ
let pollOptCount = 4;
const optLabels = ['A','B','C','D','E','F'];
function addPollOption() {
  if (pollOptCount >= 6) return;
  const opts = document.getElementById('poll-opts');
  if (!opts) return;
  const lbl = optLabels[pollOptCount];
  const div = document.createElement('div');
  div.style.cssText = 'display:flex;gap:8px;align-items:center;';
  div.innerHTML = `<div style="width:28px;height:28px;border-radius:50%;background:#f0f0ff;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#6366f1;flex-shrink:0;">${lbl}</div>
    <input placeholder="Option ${lbl}" style="flex:1;background:#f8f8fc;border:none;border-radius:10px;padding:10px 12px;font-size:13px;color:#111;outline:none;font-family:'Inter',sans-serif;">`;
  opts.appendChild(div);
  pollOptCount++;
  if (pollOptCount >= 6) document.getElementById('add-opt-btn').style.display='none';
}


function chip(el) {
  el.parentElement.querySelectorAll('.chip').forEach(c => c.classList.remove('on'));
  el.classList.add('on');
}

// ‚îÄ‚îÄ Feed tab ‚îÄ‚îÄ
let currentLang = 'en';
const langNames = { en:'English', hi:'‡§π‡§ø‡§Ç‡§¶‡•Ä', ta:'‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç', kn:'‡≤ï‡≤®‡≥ç‡≤®‡≤°', te:'‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å', pa:'‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä', mr:'‡§Æ‡§∞‡§æ‡§†‡•Ä' };

// Google Fonts per script
const langFonts = {
  en: 'Inter',
  hi: 'Hind',
  mr: 'Hind',
  pa: 'Mukta',
  ta: 'Noto Sans Tamil',
  kn: 'Noto Sans Kannada',
  te: 'Noto Sans Telugu'
};

// Preload fonts
const fontLink = document.createElement('link');
fontLink.rel = 'stylesheet';
fontLink.href = 'https://fonts.googleapis.com/css2?family=Hind:wght@400;600;700&family=Mukta:wght@400;600;700&family=Noto+Sans+Tamil:wght@400;600;700&family=Noto+Sans+Kannada:wght@400;600;700&family=Noto+Sans+Telugu:wght@400;600;700&display=swap';
document.head.appendChild(fontLink);

// Full feed posts per language ‚Äî each post is written natively in that script
const feedByLang = {
  en: [
    { id:1, type:'indic', av:'P', avColor:'#6366f1', name:'Priya Nair', time:'5 min ago', badge:'‚úÖ Verified AI', badgeClass:'badge-proof', postLang:'Tamil', text:'Fine-tuned IndicBERT on Tamil legal data ‚Äî 91% F1 score on NER. Full config in comments üëá', img:'gb', imgEmoji:'üß†', likes:'1.4K', comments:'89', action:'‚ñ∂Ô∏è Run', liked:true, tags:['all','indic'] },
    { id:2, type:'prompts', av:'A', avColor:'#22c55e', name:'Arjun Sharma', time:'18 min ago', badge:'‚ö° Prompt', badgeClass:'badge-ai', postLang:'Hindi', text:null, isPromptCard:true, promptTitle:'Hindi Summariser', promptMeta:'by Arjun ¬∑ 234 runs ¬∑ ‚≠ê 4.9', promptBody:'"Summarise the following in Hindi in 3 bullet points under 15 words each. Text: {{input}}"', promptSaves:'1.2K saves', tags:['all','prompts'] },
    { id:3, type:'discuss', av:'D', avColor:'#FF9933', name:'DevSpark India', time:'1 hr ago', badge:'üî• Trending', badgeClass:'badge-ai', postLang:'English', text:"IndiaAI Mission's GPU subsidies are live! 890+ GenAI startups are already applying. Here's how you can too üáÆüá≥", img:'gc', imgEmoji:'üèõÔ∏è', likes:'3.8K', comments:'204', action:'üîÅ Share', tags:['all','discuss'] },
    { id:4, type:'indic', av:'R', avColor:'#0891b2', name:'Ravi Kumar', time:'2 hr ago', badge:'üáÆüá≥ Indic', badgeClass:'badge-proof', postLang:'English', text:'Which Indic language model performs best for conversational AI? We tested 6 models across 5 languages. Thread üßµ', img:'gd', imgEmoji:'üìä', likes:'2.1K', comments:'312', action:'üîÅ Share', tags:['all','indic','discuss'] },
    { id:5, type:'audio', av:'M', avColor:'#f43f5e', name:'MindfulAI Pod', time:'3 hr ago', badge:'üéôÔ∏è Audio', badgeClass:'badge-ai', postLang:'Hindi', text:'Just dropped a full Hindi podcast on building RAG pipelines with LangChain. No code jargon, pure concepts üéôÔ∏è', isAudio:true, audioTitle:'RAG Pipelines ‚Äî Hindi Explainer', audioDuration:'24:30', likes:'890', comments:'67', action:'‚ñ∂Ô∏è Play', tags:['all','audio'] },
    { id:6, type:'discuss', av:'V', avColor:'#8b5cf6', name:'Sianap Community', time:'4 hr ago', badge:'üí¨ Discuss', badgeClass:'badge-proof', postLang:'English', text:"Hot take: You don't need a PhD to contribute to Indic AI. You need curiosity and your mother tongue. üáÆüá≥", likes:'5.2K', comments:'408', action:'üîÅ Share', tags:['all','discuss'] },
    { id:7, type:'videos', av:'N', avColor:'#FF9933', name:'NLP with Neha', time:'5 hr ago', badge:'üé¨ Video', badgeClass:'badge-ai', postLang:'Tamil', text:null, isVideoCard:true, videoEmoji:'üé¨', videoBg:'ga', videoTitle:'Build a RAG in 20 Min ‚Äî Tamil', videoViews:'18K views', videoDur:'22:14', likes:'1.1K', comments:'94', action:'‚ñ∂Ô∏è Watch', tags:['all','videos'] },
    { id:11, type:'images', av:'A', avColor:'#8b5cf6', name:'Ananya Krishnan', time:'2 hr ago', badge:'üì∏ Image', badgeClass:'badge-ai', postLang:'Hindi', text:'My AI model generated its first Indic poem ‚Äî and it is stunning! ü§© Check this out üëá', isImageCard:true, images:[{bg:'linear-gradient(135deg,#f8e8ff,#d8c0ff)',emoji:'üå∏',caption:'AI-generated Hindi Poem'},{bg:'linear-gradient(135deg,#e8f5e9,#b2dfdb)',emoji:'üåø',caption:'Nature Theme Output'}], likes:'2.8K', comments:'143', action:'üîÅ Share', tags:['all','images'] },
    { id:12, type:'images', av:'D', avColor:'#FF9933', name:'DataViz India', time:'4 hr ago', badge:'üìä Infographic', badgeClass:'badge-proof', postLang:'English', text:"India's GenAI startup map 2026 ‚Äî every major player, sector-wise. Save this! üó∫Ô∏èüáÆüá≥", isImageCard:true, images:[{bg:'linear-gradient(135deg,#fff3e0,#ffe0b2)',emoji:'üó∫Ô∏è',caption:'GenAI Startup Map ‚Äî India 2026'}], likes:'6.1K', comments:'389', action:'üîÅ Share', tags:['all','images','discuss'] },
  ],

  hi: [
    { id:101, type:'indic', av:'‡§™', avColor:'#6366f1', name:'‡§™‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§®‡§æ‡§Ø‡§∞', time:'5 ‡§Æ‡§ø‡§®‡§ü ‡§™‡§π‡§≤‡•á', badge:'‚úÖ ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§ AI', badgeClass:'badge-proof', postLang:'‡§π‡§ø‡§Ç‡§¶‡•Ä', text:'Tamil ‡§ï‡§æ‡§®‡•Ç‡§®‡•Ä ‡§°‡•á‡§ü‡§æ ‡§™‡§∞ IndicBERT ‡§´‡§æ‡§á‡§®-‡§ü‡•ç‡§Ø‡•Ç‡§® ‡§ï‡§ø‡§Ø‡§æ ‚Äî NER ‡§™‡§∞ 91% F1 ‡§∏‡•ç‡§ï‡•ã‡§∞‡•§ ‡§™‡•Ç‡§∞‡§æ config ‡§®‡•Ä‡§ö‡•á ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Å üëá', img:'gb', imgEmoji:'üß†', likes:'1.4K', comments:'89', action:'‚ñ∂Ô∏è ‡§∞‡§® ‡§ï‡§∞‡•á‡§Ç', liked:true, tags:['all','indic'] },
    { id:102, type:'prompts', av:'‡§Ö', avColor:'#22c55e', name:'‡§Ö‡§∞‡•ç‡§ú‡•Å‡§® ‡§∂‡§∞‡•ç‡§Æ‡§æ', time:'18 ‡§Æ‡§ø‡§®‡§ü ‡§™‡§π‡§≤‡•á', badge:'‚ö° ‡§™‡•ç‡§∞‡•â‡§Æ‡•ç‡§™‡•ç‡§ü', badgeClass:'badge-ai', postLang:'‡§π‡§ø‡§Ç‡§¶‡•Ä', text:null, isPromptCard:true, promptTitle:'‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂ ‡§™‡•ç‡§∞‡•â‡§Æ‡•ç‡§™‡•ç‡§ü', promptMeta:'‡§Ö‡§∞‡•ç‡§ú‡•Å‡§® ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ¬∑ 234 ‡§∞‡§® ¬∑ ‚≠ê 4.9', promptBody:'"‡§®‡§ø‡§Æ‡•ç‡§®‡§≤‡§ø‡§ñ‡§ø‡§§ ‡§™‡§æ‡§† ‡§ï‡§æ ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Æ‡•á‡§Ç 3 ‡§¨‡§ø‡§Ç‡§¶‡•Å‡§ì‡§Ç ‡§Æ‡•á‡§Ç ‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂ ‡§¶‡•á‡§Ç, ‡§π‡§∞ ‡§¨‡§ø‡§Ç‡§¶‡•Å 15 ‡§∂‡§¨‡•ç‡§¶‡•ã‡§Ç ‡§∏‡•á ‡§ï‡§Æ ‡§π‡•ã‡•§ ‡§™‡§æ‡§†: {{input}}"', promptSaves:'1.2K ‡§∏‡•á‡§µ', tags:['all','prompts'] },
    { id:103, type:'discuss', av:'‡§¶', avColor:'#FF9933', name:'DevSpark ‡§á‡§Ç‡§°‡§ø‡§Ø‡§æ', time:'1 ‡§ò‡§Ç‡§ü‡•á ‡§™‡§π‡§≤‡•á', badge:'üî• ‡§ü‡•ç‡§∞‡•á‡§Ç‡§°‡§ø‡§Ç‡§ó', badgeClass:'badge-ai', postLang:'‡§π‡§ø‡§Ç‡§¶‡•Ä', text:'IndiaAI Mission ‡§ï‡•Ä GPU ‡§∏‡§¨‡•ç‡§∏‡§ø‡§°‡•Ä ‡§Ö‡§¨ ‡§≤‡§æ‡§á‡§µ ‡§π‡•à! 890+ GenAI ‡§∏‡•ç‡§ü‡§æ‡§∞‡•ç‡§ü‡§Ö‡§™ ‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§Ü‡§µ‡•á‡§¶‡§® ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§ ‡§Ü‡§™ ‡§≠‡•Ä ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç üáÆüá≥', img:'gc', imgEmoji:'üèõÔ∏è', likes:'3.8K', comments:'204', action:'üîÅ ‡§∂‡•á‡§Ø‡§∞', tags:['all','discuss'] },
    { id:104, type:'indic', av:'‡§∞', avColor:'#0891b2', name:'‡§∞‡§µ‡§ø ‡§ï‡•Å‡§Æ‡§æ‡§∞', time:'2 ‡§ò‡§Ç‡§ü‡•á ‡§™‡§π‡§≤‡•á', badge:'üáÆüá≥ Indic', badgeClass:'badge-proof', postLang:'‡§π‡§ø‡§Ç‡§¶‡•Ä', text:'‡§∏‡§Ç‡§µ‡§æ‡§¶‡•Ä AI ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡§æ Indic ‡§≠‡§æ‡§∑‡§æ ‡§Æ‡•â‡§°‡§≤ ‡§ï‡•å‡§® ‡§∏‡§æ ‡§π‡•à? ‡§π‡§Æ‡§®‡•á 5 ‡§≠‡§æ‡§∑‡§æ‡§ì‡§Ç ‡§Æ‡•á‡§Ç 6 ‡§Æ‡•â‡§°‡§≤ ‡§ü‡•á‡§∏‡•ç‡§ü ‡§ï‡§ø‡§è‡•§ ‡§™‡•Ç‡§∞‡§æ ‡§•‡•ç‡§∞‡•á‡§° ‡§™‡§¢‡§º‡•á‡§Ç üßµ', img:'gd', imgEmoji:'üìä', likes:'2.1K', comments:'312', action:'üîÅ ‡§∂‡•á‡§Ø‡§∞', tags:['all','indic','discuss'] },
    { id:105, type:'audio', av:'‡§Æ', avColor:'#f43f5e', name:'MindfulAI ‡§™‡•â‡§°', time:'3 ‡§ò‡§Ç‡§ü‡•á ‡§™‡§π‡§≤‡•á', badge:'üéôÔ∏è ‡§ë‡§°‡§ø‡§Ø‡•ã', badgeClass:'badge-ai', postLang:'‡§π‡§ø‡§Ç‡§¶‡•Ä', text:'LangChain ‡§ï‡•á ‡§∏‡§æ‡§• RAG ‡§™‡§æ‡§á‡§™‡§≤‡§æ‡§á‡§® ‡§¨‡§®‡§æ‡§®‡•á ‡§™‡§∞ ‡§™‡•Ç‡§∞‡§æ ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§™‡•â‡§°‡§ï‡§æ‡§∏‡•ç‡§ü ‡§≤‡§æ‡§Ø‡§æ ‡§π‡•Ç‡§Å‡•§ ‡§ï‡•ã‡§à code jargon ‡§®‡§π‡•Ä‡§Ç, ‡§∏‡§ø‡§∞‡•ç‡§´ concepts üéôÔ∏è', isAudio:true, audioTitle:'RAG ‡§™‡§æ‡§á‡§™‡§≤‡§æ‡§á‡§® ‚Äî ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§ó‡§æ‡§á‡§°', audioDuration:'24:30', likes:'890', comments:'67', action:'‚ñ∂Ô∏è ‡§∏‡•Å‡§®‡•á‡§Ç', tags:['all','audio'] },
    { id:106, type:'discuss', av:'‡§µ‡§ø', avColor:'#8b5cf6', name:'Sianap ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø', time:'4 ‡§ò‡§Ç‡§ü‡•á ‡§™‡§π‡§≤‡•á', badge:'üí¨ ‡§ö‡§∞‡•ç‡§ö‡§æ', badgeClass:'badge-proof', postLang:'‡§π‡§ø‡§Ç‡§¶‡•Ä', text:'Indic AI ‡§Æ‡•á‡§Ç ‡§Ø‡•ã‡§ó‡§¶‡§æ‡§® ‡§ï‡•á ‡§≤‡§ø‡§è PhD ‡§ï‡•Ä ‡§ú‡§∞‡•Ç‡§∞‡§§ ‡§®‡§π‡•Ä‡§Ç‡•§ ‡§∏‡§ø‡§∞‡•ç‡§´ ‡§ú‡§ø‡§ú‡•ç‡§û‡§æ‡§∏‡§æ ‡§î‡§∞ ‡§Ö‡§™‡§®‡•Ä ‡§Æ‡§æ‡§§‡•É‡§≠‡§æ‡§∑‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§ ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§∏‡§π‡§Æ‡§§ ‡§π‡•à‡§Ç? üáÆüá≥', likes:'5.2K', comments:'408', action:'üîÅ ‡§∂‡•á‡§Ø‡§∞', tags:['all','discuss'] },
    { id:107, type:'images', av:'‡§Ö', avColor:'#8b5cf6', name:'‡§Ö‡§®‡§®‡•ç‡§Ø‡§æ ‡§ï‡•É‡§∑‡•ç‡§£‡§®', time:'2 ‡§ò‡§Ç‡§ü‡•á ‡§™‡§π‡§≤‡•á', badge:'üì∏ ‡§´‡•ã‡§ü‡•ã', badgeClass:'badge-ai', postLang:'‡§π‡§ø‡§Ç‡§¶‡•Ä', text:'‡§Æ‡•á‡§∞‡•á AI ‡§Æ‡•â‡§°‡§≤ ‡§®‡•á ‡§Ö‡§™‡§®‡•Ä ‡§™‡§π‡§≤‡•Ä Indic poem generate ‡§ï‡•Ä ‚Äî ‡§î‡§∞ ‡§Ø‡§π stunning ‡§π‡•à! ü§© ‡§¶‡•á‡§ñ‡•á‡§Ç üëá', isImageCard:true, images:[{bg:'linear-gradient(135deg,#f8e8ff,#d8c0ff)',emoji:'üå∏',caption:'AI-generated Hindi Poem'},{bg:'linear-gradient(135deg,#e8f5e9,#b2dfdb)',emoji:'üåø',caption:'Nature Theme Output'}], likes:'2.8K', comments:'143', action:'üîÅ ‡§∂‡•á‡§Ø‡§∞', tags:['all','images'] },
  ],

  ta: [
    { id:201, type:'indic', av:'‡Æ™‡Øç', avColor:'#6366f1', name:'‡Æ™‡Æø‡Æ∞‡Æø‡ÆØ‡Ææ ‡Æ®‡Ææ‡ÆØ‡Æ∞‡Øç', time:'5 ‡Æ®‡Æø‡ÆÆ‡Æø‡Æü‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡ØÅ‡Æ©‡Øç', badge:'‚úÖ ‡Æö‡Æ∞‡Æø‡Æ™‡Ææ‡Æ∞‡Øç‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü‡Æ§‡ØÅ', badgeClass:'badge-proof', postLang:'‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç', text:'‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç ‡Æö‡Æü‡Øç‡Æü ‡Æ§‡Æ∞‡Æµ‡Æø‡Æ≤‡Øç IndicBERT fine-tune ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡Øá‡Æ©‡Øç ‚Äî NER-‡Æ≤‡Øç 91% F1 ‡ÆÆ‡Æ§‡Æø‡Æ™‡Øç‡Æ™‡ØÜ‡Æ£‡Øç. ‡ÆÆ‡ØÅ‡Æ¥‡ØÅ config ‡Æï‡ØÄ‡Æ¥‡Øá ‡Æ™‡Æï‡Æø‡Æ∞‡Øç‡Æï‡Æø‡Æ±‡Øá‡Æ©‡Øç üëá', img:'gb', imgEmoji:'üß†', likes:'1.4K', comments:'89', action:'‚ñ∂Ô∏è ‡Æá‡ÆØ‡Æï‡Øç‡Æï‡ØÅ', liked:true, tags:['all','indic'] },
    { id:202, type:'discuss', av:'‡Æ§', avColor:'#FF9933', name:'DevSpark ‡Æá‡Æ®‡Øç‡Æ§‡Æø‡ÆØ‡Ææ', time:'1 ‡ÆÆ‡Æ£‡Æø ‡ÆÆ‡ØÅ‡Æ©‡Øç', badge:'üî• ‡Æ™‡Æø‡Æ∞‡Æ™‡Æ≤‡ÆÆ‡Øç', badgeClass:'badge-ai', postLang:'‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç', text:'IndiaAI Mission GPU ‡ÆÆ‡Ææ‡Æ©‡Æø‡ÆØ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æá‡Æ™‡Øç‡Æ™‡Øã‡Æ§‡ØÅ ‡Æï‡Æø‡Æü‡Øà‡Æï‡Øç‡Æï‡Æø‡Æ©‡Øç‡Æ±‡Æ©! 890+ GenAI ‡Æ®‡Æø‡Æ±‡ØÅ‡Æµ‡Æ©‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æµ‡Æø‡Æ£‡Øç‡Æ£‡Æ™‡Øç‡Æ™‡Æø‡Æï‡Øç‡Æï‡Æø‡Æ©‡Øç‡Æ±‡Æ©. ‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡ØÅ‡ÆÆ‡Øç ‡Æö‡ØÜ‡ÆØ‡Øç‡ÆØ‡Æ≤‡Ææ‡ÆÆ‡Øç üáÆüá≥', img:'gc', imgEmoji:'üèõÔ∏è', likes:'3.8K', comments:'204', action:'üîÅ ‡Æ™‡Æï‡Æø‡Æ∞‡Øç', tags:['all','discuss'] },
    { id:203, type:'indic', av:'‡Æ∞', avColor:'#0891b2', name:'‡Æ∞‡Æµ‡Æø ‡Æï‡ØÅ‡ÆÆ‡Ææ‡Æ∞‡Øç', time:'2 ‡ÆÆ‡Æ£‡Æø ‡ÆÆ‡ØÅ‡Æ©‡Øç', badge:'üáÆüá≥ Indic', badgeClass:'badge-proof', postLang:'‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç', text:'‡Æâ‡Æ∞‡Øà‡ÆØ‡Ææ‡Æü‡Æ≤‡Øç AI-‡Æï‡Øç‡Æï‡ØÅ ‡Æé‡Æ®‡Øç‡Æ§ Indic ‡ÆÆ‡Øä‡Æ¥‡Æø ‡ÆÆ‡Ææ‡Æü‡Æ≤‡Øç ‡Æö‡Æø‡Æ±‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ? 5 ‡ÆÆ‡Øä‡Æ¥‡Æø‡Æï‡Æ≥‡Æø‡Æ≤‡Øç 6 ‡ÆÆ‡Ææ‡Æü‡Æ≤‡Øç‡Æï‡Æ≥‡Øà ‡Æö‡Øã‡Æ§‡Æø‡Æ§‡Øç‡Æ§‡Øã‡ÆÆ‡Øç. ‡Æ®‡ØÇ‡Æ≤‡Øç üßµ', img:'gd', imgEmoji:'üìä', likes:'2.1K', comments:'312', action:'üîÅ ‡Æ™‡Æï‡Æø‡Æ∞‡Øç', tags:['all','indic','discuss'] },
    { id:204, type:'audio', av:'‡ÆÆ', avColor:'#f43f5e', name:'MindfulAI ‡Æ™‡Ææ‡Æü‡Øç', time:'3 ‡ÆÆ‡Æ£‡Æø ‡ÆÆ‡ØÅ‡Æ©‡Øç', badge:'üéôÔ∏è ‡ÆÜ‡Æü‡Æø‡ÆØ‡Øã', badgeClass:'badge-ai', postLang:'‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç', text:'LangChain ‡ÆÆ‡ØÇ‡Æ≤‡ÆÆ‡Øç RAG pipeline ‡Æï‡Æü‡Øç‡Æü‡ØÅ‡Æµ‡Æ§‡ØÅ ‡Æé‡Æ™‡Øç‡Æ™‡Æü‡Æø ‡Æé‡Æ©‡Øç‡Æ±‡ØÅ ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Æø‡Æ≤‡Øç ‡Æµ‡Æø‡Æ≥‡Æï‡Øç‡Æï‡Æø‡Æ©‡Øá‡Æ©‡Øç üéôÔ∏è', isAudio:true, audioTitle:'RAG Pipeline ‚Äî ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç ‡Æµ‡Æø‡Æ≥‡Æï‡Øç‡Æï‡ÆÆ‡Øç', audioDuration:'24:30', likes:'890', comments:'67', action:'‚ñ∂Ô∏è ‡Æï‡Øá‡Æ≥‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç', tags:['all','audio'] },
    { id:205, type:'discuss', av:'‡Æµ‡Æø', avColor:'#8b5cf6', name:'Sianap ‡Æö‡ÆÆ‡ØÇ‡Æï‡ÆÆ‡Øç', time:'4 ‡ÆÆ‡Æ£‡Æø ‡ÆÆ‡ØÅ‡Æ©‡Øç', badge:'üí¨ ‡Æµ‡Æø‡Æµ‡Ææ‡Æ§‡ÆÆ‡Øç', badgeClass:'badge-proof', postLang:'‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç', text:'Indic AI-‡Æ≤‡Øç ‡Æ™‡Æô‡Øç‡Æï‡Æ≥‡Æø‡Æï‡Øç‡Æï PhD ‡Æ§‡Øá‡Æµ‡Øà‡ÆØ‡Æø‡Æ≤‡Øç‡Æ≤‡Øà. ‡ÆÜ‡Æ∞‡Øç‡Æµ‡ÆÆ‡ØÅ‡ÆÆ‡Øç ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ§‡Ææ‡ÆØ‡Øç‡ÆÆ‡Øä‡Æ¥‡Æø‡ÆØ‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Øã‡Æ§‡ØÅ‡ÆÆ‡Øç. üáÆüá≥', likes:'5.2K', comments:'408', action:'üîÅ ‡Æ™‡Æï‡Æø‡Æ∞‡Øç', tags:['all','discuss'] },
  ],

  kn: [
    { id:301, type:'indic', av:'‡≤™‡≥ç', avColor:'#6366f1', name:'‡≤™‡≥ç‡≤∞‡≤ø‡≤Ø‡≤æ ‡≤®‡≤æ‡≤Ø‡≤∞‡≥ç', time:'5 ‡≤®‡≤ø‡≤Æ‡≤ø‡≤∑‡≤ó‡≤≥ ‡≤π‡≤ø‡≤Ç‡≤¶‡≥Ü', badge:'‚úÖ ‡≤™‡≤∞‡≤ø‡≤∂‡≥Ä‡≤≤‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü', badgeClass:'badge-proof', postLang:'‡≤ï‡≤®‡≥ç‡≤®‡≤°', text:'‡≤§‡≤Æ‡≤ø‡≤≥‡≥Å ‡≤ï‡≤æ‡≤®‡≥Ç‡≤®‡≥Å ‡≤°‡≥á‡≤ü‡≤æ‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø IndicBERT fine-tune ‡≤Æ‡≤æ‡≤°‡≤ø‡≤¶‡≥Ü ‚Äî NER ‡≤®‡≤≤‡≥ç‡≤≤‡≤ø 91% F1 ‡≤∏‡≥ç‡≤ï‡≥ã‡≤∞‡≥ç. ‡≤™‡≥Ç‡≤∞‡≥ç‡≤£ config ‡≤ï‡≥Ü‡≤≥‡≤ó‡≥Ü üëá', img:'gb', imgEmoji:'üß†', likes:'1.4K', comments:'89', action:'‚ñ∂Ô∏è ‡≤∞‡≤®‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø', liked:true, tags:['all','indic'] },
    { id:302, type:'prompts', av:'‡≤ï', avColor:'#0891b2', name:'‡≤ï‡≤æ‡≤µ‡≥ç‡≤Ø‡≤æ ‡≤∞‡≥Ü‡≤°‡≥ç‡≤°‡≤ø', time:'30 ‡≤®‡≤ø‡≤Æ‡≤ø‡≤∑‡≤ó‡≤≥ ‡≤π‡≤ø‡≤Ç‡≤¶‡≥Ü', badge:'‚ö° ‡≤™‡≥ç‡≤∞‡≤æ‡≤Ç‡≤™‡≥ç‡≤ü‡≥ç', badgeClass:'badge-ai', postLang:'‡≤ï‡≤®‡≥ç‡≤®‡≤°', text:null, isPromptCard:true, promptTitle:'‡≤ï‡≤®‡≥ç‡≤®‡≤° ‡≤∏‡≥Ü‡≤Ç‡≤ü‡≤ø‡≤Æ‡≥Ü‡≤Ç‡≤ü‡≥ç ‡≤µ‡≤ø‡≤∂‡≥ç‡≤≤‡≥á‡≤∑‡≤ï', promptMeta:'‡≤ï‡≤æ‡≤µ‡≥ç‡≤Ø‡≤æ ‡≤Ö‡≤µ‡≤∞‡≤ø‡≤Ç‡≤¶ ¬∑ 890 ‡≤∞‡≤®‡≥ç ¬∑ ‚≠ê 4.8', promptBody:'"{{text}} ‡≤ï‡≤®‡≥ç‡≤®‡≤° ‡≤™‡≤†‡≥ç‡≤Ø‡≤¶ ‡≤≠‡≤æ‡≤µ‡≤®‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å positive, negative ‡≤Ö‡≤•‡≤µ‡≤æ neutral ‡≤é‡≤Ç‡≤¶‡≥Å ‡≤µ‡≤∞‡≥ç‡≤ó‡≥Ä‡≤ï‡≤∞‡≤ø‡≤∏‡≤ø. JSON ‡≤π‡≤ø‡≤Ç‡≤¶‡≤ø‡≤∞‡≥Å‡≤ó‡≤ø‡≤∏‡≤ø."', promptSaves:'2.1K ‡≤â‡≤≥‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü', tags:['all','prompts','indic'] },
    { id:303, type:'discuss', av:'‡≤¶', avColor:'#FF9933', name:'DevSpark ‡≤≠‡≤æ‡≤∞‡≤§', time:'1 ‡≤ó‡≤Ç‡≤ü‡≥Ü ‡≤π‡≤ø‡≤Ç‡≤¶‡≥Ü', badge:'üî• ‡≤ü‡≥ç‡≤∞‡≥Ü‡≤Ç‡≤°‡≤ø‡≤Ç‡≤ó‡≥ç', badgeClass:'badge-ai', postLang:'‡≤ï‡≤®‡≥ç‡≤®‡≤°', text:'IndiaAI Mission GPU ‡≤∏‡≤¨‡≥ç‡≤∏‡≤ø‡≤°‡≤ø‡≤ó‡≤≥‡≥Å ‡≤≤‡≥à‡≤µ‡≥ç ‡≤Ü‡≤ó‡≤ø‡≤µ‡≥Ü! 890+ GenAI ‡≤∏‡≥ç‡≤ü‡≤æ‡≤∞‡≥ç‡≤ü‡≤™‡≥ç‚Äå‡≤ó‡≤≥‡≥Å ‡≤Ö‡≤∞‡≥ç‡≤ú‡≤ø ‡≤∏‡≤≤‡≥ç‡≤≤‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤ø‡≤µ‡≥Ü üáÆüá≥', img:'gc', imgEmoji:'üèõÔ∏è', likes:'3.8K', comments:'204', action:'üîÅ ‡≤π‡≤Ç‡≤ö‡≤ø‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤ø', tags:['all','discuss'] },
    { id:304, type:'discuss', av:'‡≤µ‡≤ø', avColor:'#8b5cf6', name:'Sianap ‡≤∏‡≤Æ‡≥Å‡≤¶‡≤æ‡≤Ø', time:'4 ‡≤ó‡≤Ç‡≤ü‡≥Ü ‡≤π‡≤ø‡≤Ç‡≤¶‡≥Ü', badge:'üí¨ ‡≤ö‡≤∞‡≥ç‡≤ö‡≥Ü', badgeClass:'badge-proof', postLang:'‡≤ï‡≤®‡≥ç‡≤®‡≤°', text:'Indic AI ‡≤ó‡≥Ü ‡≤ï‡≥ä‡≤°‡≥Å‡≤ó‡≥Ü ‡≤®‡≥Ä‡≤°‡≤≤‡≥Å PhD ‡≤Ö‡≤ó‡≤§‡≥ç‡≤Ø‡≤µ‡≤ø‡≤≤‡≥ç‡≤≤. ‡≤ï‡≥Å‡≤§‡≥Ç‡≤π‡≤≤ ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤Æ‡≤æ‡≤§‡≥É‡≤≠‡≤æ‡≤∑‡≥Ü ‡≤∏‡≤æ‡≤ï‡≥Å. üáÆüá≥', likes:'5.2K', comments:'408', action:'üîÅ ‡≤π‡≤Ç‡≤ö‡≤ø‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤ø', tags:['all','discuss'] },
  ],

  te: [
    { id:401, type:'indic', av:'‡∞™‡±ç', avColor:'#6366f1', name:'‡∞™‡±ç‡∞∞‡∞ø‡∞Ø‡∞æ ‡∞®‡∞æ‡∞Ø‡∞∞‡±ç', time:'5 ‡∞®‡∞ø‡∞Æ‡∞ø‡∞∑‡∞æ‡∞≤ ‡∞ï‡±ç‡∞∞‡∞ø‡∞§‡∞Ç', badge:'‚úÖ ‡∞ß‡±É‡∞µ‡±Ä‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡∞ø‡∞Ç‡∞¶‡∞ø', badgeClass:'badge-proof', postLang:'‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å', text:'‡∞§‡∞Æ‡∞ø‡∞≥ ‡∞®‡±ç‡∞Ø‡∞æ‡∞Ø ‡∞°‡±á‡∞ü‡∞æ‡∞™‡±à IndicBERT fine-tune ‡∞ö‡±á‡∞∂‡∞æ‡∞®‡±Å ‚Äî NER ‡∞≤‡±ã 91% F1 ‡∞∏‡±ç‡∞ï‡±ã‡∞∞‡±ç. ‡∞™‡±Ç‡∞∞‡±ç‡∞§‡∞ø config ‡∞¶‡∞ø‡∞ó‡±Å‡∞µ‡∞® üëá', img:'gb', imgEmoji:'üß†', likes:'1.4K', comments:'89', action:'‚ñ∂Ô∏è ‡∞∞‡∞®‡±ç ‡∞ö‡±á‡∞Ø‡∞ø', liked:true, tags:['all','indic'] },
    { id:402, type:'discuss', av:'‡∞¶', avColor:'#FF9933', name:'DevSpark India', time:'1 ‡∞ó‡∞Ç‡∞ü ‡∞ï‡±ç‡∞∞‡∞ø‡∞§‡∞Ç', badge:'üî• ‡∞ü‡±ç‡∞∞‡±Ü‡∞Ç‡∞°‡∞ø‡∞Ç‡∞ó‡±ç', badgeClass:'badge-ai', postLang:'‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å', text:'IndiaAI Mission GPU ‡∞∏‡∞¨‡±ç‡∞∏‡∞ø‡∞°‡±Ä‡∞≤‡±Å ‡∞á‡∞™‡±ç‡∞™‡±Å‡∞°‡±Å ‡∞Ö‡∞Ç‡∞¶‡±Å‡∞¨‡∞æ‡∞ü‡±Å‡∞≤‡±ã ‡∞â‡∞®‡±ç‡∞®‡∞æ‡∞Ø‡∞ø! 890+ GenAI ‡∞∏‡±ç‡∞ü‡∞æ‡∞∞‡±ç‡∞ü‡∞™‡±ç‚Äå‡∞≤‡±Å ‡∞¶‡∞∞‡∞ñ‡∞æ‡∞∏‡±ç‡∞§‡±Å ‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞Ø‡∞ø üáÆüá≥', img:'gc', imgEmoji:'üèõÔ∏è', likes:'3.8K', comments:'204', action:'üîÅ ‡∞∑‡±á‡∞∞‡±ç', tags:['all','discuss'] },
    { id:403, type:'discuss', av:'‡∞µ‡∞ø', avColor:'#8b5cf6', name:'Sianap ‡∞∏‡∞Æ‡∞æ‡∞ú‡∞Ç', time:'4 ‡∞ó‡∞Ç‡∞ü‡∞≤ ‡∞ï‡±ç‡∞∞‡∞ø‡∞§‡∞Ç', badge:'üí¨ ‡∞ö‡∞∞‡±ç‡∞ö', badgeClass:'badge-proof', postLang:'‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å', text:'Indic AI ‡∞ï‡∞ø ‡∞∏‡∞π‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø PhD ‡∞Ö‡∞µ‡∞∏‡∞∞‡∞Ç ‡∞≤‡±á‡∞¶‡±Å. ‡∞ï‡±Å‡∞§‡±Ç‡∞π‡∞≤‡∞Ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞Æ‡∞æ‡∞§‡±É‡∞≠‡∞æ‡∞∑ ‡∞∏‡∞∞‡∞ø‡∞™‡±ã‡∞§‡∞æ‡∞Ø‡∞ø. üáÆüá≥', likes:'5.2K', comments:'408', action:'üîÅ ‡∞∑‡±á‡∞∞‡±ç', tags:['all','discuss'] },
    { id:404, type:'indic', av:'‡∞∞', avColor:'#0891b2', name:'‡∞∞‡∞µ‡∞ø ‡∞ï‡±Å‡∞Æ‡∞æ‡∞∞‡±ç', time:'2 ‡∞ó‡∞Ç‡∞ü‡∞≤ ‡∞ï‡±ç‡∞∞‡∞ø‡∞§‡∞Ç', badge:'üáÆüá≥ Indic', badgeClass:'badge-proof', postLang:'‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å', text:'‡∞∏‡∞Ç‡∞≠‡∞æ‡∞∑‡∞£ AI ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞è Indic ‡∞≠‡∞æ‡∞∑ ‡∞Æ‡±ã‡∞°‡∞≤‡±ç ‡∞â‡∞§‡±ç‡∞§‡∞Æ‡∞Ç? 5 ‡∞≠‡∞æ‡∞∑‡∞≤‡∞≤‡±ã 6 ‡∞Æ‡±ã‡∞°‡∞≤‡±ç‡∞∏‡±ç ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞æ‡∞Æ‡±Å üßµ', img:'gd', imgEmoji:'üìä', likes:'2.1K', comments:'312', action:'üîÅ ‡∞∑‡±á‡∞∞‡±ç', tags:['all','indic','discuss'] },
  ],

  pa: [
    { id:501, type:'indic', av:'‡®™‡©ç', avColor:'#6366f1', name:'‡®™‡©ç‡®∞‡®ø‡®Ü ‡®®‡®æ‡®á‡®∞', time:'5 ‡®Æ‡®ø‡©∞‡®ü ‡®™‡®π‡®ø‡®≤‡®æ‡®Ç', badge:'‚úÖ ‡®§‡®∏‡®¶‡©Ä‡®ï‡®∏‡®º‡©Å‡®¶‡®æ AI', badgeClass:'badge-proof', postLang:'‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä', text:'‡®§‡®Æ‡®ø‡®≤ ‡®ï‡®æ‡®®‡©Ç‡©∞‡®®‡©Ä ‡®°‡©á‡®ü‡®æ ‡®§‡©á IndicBERT fine-tune ‡®ï‡©Ä‡®§‡®æ ‚Äî NER ‡®§‡©á 91% F1 ‡®∏‡®ï‡©ã‡®∞‡•§ ‡®™‡©Ç‡®∞‡®æ config ‡®π‡©á‡®†‡®æ‡®Ç üëá', img:'gb', imgEmoji:'üß†', likes:'1.4K', comments:'89', action:'‚ñ∂Ô∏è ‡®ö‡®≤‡®æ‡®ì', liked:true, tags:['all','indic'] },
    { id:502, type:'discuss', av:'‡®¶', avColor:'#FF9933', name:'DevSpark ‡®á‡©∞‡®°‡©Ä‡®Ü', time:'1 ‡®ò‡©∞‡®ü‡®æ ‡®™‡®π‡®ø‡®≤‡®æ‡®Ç', badge:'üî• ‡®ü‡®∞‡©à‡®Ç‡®°‡®ø‡©∞‡®ó', badgeClass:'badge-ai', postLang:'‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä', text:'IndiaAI Mission ‡®¶‡©Ä‡®Ü‡®Ç GPU ‡®∏‡®¨‡®∏‡®ø‡®°‡©Ä‡®Ü‡®Ç ‡®π‡©Å‡®£ ‡®≤‡®æ‡®à‡®µ ‡®π‡®®! 890+ GenAI ‡®∏‡®ü‡®æ‡®∞‡®ü‡®Ö‡©±‡®™ ‡®Ö‡®∞‡®ú‡®º‡©Ä ‡®¶‡©á ‡®∞‡®π‡©á ‡®π‡®® üáÆüá≥', img:'gc', imgEmoji:'üèõÔ∏è', likes:'3.8K', comments:'204', action:'üîÅ ‡®∏‡®æ‡®Ç‡®ù‡®æ ‡®ï‡®∞‡©ã', tags:['all','discuss'] },
    { id:503, type:'discuss', av:'‡®µ‡®ø', avColor:'#8b5cf6', name:'Sianap ‡®≠‡®æ‡®à‡®ö‡®æ‡®∞‡®æ', time:'4 ‡®ò‡©∞‡®ü‡©á ‡®™‡®π‡®ø‡®≤‡®æ‡®Ç', badge:'üí¨ ‡®ö‡®∞‡®ö‡®æ', badgeClass:'badge-proof', postLang:'‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä', text:'Indic AI ‡®µ‡®ø‡©±‡®ö ‡®Ø‡©ã‡®ó‡®¶‡®æ‡®® ‡®¶‡©á‡®£ ‡®≤‡®à PhD ‡®¶‡©Ä ‡®≤‡©ã‡©ú ‡®®‡®π‡©Ä‡®Ç‡•§ ‡®â‡®§‡®∏‡©Å‡®ï‡®§‡®æ ‡®Ö‡®§‡©á ‡®Ü‡®™‡®£‡©Ä ‡®Æ‡®æ‡®Ç-‡®¨‡©ã‡®≤‡©Ä ‡®ï‡®æ‡®´‡®º‡©Ä ‡®π‡©à‡•§ üáÆüá≥', likes:'5.2K', comments:'408', action:'üîÅ ‡®∏‡®æ‡®Ç‡®ù‡®æ ‡®ï‡®∞‡©ã', tags:['all','discuss'] },
    { id:504, type:'audio', av:'‡®Æ', avColor:'#f43f5e', name:'MindfulAI ‡®™‡®æ‡®°', time:'3 ‡®ò‡©∞‡®ü‡©á ‡®™‡®π‡®ø‡®≤‡®æ‡®Ç', badge:'üéôÔ∏è ‡®Ü‡®°‡©Ä‡®ì', badgeClass:'badge-ai', postLang:'‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä', text:'‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä ‡®µ‡®ø‡©±‡®ö RAG pipeline ‡®¨‡®£‡®æ‡®â‡®£ ‡®¨‡®æ‡®∞‡©á ‡®™‡©Ç‡®∞‡®æ podcast ‡®≤‡®ø‡®Ü‡®Ç‡®¶‡®æ ‡®π‡©à üéôÔ∏è', isAudio:true, audioTitle:'RAG Pipeline ‚Äî ‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä ‡®ó‡®æ‡®à‡®°', audioDuration:'24:30', likes:'890', comments:'67', action:'‚ñ∂Ô∏è ‡®∏‡©Å‡®£‡©ã', tags:['all','audio'] },
  ],

  mr: [
    { id:601, type:'indic', av:'‡§™‡•ç', avColor:'#6366f1', name:'‡§™‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§®‡§æ‡§Ø‡§∞', time:'5 ‡§Æ‡§ø‡§®‡§ø‡§ü‡§æ‡§Ç‡§™‡•Ç‡§∞‡•ç‡§µ‡•Ä', badge:'‚úÖ ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§ AI', badgeClass:'badge-proof', postLang:'‡§Æ‡§∞‡§æ‡§†‡•Ä', text:'Tamil ‡§ï‡§æ‡§Ø‡§¶‡•á‡§∂‡•Ä‡§∞ ‡§°‡•á‡§ü‡§æ‡§µ‡§∞ IndicBERT fine-tune ‡§ï‡•á‡§≤‡•á ‚Äî NER ‡§Æ‡§ß‡•ç‡§Ø‡•á 91% F1 score. ‡§™‡•Ç‡§∞‡•ç‡§£ config ‡§ñ‡§æ‡§≤‡•Ä üëá', img:'gb', imgEmoji:'üß†', likes:'1.4K', comments:'89', action:'‚ñ∂Ô∏è ‡§∞‡§® ‡§ï‡§∞‡§æ', liked:true, tags:['all','indic'] },
    { id:602, type:'discuss', av:'‡§¶', avColor:'#FF9933', name:'DevSpark ‡§á‡§Ç‡§°‡§ø‡§Ø‡§æ', time:'1 ‡§§‡§æ‡§∏‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡•Ä', badge:'üî• ‡§ü‡•ç‡§∞‡•á‡§Ç‡§°‡§ø‡§Ç‡§ó', badgeClass:'badge-ai', postLang:'‡§Æ‡§∞‡§æ‡§†‡•Ä', text:'IndiaAI Mission ‡§ö‡•ç‡§Ø‡§æ GPU ‡§Ö‡§®‡•Å‡§¶‡§æ‡§® ‡§Ü‡§§‡§æ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§Ü‡§π‡•á‡§§! 890+ GenAI ‡§∏‡•ç‡§ü‡§æ‡§∞‡•ç‡§ü‡§Ö‡§™ ‡§Ü‡§ß‡•Ä‡§ö ‡§Ö‡§∞‡•ç‡§ú ‡§ï‡§∞‡§§ ‡§Ü‡§π‡•á‡§§ üáÆüá≥', img:'gc', imgEmoji:'üèõÔ∏è', likes:'3.8K', comments:'204', action:'üîÅ ‡§∂‡•á‡§Ö‡§∞ ‡§ï‡§∞‡§æ', tags:['all','discuss'] },
    { id:603, type:'images', av:'‡§∞‡§ø', avColor:'#f43f5e', name:'‡§∞‡§ø‡§Ø‡§æ ‡§Æ‡•á‡§π‡§§‡§æ', time:'9 ‡§§‡§æ‡§∏‡§æ‡§Ç‡§™‡•Ç‡§∞‡•ç‡§µ‡•Ä', badge:'üì∏ ‡§´‡•ã‡§ü‡•ã', badgeClass:'badge-ai', postLang:'‡§Æ‡§∞‡§æ‡§†‡•Ä', text:'‡§Æ‡§æ‡§ù‡•ç‡§Ø‡§æ AI ‡§Æ‡•â‡§°‡•á‡§≤‡§®‡•á generate ‡§ï‡•á‡§≤‡•á‡§≤‡•Ä Marathi folk art üé® Stable Diffusion + custom Marathi prompts ‡§µ‡§æ‡§™‡§∞‡•Ç‡§®!', isImageCard:true, images:[{bg:'linear-gradient(135deg,#fce4ec,#f8bbd0)',emoji:'üé®',caption:'AI Marathi Folk Art'},{bg:'linear-gradient(135deg,#fff8e1,#ffecb3)',emoji:'üåª',caption:'Style 2'}], likes:'3.2K', comments:'198', action:'üîÅ ‡§∂‡•á‡§Ö‡§∞ ‡§ï‡§∞‡§æ', tags:['all','images'] },
    { id:604, type:'discuss', av:'‡§µ‡§ø', avColor:'#8b5cf6', name:'Sianap ‡§∏‡§Æ‡§æ‡§ú', time:'4 ‡§§‡§æ‡§∏‡§æ‡§Ç‡§™‡•Ç‡§∞‡•ç‡§µ‡•Ä', badge:'üí¨ ‡§ö‡§∞‡•ç‡§ö‡§æ', badgeClass:'badge-proof', postLang:'‡§Æ‡§∞‡§æ‡§†‡•Ä', text:'Indic AI ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§Ø‡•ã‡§ó‡§¶‡§æ‡§® ‡§¶‡•á‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä PhD ‡§≤‡§æ‡§ó‡§§ ‡§®‡§æ‡§π‡•Ä. ‡§ï‡•Å‡§§‡•Ç‡§π‡§≤ ‡§Ü‡§£‡§ø ‡§Ü‡§™‡§≤‡•Ä ‡§Æ‡§æ‡§§‡•É‡§≠‡§æ‡§∑‡§æ ‡§™‡•Å‡§∞‡•á‡§∂‡•Ä ‡§Ü‡§π‡•á. üáÆüá≥', likes:'5.2K', comments:'408', action:'üîÅ ‡§∂‡•á‡§Ö‡§∞ ‡§ï‡§∞‡§æ', tags:['all','discuss'] },
  ]
};

function getTranslation() { return null; } // posts are natively written per language

function renderTranslateBar() { return ''; } // translation handled by native posts

function toggleTranslate() {}



// feedData is now sourced dynamically via feedByLang[currentLang] in renderFeed()

// Sample comments per post
const sampleComments = {
  default: [
    { av:'PN', color:'#6366f1', name:'Priya Nair', text:'This is exactly what I needed! Thanks for sharing üôå', time:'2m' },
    { av:'RS', color:'#22c55e', name:'Rahul S.', text:'Great work, will try this on my dataset too.', time:'8m' },
    { av:'KV', color:'#FF9933', name:'Kavya V.', text:'Can you share the training script as well?', time:'15m' },
  ],
  1: [
    { av:'RS', color:'#22c55e', name:'Rahul Sharma', text:'Excellent F1 score! Which dataset did you use for pre-training?', time:'3m' },
    { av:'MK', color:'#f43f5e', name:'Meera K.', text:'Been waiting for someone to try this on legal Tamil data üî•', time:'7m' },
  ],
  3: [
    { av:'AI', color:'#0891b2', name:'Arjun Iyer', text:'Applied yesterday, process was smooth!', time:'1m' },
    { av:'DS', color:'#8b5cf6', name:'Deepa S.', text:'Is this open to individual developers or only startups?', time:'5m' },
    { av:'VN', color:'#FF9933', name:'Vijay N.', text:'IndiaAI is really pushing the ecosystem forward üáÆüá≥', time:'12m' },
  ]
};

function getComments(postId) {
  return sampleComments[postId] || sampleComments.default;
}

function renderComments(postId) {
  const comments = getComments(postId);
  return comments.map(c => `
    <div class="comment-item" id="ci-${postId}-${c.av}-${Math.random().toString(36).slice(2,6)}">
      <div class="comment-av" style="background:${c.color};color:#fff;">${c.av}</div>
      <div style="flex:1;min-width:0;">
        <div class="comment-name">${c.name}</div>
        <div class="comment-text">${c.text}</div>
      </div>
      <div class="comment-time">${c.time}</div>
    </div>`).join('') + `
    <div class="comment-input-row">
      <div class="comment-av" style="background:linear-gradient(135deg,#6366f1,#FF9933);color:#fff;font-size:10px;">AS</div>
      <div style="flex:1;display:flex;flex-direction:column;gap:6px;">
        <input class="comment-input" id="cinput-${postId}" placeholder="Add a comment‚Ä¶" onkeydown="if(event.key==='Enter')submitComment(this,${postId})">
        <div style="display:flex;gap:6px;">
          <button onclick="submitComment(document.getElementById('cinput-${postId}'),${postId})" style="flex:1;padding:7px;border-radius:10px;background:#6366f1;color:#fff;border:none;font-size:12px;font-weight:600;cursor:pointer;font-family:inherit;">Post</button>
          <button onclick="aiGenerateComment(${postId})" style="flex:1;padding:7px;border-radius:10px;background:linear-gradient(135deg,#6366f1,#FF9933);color:#fff;border:none;font-size:12px;font-weight:600;cursor:pointer;font-family:inherit;">‚ú® AI Write</button>
        </div>
      </div>
    </div>`;
}

function submitComment(input, postId) {
  const val = input.value.trim();
  if (!val) return;
  const panel = document.getElementById('comments-' + postId);
  const inputRow = panel.querySelector('.comment-input-row');
  const cid = 'uc-' + Date.now();
  const newComment = document.createElement('div');
  newComment.className = 'comment-item user-comment';
  newComment.id = cid;
  newComment.innerHTML = `
    <div class="comment-av" style="background:linear-gradient(135deg,#6366f1,#FF9933);color:#fff;font-size:10px;">AS</div>
    <div style="flex:1;min-width:0;">
      <div class="comment-name">Amandeep Singh</div>
      <div class="comment-text" id="ct-${cid}">${val}</div>
    </div>
    <div style="display:flex;flex-direction:column;align-items:flex-end;gap:4px;">
      <div class="comment-time">now</div>
      <div style="display:flex;gap:4px;">
        <button onclick="editComment('${cid}')" style="font-size:11px;padding:3px 8px;border-radius:8px;background:#f0f0f8;color:#6366f1;border:none;cursor:pointer;font-family:inherit;font-weight:600;">‚úèÔ∏è Edit</button>
        <button onclick="deleteComment('${cid}','${postId}')" style="font-size:11px;padding:3px 8px;border-radius:8px;background:#fce4ec;color:#f43f5e;border:none;cursor:pointer;font-family:inherit;font-weight:600;">üóëÔ∏è Delete</button>
      </div>
    </div>`;
  panel.insertBefore(newComment, inputRow);
  input.value = '';
  const countEl = document.getElementById('ccount-' + postId);
  if (countEl) {
    const n = parseInt(countEl.textContent.replace(/\D/g,'')) || 0;
    countEl.textContent = (n + 1);
  }
}

function editComment(cid) {
  const textEl = document.getElementById('ct-' + cid);
  if (!textEl) return;

  // Guard: already in edit mode ‚Äî just focus the existing input
  if (document.getElementById('edit-wrap-' + cid)) {
    const inp = document.getElementById('edit-input-' + cid);
    if (inp) inp.focus();
    return;
  }

  // Strip any pre-existing "Edited" badge from the name row before reading text
  const current = textEl.textContent.trim();
  textEl.style.display = 'none';

  const wrap = document.createElement('div');
  wrap.id = 'edit-wrap-' + cid;
  wrap.style.cssText = 'display:flex;flex-direction:column;gap:5px;width:100%;margin-top:2px;';

  const input = document.createElement('input');
  input.id = 'edit-input-' + cid;
  input.value = current;
  input.style.cssText = 'width:100%;padding:7px 11px;border-radius:10px;border:1.5px solid #6366f1;font-size:13px;font-family:inherit;outline:none;background:var(--card2,#f0f0f8);color:var(--text,#111);box-sizing:border-box;';

  const btnRow = document.createElement('div');
  btnRow.style.cssText = 'display:flex;gap:6px;';

  const saveBtn = document.createElement('button');
  saveBtn.textContent = 'Save';
  saveBtn.style.cssText = 'flex:1;padding:5px;border-radius:9px;background:#6366f1;color:#fff;border:none;font-size:12px;font-weight:600;cursor:pointer;font-family:inherit;';

  const cancelBtn = document.createElement('button');
  cancelBtn.textContent = 'Cancel';
  cancelBtn.style.cssText = 'flex:1;padding:5px;border-radius:9px;background:#f0f0f8;color:#555;border:none;font-size:12px;font-weight:600;cursor:pointer;font-family:inherit;';

  const finish = (save) => {
    if (save) {
      const v = input.value.trim();
      if (!v) { textEl.style.display = ''; wrap.remove(); return; }
      // Update the comment text (clean, no emoji suffix)
      textEl.textContent = v;
      // Show "Edited" badge next to the commenter name ‚Äî add only once
      const commentItem = document.getElementById(cid);
      if (commentItem && !commentItem.querySelector('.edited-badge')) {
        const nameEl = commentItem.querySelector('.comment-name');
        if (nameEl) {
          const badge = document.createElement('span');
          badge.className = 'edited-badge';
          badge.textContent = 'Edited';
          badge.style.cssText = 'display:inline-block;margin-left:6px;font-size:9px;font-weight:700;color:#6366f1;background:#eef;padding:1px 7px;border-radius:20px;vertical-align:middle;letter-spacing:0.3px;border:1px solid #dddeff;';
          nameEl.insertAdjacentElement('afterend', badge);
        }
      }
    }
    textEl.style.display = '';
    wrap.remove();
  };

  saveBtn.onclick = () => finish(true);
  cancelBtn.onclick = () => finish(false);
  input.onkeydown = e => { if (e.key === 'Enter') finish(true); if (e.key === 'Escape') finish(false); };

  btnRow.append(saveBtn, cancelBtn);
  wrap.append(input, btnRow);
  textEl.parentNode.insertBefore(wrap, textEl);
  input.focus(); input.select();
}

function deleteComment(cid, postId) {
  const el = document.getElementById(cid);
  if (!el) return;
  el.style.opacity = '0'; el.style.transform = 'translateX(20px)'; el.style.transition = 'all .25s';
  setTimeout(() => el.remove(), 250);
  const countEl = document.getElementById('ccount-' + postId);
  if (countEl) {
    const n = parseInt(countEl.textContent.replace(/\D/g,'')) || 1;
    countEl.textContent = Math.max(0, n - 1);
  }
}

const AI_COMMENTS = [
  "Really insightful! The approach to Indic language models here is exactly what the ecosystem needs üôå",
  "This is a game-changer for regional AI accessibility. Would love to see a Hindi version of this too üáÆüá≥",
  "Excellent work! The F1 score on NER is impressive. Have you tried this with Telugu legal data as well?",
  "The GPU subsidy angle is underrated. More startups should be leveraging IndiaAI Mission resources üí°",
  "Fascinating thread! The performance gap between English and Indic models is closing fast. üöÄ",
  "This is exactly the kind of community-driven AI research India needs. Bookmarking this! ‚≠ê",
  "Would love to collaborate on extending this to Kannada datasets. Drop me a DM! ü§ù",
];

function aiGenerateComment(postId) {
  const input = document.getElementById('cinput-' + postId);
  if (!input) return;
  input.value = '‚ú® Generating‚Ä¶';
  input.disabled = true;
  input.style.color = '#6366f1';
  setTimeout(() => {
    input.value = AI_COMMENTS[Math.floor(Math.random() * AI_COMMENTS.length)];
    input.disabled = false;
    input.style.color = '';
    input.focus();
  }, 900);
}

function toggleLike(el, postId) {
  const isLiked = el.classList.toggle('liked');
  const countEl = document.getElementById('lcount-' + postId);
  if (!countEl) return;
  const raw = parseInt(countEl.getAttribute('data-count') || '0');
  const newCount = isLiked ? raw + 1 : raw - 1;
  countEl.setAttribute('data-count', newCount);
  countEl.textContent = newCount >= 1000 ? (newCount/1000).toFixed(1).replace('.0','') + 'K' : newCount;
}

function toggleComments(postId) {
  const panel = document.getElementById('comments-' + postId);
  if (!panel) return;
  if (!panel.dataset.loaded) {
    panel.innerHTML = renderComments(postId);
    panel.dataset.loaded = '1';
  }
  panel.classList.toggle('open');
}

function handleShare(postId) {
  const el = document.getElementById('scount-' + postId);
  if (!el) return;
  const raw = parseInt(el.getAttribute('data-count') || '0');
  el.setAttribute('data-count', raw + 1);
  el.textContent = (raw + 1) >= 1000 ? ((raw+1)/1000).toFixed(1).replace('.0','') + 'K' : (raw + 1);
  el.closest('.pact').style.color = '#22c55e';
  setTimeout(() => el.closest('.pact').style.color = '', 600);
}

// Saved posts store: postId -> post object
const _savedPosts = {};

function toggleSave(el, postId) {
  const isSaved = el.classList.toggle('saved');
  const source = feedByLang[currentLang] || feedByLang['en'];
  const post = source.find(p => p.id == postId);

  if (isSaved) {
    if (post) _savedPosts[postId] = post;
    el.innerHTML = 'üîñ Saved';
    el.style.color = '#6366f1';
    el.style.fontWeight = '700';
  } else {
    delete _savedPosts[postId];
    el.innerHTML = 'üîñ Save';
    el.style.color = '';
    el.style.fontWeight = '';
  }

  // Update saved count badge on chip
  const count = Object.keys(_savedPosts).length;
  const badge = document.getElementById('saved-count-badge');
  if (badge) {
    badge.textContent = count;
    badge.style.display = count > 0 ? 'inline-block' : 'none';
  }

  // If saved panel is visible, refresh it
  const savedPanel = document.getElementById('feed-saved');
  if (savedPanel && savedPanel.style.display !== 'none') {
    renderSavedPosts();
  }
}

function postActions(p) {
  const likeCount = p.likes || '0';
  const likeRaw = likeCount.includes('K') ? Math.round(parseFloat(likeCount)*1000) : parseInt(likeCount) || 0;
  const commentCount = p.comments || '0';
  const shareCount = p.shareCount || Math.floor(likeRaw * 0.08) || 12;
  return `
    <div class="post-actions">
      <div class="pact${p.liked?' liked':''}" onclick="toggleLike(this,${p.id})">
        ‚ù§Ô∏è <span id="lcount-${p.id}" data-count="${likeRaw}">${p.likes}</span>
      </div>
      <div class="pact" onclick="toggleComments(${p.id})">
        üí¨ <span id="ccount-${p.id}">${commentCount}</span>
      </div>
      <div class="pact" onclick="handleShare(${p.id})">
        üîÅ <span id="scount-${p.id}" data-count="${shareCount}">${shareCount}</span>
      </div>
      <div class="pact" onclick="toggleSave(this,${p.id})">üîñ Save</div>
    </div>
    <div class="comment-panel" id="comments-${p.id}"></div>`;
}

function buildPostCard(p) {
  const lang = currentLang;

  if (p.isPromptCard) {
    return `
      <div class="prompt-card">
        <div class="pc-head">
          <div class="pc-icon" style="background:linear-gradient(135deg,#f0f0ff,#e8e8ff);">‚ö°</div>
          <div>
            <div class="pc-name">${p.promptTitle}</div>
            <div class="pc-meta">${p.promptMeta}</div>
          </div>
          <div class="pc-lang">${p.postLang}</div>
        </div>
        <div class="pc-body">${p.promptBody}</div>
        <div class="pc-footer">
          <button class="btn-run">‚ñ∂ Run</button>
          <button class="btn-copy">Copy</button>
          <div class="pc-stat">${p.promptSaves}</div>
        </div>
      </div>`;
  }

  if (p.isImageCard) {
    const trans = renderTranslateBar(p.id, p.text, lang);
    const imgs = p.images;
    let imgHTML;
    if (imgs.length === 1) {
      imgHTML = `<div style="margin:0 12px 12px;border-radius:14px;overflow:hidden;height:160px;background:${imgs[0].bg};display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;cursor:pointer;">
        <span style="font-size:52px;">${imgs[0].emoji}</span>
        <span style="font-size:11px;color:#888;font-weight:500;">${imgs[0].caption}</span>
      </div>`;
    } else if (imgs.length === 2) {
      imgHTML = `<div style="display:grid;grid-template-columns:1fr 1fr;gap:6px;margin:0 12px 12px;">
        ${imgs.map(img=>`<div style="border-radius:12px;height:110px;background:${img.bg};display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;cursor:pointer;"><span style="font-size:34px;">${img.emoji}</span><span style="font-size:10px;color:#888;">${img.caption}</span></div>`).join('')}
      </div>`;
    } else {
      imgHTML = `<div style="display:grid;grid-template-columns:1fr 1fr;gap:6px;margin:0 12px 12px;">
        <div style="grid-row:span 2;border-radius:12px;background:${imgs[0].bg};display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;cursor:pointer;min-height:150px;"><span style="font-size:42px;">${imgs[0].emoji}</span><span style="font-size:10px;color:#888;">${imgs[0].caption}</span></div>
        ${imgs.slice(1).map(img=>`<div style="border-radius:12px;height:72px;background:${img.bg};display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;cursor:pointer;"><span style="font-size:26px;">${img.emoji}</span><span style="font-size:9px;color:#888;">${img.caption}</span></div>`).join('')}
      </div>`;
    }
    return `<div class="card">
      <div class="post-header">
        <div class="post-av" style="background:${p.avColor};">${p.av}</div>
        <div><div class="post-name">${p.name}</div><div class="post-time">${p.time} ¬∑ <span style="background:#fff3e0;color:#e65100;font-size:10px;font-weight:700;padding:1px 6px;border-radius:10px;">${p.postLang}</span></div></div>
        <div class="post-badge ${p.badgeClass}">${p.badge}</div>
      </div>
      <div class="post-text">${p.text}</div>${trans}${imgHTML}
      ${postActions(p)}
    </div>`;
  }

  if (p.isVideoCard) {
    return `<div class="card">
      <div class="post-header">
        <div class="post-av" style="background:${p.avColor};">${p.av}</div>
        <div><div class="post-name">${p.name}</div><div class="post-time">${p.time} ¬∑ <span style="background:#fff3e0;color:#e65100;font-size:10px;font-weight:700;padding:1px 6px;border-radius:10px;">${p.postLang}</span></div></div>
        <div class="post-badge ${p.badgeClass}">${p.badge}</div>
      </div>
      <div style="margin:0 12px 12px;border-radius:14px;overflow:hidden;position:relative;cursor:pointer;">
        <div class="post-img ${p.videoBg}" style="height:130px;border-radius:14px;font-size:40px;">${p.videoEmoji}</div>
        <div style="position:absolute;inset:0;display:flex;align-items:center;justify-content:center;">
          <div style="width:44px;height:44px;border-radius:50%;background:rgba(0,0,0,0.55);display:flex;align-items:center;justify-content:center;font-size:16px;color:#fff;">‚ñ∂</div>
        </div>
        <div style="position:absolute;bottom:8px;right:10px;background:rgba(0,0,0,0.65);color:#fff;font-size:10px;font-weight:600;padding:2px 7px;border-radius:6px;">${p.videoDur}</div>
      </div>
      <div style="padding:0 14px 4px;font-size:13px;font-weight:600;color:#111;">${p.videoTitle}</div>
      <div style="padding:0 14px 12px;font-size:11px;color:#aaa;">üëÅ ${p.videoViews}</div>
      ${postActions(p)}
    </div>`;
  }

  if (p.isAudio) {
    const trans = renderTranslateBar(p.id, p.text, lang);
    return `<div class="card">
      <div class="post-header">
        <div class="post-av" style="background:${p.avColor};">${p.av}</div>
        <div><div class="post-name">${p.name}</div><div class="post-time">${p.time} ¬∑ <span style="background:#fff3e0;color:#e65100;font-size:10px;font-weight:700;padding:1px 6px;border-radius:10px;">${p.postLang}</span></div></div>
        <div class="post-badge ${p.badgeClass}">${p.badge}</div>
      </div>
      <div class="post-text">${p.text}</div>${trans}
      <div style="margin:0 12px 12px;background:#f8f8fc;border-radius:14px;padding:12px 14px;display:flex;align-items:center;gap:12px;">
        <div style="width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#f43f5e,#FF9933);display:flex;align-items:center;justify-content:center;font-size:16px;color:#fff;flex-shrink:0;cursor:pointer;">‚ñ∂</div>
        <div style="flex:1;min-width:0;">
          <div style="font-size:13px;font-weight:600;color:#111;margin-bottom:4px;">${p.audioTitle}</div>
          <div style="height:4px;background:#eee;border-radius:2px;overflow:hidden;"><div style="height:100%;width:35%;background:linear-gradient(90deg,#f43f5e,#FF9933);border-radius:2px;"></div></div>
        </div>
        <div style="font-size:11px;color:#aaa;flex-shrink:0;">${p.audioDuration}</div>
      </div>
      ${postActions(p)}
    </div>`;
  }

  const trans = renderTranslateBar(p.id, p.text, lang);
  return `
    <div class="card">
      <div class="post-header">
        <div class="post-av" style="background:${p.avColor};">${p.av}</div>
        <div><div class="post-name">${p.name}</div>
          <div class="post-time">${p.time} ¬∑ <span style="background:#fff3e0;color:#e65100;font-size:10px;font-weight:700;padding:1px 6px;border-radius:10px;">${p.postLang}</span></div>
        </div>
        <div class="post-badge ${p.badgeClass}">${p.badge}</div>
      </div>
      ${p.text ? `<div class="post-text">${p.text}</div>${trans}` : ''}
      ${p.img ? `<div class="post-img ${p.img}">${p.imgEmoji}</div>` : ''}
      ${postActions(p)}
    </div>`;
}

function renderFeed(filter) {
  const list = document.getElementById('feed-list');
  const source = feedByLang[currentLang] || feedByLang['en'];
  const items = source.filter(p => p.tags.includes(filter));
  list.style.opacity = 0;
  setTimeout(() => {
    list.innerHTML = items.map(buildPostCard).join('');
    list.style.transition = 'opacity .2s';
    list.style.opacity = 1;
  }, 100);
}

function feedFilter(filter, el) {
  el.parentElement.querySelectorAll('.chip').forEach(c => c.classList.remove('on'));
  el.classList.add('on');
  renderFeed(filter);
}

function setLang(lang) {
  currentLang = lang;

  // Apply native font to the feed area
  const font = langFonts[lang] || 'Inter';
  const feedEl = document.getElementById('tab-feed');
  if (feedEl) {
    feedEl.style.fontFamily = `'${font}', sans-serif`;
    // Mark Indic scripts for larger line-height CSS
    const isIndic = ['hi','pa','ta','kn','te','mr'].includes(lang);
    feedEl.setAttribute('lang-script', isIndic ? 'indic' : 'latin');
  }

  // Update language banner
  const banner = document.getElementById('lang-banner');
  const langNameEl = document.getElementById('lang-name');
  if (lang !== 'en') {
    banner.style.display = 'flex';
    langNameEl.textContent = langNames[lang];
  } else {
    banner.style.display = 'none';
    if (feedEl) feedEl.style.fontFamily = "'Inter', sans-serif";
  }

  // Update select display text
  const sel = document.getElementById('langSelect');
  if (sel) sel.value = lang;

  // Re-render feed with new language posts
  const activeChip = document.querySelector('#tab-feed .chip.on');
  const chipText = activeChip ? activeChip.textContent.trim() : 'All';
  const filterMap = {
    'All':'all', '‚ö° Prompts':'prompts', 'üé¨ Videos':'videos',
    'üì∏ Images':'images', 'üéôÔ∏è Audio':'audio',
    'üáÆüá≥ Indic Models':'indic', 'üí¨ Discuss':'discuss'
  };
  const filter = filterMap[chipText] || 'all';
  renderFeed(filter);
}

// Feed init handled in window.onload below

// ‚îÄ‚îÄ News tab ‚îÄ‚îÄ
const newsData = {
  all: [
    { bg:'gc', icon:'üèõÔ∏è', src:'IndiaAI Mission', title:'GPU subsidies for GenAI startups ‚Äî how to apply before March 31', meta:'1h ago', pill:true, tags:['all','indiaai','policy'] },
    { bg:'ga', icon:'ü§ñ', src:'TechCrunch India', title:'890+ GenAI startups: The full map of India\'s AI ecosystem in 2026', meta:'4h ago', pill:true, tags:['all','indiaai','funding'] },
    { bg:'gb', icon:'üåê', src:'ai4bharat', title:'IndicBERT v3 released ‚Äî supports all 22 scheduled Indian languages', meta:'8h ago ¬∑ 5 min read', pill:false, tags:['all','research'] },
    { bg:'gd', icon:'üí∞', src:'Inc42', title:'Indian GenAI startups raised $2.1B in 2025 ‚Äî 2026 looks bigger', meta:'1d ago', pill:true, tags:['all','funding'] },
    { bg:'ge', icon:'üìú', src:'MeitY', title:'India\'s Digital Personal Data Protection Act: What AI builders must know', meta:'2d ago ¬∑ 6 min read', pill:false, tags:['all','policy'] },
    { bg:'gc', icon:'üî¨', src:'IIT Madras AI Lab', title:'New multilingual benchmark for Indic NLP tasks released ‚Äî outperforms GLUE', meta:'3d ago', pill:true, tags:['all','research'] },
  ]
};

function renderNews(filter) {
  const list = document.getElementById('news-list');
  const items = newsData.all.filter(n => n.tags.includes(filter));
  if (!items.length) {
    list.innerHTML = `<div style="text-align:center;padding:40px 20px;color:#aaa;font-size:14px;">No articles found.</div>`;
    return;
  }
  list.innerHTML = items.map(n => `
    <div class="ncard">
      <div class="nthumb ${n.bg}">${n.icon}</div>
      <div class="nbody">
        <div class="nsrc">${n.src}</div>
        <div class="ntitle">${n.title}</div>
        <div class="nmeta">${n.meta}${n.pill ? ' ¬∑ <span class="ai-pill">‚ú¶ AI Summary</span>' : ''}</div>
      </div>
    </div>`).join('');
}

function newsFilter(filter, el) {
  el.parentElement.querySelectorAll('.chip').forEach(c => c.classList.remove('on'));
  el.classList.add('on');
  const box = document.getElementById('news-list');
  box.style.opacity = 0;
  setTimeout(() => { renderNews(filter); box.style.transition='opacity .2s'; box.style.opacity=1; }, 120);
}

// News init handled in window.onload below

// ‚îÄ‚îÄ Schedule tab ‚îÄ‚îÄ
// ‚îÄ‚îÄ Schedule helpers ‚îÄ‚îÄ
const MONTH_NAMES = ['January','February','March','April','May','June','July','August','September','October','November','December'];
const SHORT_MONTHS = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
const DAY_NAMES = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];

// Scheduled posts data ‚Äî days relative to today (0=today, 1=tomorrow, etc.)
const scheduledPosts = [
  { relDay: 0, time: '9 AM',    color: '#FF9933', name: 'Hindi Prompt Drop: RAG Guide',         platform: 'üü° Sianap ¬∑ üîµ LinkedIn' },
  { relDay: 0, time: '2 PM',    color: '#22c55e', name: 'IndicBERT Tutorial Video',             platform: 'üì∏ Instagram ¬∑ üü° Sianap Gallery' },
  { relDay: 0, time: '7:30 PM', color: '#6366f1', name: 'IndiaAI GPU Subsidy Thread',           platform: 'üîµ LinkedIn ¬∑ AI-optimised time' },
  { relDay: 1, time: '10 AM',   color: '#FF9933', name: 'Tamil NLP Carousel Post',              platform: 'üì∏ Instagram' },
  { relDay: 3, time: '6 PM',    color: '#6366f1', name: 'Sianap Community Update',              platform: 'üü° Sianap ¬∑ üîµ LinkedIn' },
  { relDay: 5, time: '9 AM',    color: '#22c55e', name: 'Kannada Prompt: Sentiment Analyser',   platform: 'üü° Sianap' },
  { relDay: 7, time: '11 AM',   color: '#f43f5e', name: 'IndiaAI Community Summit ‚Äî Promo',     platform: 'üîµ LinkedIn ¬∑ üìò Facebook' },
  { relDay: 9, time: '8 AM',    color: '#FF9933', name: 'Monthly AI Roundup Newsletter',        platform: 'üü° Sianap ¬∑ üîµ LinkedIn' },
];

function calViewState() {
  // Keep track of which month is being displayed
  if (!window._calView) {
    const n = new Date();
    window._calView = { year: n.getFullYear(), month: n.getMonth() };
  }
  return window._calView;
}

function buildCalendar() {
  const c = document.getElementById('calCells');
  if (!c) return;

  const now = new Date();
  const todayD = now.getDate(), todayM = now.getMonth(), todayY = now.getFullYear();

  const view = calViewState();
  const { year, month } = view;

  // Update header
  const hdr = document.querySelector('.cal-month');
  if (hdr) hdr.textContent = MONTH_NAMES[month] + ' ' + year;

  // Which days have events this month?
  const eventDays = new Set();
  scheduledPosts.forEach(p => {
    const d = new Date(now); d.setDate(now.getDate() + p.relDay);
    if (d.getFullYear() === year && d.getMonth() === month) eventDays.add(d.getDate());
  });

  // First day of month (0=Sun)
  const firstDay = new Date(year, month, 1).getDay();
  // Days in month
  const daysInMonth = new Date(year, month + 1, 0).getDate();
  // Days in prev month
  const daysInPrev = new Date(year, month, 0).getDate();

  c.innerHTML = '';

  // Prev month overflow
  for (let i = firstDay - 1; i >= 0; i--) {
    const e = document.createElement('div');
    e.className = 'cell om'; e.textContent = daysInPrev - i; c.appendChild(e);
  }

  // This month
  for (let d = 1; d <= daysInMonth; d++) {
    const e = document.createElement('div');
    e.className = 'cell';
    const isToday = d === todayD && month === todayM && year === todayY;
    if (isToday) e.classList.add('today');
    if (eventDays.has(d)) e.classList.add('has-event');
    e.textContent = d;
    e.onclick = () => showDaySchedule(year, month, d);
    c.appendChild(e);
  }

  // Next month overflow to fill grid (total cells should be multiple of 7)
  const total = firstDay + daysInMonth;
  const remainder = total % 7;
  if (remainder > 0) {
    for (let d = 1; d <= 7 - remainder; d++) {
      const e = document.createElement('div');
      e.className = 'cell om'; e.textContent = d; c.appendChild(e);
    }
  }

  // Render today's schedule below
  renderDaySchedule(year, month, todayD);
}

function showDaySchedule(year, month, day) {
  // Highlight clicked cell
  document.querySelectorAll('#calCells .cell').forEach(c => c.style.outline = '');
  renderDaySchedule(year, month, day);
}

function renderDaySchedule(year, month, day) {
  const lbl = document.getElementById('sched-day-label');
  const list = document.getElementById('sched-day-list');
  if (!lbl || !list) return;

  const now = new Date();
  const target = new Date(year, month, day);
  const todayMidnight = new Date(now.getFullYear(), now.getMonth(), now.getDate());
  const diffDays = Math.round((target - todayMidnight) / 86400000);

  // Day label
  const dayName = DAY_NAMES[target.getDay()];
  const isToday = diffDays === 0;
  const isTomorrow = diffDays === 1;
  const labelStr = isToday ? `Today ‚Äî ${dayName}, ${SHORT_MONTHS[month]} ${day}`
                 : isTomorrow ? `Tomorrow ‚Äî ${dayName}, ${SHORT_MONTHS[month]} ${day}`
                 : `${dayName}, ${SHORT_MONTHS[month]} ${day}`;
  lbl.textContent = labelStr;

  // Posts for this day
  const posts = scheduledPosts.filter(p => {
    const pd = new Date(now); pd.setDate(now.getDate() + p.relDay);
    return pd.getFullYear() === year && pd.getMonth() === month && pd.getDate() === day;
  });

  if (posts.length === 0) {
    list.innerHTML = `<div style="padding:20px;text-align:center;color:#aaa;font-size:13px;">üì≠ No posts scheduled for this day.<br><span style="color:#6366f1;font-weight:600;cursor:pointer;" onclick="">+ Schedule something</span></div>`;
    return;
  }

  list.innerHTML = posts.map(p => `
    <div class="sched">
      <div class="sched-t">${p.time}</div>
      <div class="sched-dot" style="background:${p.color};"></div>
      <div class="sched-body">
        <div class="sched-name">${p.name}</div>
        <div class="sched-pl">${p.platform}</div>
      </div>
    </div>`).join('');
}

function calPrevMonth() {
  const v = calViewState();
  if (v.month === 0) { v.month = 11; v.year--; } else { v.month--; }
  buildCalendar();
}
function calNextMonth() {
  const v = calViewState();
  if (v.month === 11) { v.month = 0; v.year++; } else { v.month++; }
  buildCalendar();
}

const scheduleContent = {
  today: `
    <div class="cal-head" style="padding:4px 20px 14px;">
      <div class="cal-month"></div>
      <div class="cal-nav"><button onclick="calPrevMonth()">‚Äπ</button><button onclick="calNextMonth()">‚Ä∫</button></div>
    </div>
    <div class="cal-grid">
      <div class="day-row">
        <div class="dl">S</div><div class="dl">M</div><div class="dl">T</div>
        <div class="dl">W</div><div class="dl">T</div><div class="dl">F</div><div class="dl">S</div>
      </div>
      <div class="cells" id="calCells"></div>
    </div>
    <div class="section-label" id="sched-day-label">Today</div>
    <div id="sched-day-list"></div>`,

  upcoming: (() => {
    const now = new Date();
    const fmt = (relDay) => {
      const d = new Date(now); d.setDate(now.getDate() + relDay);
      return SHORT_MONTHS[d.getMonth()] + ' ' + d.getDate();
    };
    const upcoming = scheduledPosts.filter(p => p.relDay >= 1);
    const thisWeek = upcoming.filter(p => p.relDay <= 6);
    const nextWeek = upcoming.filter(p => p.relDay > 6);
    const row = (p) => `
      <div class="sched">
        <div class="sched-t">${fmt(p.relDay)}</div>
        <div class="sched-dot" style="background:${p.color};"></div>
        <div class="sched-body">
          <div class="sched-name">${p.name}</div>
          <div class="sched-pl">${p.platform} ¬∑ ${p.time} IST</div>
        </div>
      </div>`;
    return `
      <div class="section-label">This Week</div>
      ${thisWeek.map(row).join('') || '<div style="padding:12px 20px;font-size:13px;color:#aaa;">Nothing scheduled this week yet.</div>'}
      <div class="section-label">Next Week & Beyond</div>
      ${nextWeek.map(row).join('') || '<div style="padding:12px 20px;font-size:13px;color:#aaa;">Nothing scheduled beyond this week yet.</div>'}`;
  })(),

  roadmap: `
    <div class="phase">
      <div class="ph-num" style="background:#fff3e0;color:#e65100;">1</div>
      <div>
        <div class="ph-title">Community</div>
        <div class="ph-desc">Feed, prompt library, Proof-of-AI labels, Indic language support.</div>
        <div class="ph-tag" style="background:#e8f5e9;color:#2e7d32;">üü¢ Live Now</div>
      </div>
    </div>
    <div class="phase">
      <div class="ph-num" style="background:#f0f0ff;color:#6366f1;">2</div>
      <div>
        <div class="ph-title">Model Sandbox</div>
        <div class="ph-desc">Run Indic LLMs inside Sianap. Pro API access. GPU inference.</div>
        <div class="ph-tag" style="background:#f0f0ff;color:#6366f1;">üîµ Q3 2026</div>
      </div>
    </div>
    <div class="phase">
      <div class="ph-num" style="background:#f0fffe;color:#0891b2;">3</div>
      <div>
        <div class="ph-title">AI Mentorship ‚Äî EduPulse</div>
        <div class="ph-desc">1-on-1 mentorship, verified talent portal, B2B recruitment.</div>
        <div class="ph-tag" style="background:#f0fffe;color:#0891b2;">‚ö™ Q1 2027</div>
      </div>
    </div>`
};

function scheduleFilter(type, el) {
  el.parentElement.querySelectorAll('.chip').forEach(c => c.classList.remove('on'));
  el.classList.add('on');
  const box = document.getElementById('schedule-content');
  box.style.opacity = 0;
  // Rebuild upcoming dynamically each time (dates change daily)
  if (type === 'upcoming') {
    const now = new Date();
    const fmt = (relDay) => {
      const d = new Date(now); d.setDate(now.getDate() + relDay);
      return SHORT_MONTHS[d.getMonth()] + ' ' + d.getDate();
    };
    const upcoming = scheduledPosts.filter(p => p.relDay >= 1);
    const thisWeek = upcoming.filter(p => p.relDay <= 6);
    const nextWeek = upcoming.filter(p => p.relDay > 6);
    const row = (p) => `
      <div class="sched">
        <div class="sched-t">${fmt(p.relDay)}</div>
        <div class="sched-dot" style="background:${p.color};"></div>
        <div class="sched-body">
          <div class="sched-name">${p.name}</div>
          <div class="sched-pl">${p.platform} ¬∑ ${p.time} IST</div>
        </div>
      </div>`;
    scheduleContent.upcoming = `
      <div class="section-label">This Week</div>
      ${thisWeek.map(row).join('') || '<div style="padding:12px 20px;font-size:13px;color:#aaa;">Nothing this week yet.</div>'}
      <div class="section-label">Next Week & Beyond</div>
      ${nextWeek.map(row).join('') || '<div style="padding:12px 20px;font-size:13px;color:#aaa;">Nothing beyond this week yet.</div>'}`;
  }
  setTimeout(() => {
    box.innerHTML = scheduleContent[type];
    box.style.transition = 'opacity .2s'; box.style.opacity = 1;
    if (type === 'today') {
      // Reset view to current month/year
      const n = new Date();
      window._calView = { year: n.getFullYear(), month: n.getMonth() };
      buildCalendar();
    }
  }, 120);
}


// ‚îÄ‚îÄ Stats tab ‚îÄ‚îÄ
const statsContent = {
  overview: `
    <div style="margin:0 16px 12px;background:#fff;border-radius:16px;padding:14px;box-shadow:0 2px 10px rgba(0,0,0,0.05);">
      <div style="font-size:12px;color:#FF9933;font-weight:700;margin-bottom:4px;">‚ú¶ AI Insight</div>
      <div style="font-size:13px;color:#444;line-height:1.5;">Hindi prompt posts outperform English by <b>2.4√ó</b>. Post 2 more Indic prompts next week to hit <b>50K impressions</b>.</div>
    </div>
    <div class="stat-grid">
      <div class="scard"><div class="sico">üëÅÔ∏è</div><div class="sval">62.4K</div><div class="slbl">Impressions</div><div class="schg up">‚Üë 41%</div></div>
      <div class="scard"><div class="sico">‚ö°</div><div class="sval">5,210</div><div class="slbl">Prompt Runs</div><div class="schg up">‚Üë 88%</div></div>
      <div class="scard"><div class="sico">üë•</div><div class="sval">+412</div><div class="slbl">New Followers</div><div class="schg up">‚Üë 29%</div></div>
      <div class="scard"><div class="sico">‚úÖ</div><div class="sval">98</div><div class="slbl">Verified Posts</div><div class="schg up">‚Üë 12%</div></div>
    </div>
    <div class="chart-card">
      <div class="chart-head"><div class="chart-ttl">Weekly Impressions</div><div class="chart-prd">This Week</div></div>
      <div class="bars" id="barChart"></div>
    </div>`,

  posts: `
    <div class="stat-grid">
      <div class="scard"><div class="sico">üìù</div><div class="sval">34</div><div class="slbl">Posts This Month</div><div class="schg up">‚Üë 18%</div></div>
      <div class="scard"><div class="sico">‚ù§Ô∏è</div><div class="sval">8.4K</div><div class="slbl">Total Likes</div><div class="schg up">‚Üë 32%</div></div>
      <div class="scard"><div class="sico">üí¨</div><div class="sval">1,280</div><div class="slbl">Comments</div><div class="schg up">‚Üë 21%</div></div>
      <div class="scard"><div class="sico">üîÅ</div><div class="sval">640</div><div class="slbl">Shares</div><div class="schg up">‚Üë 15%</div></div>
    </div>
    <div style="margin:0 16px 12px;background:#fff;border-radius:16px;padding:14px;box-shadow:0 2px 10px rgba(0,0,0,0.05);">
      <div style="font-size:14px;font-weight:600;color:#111;margin-bottom:12px;">Top Posts</div>
      <div style="display:flex;flex-direction:column;gap:12px;">
        ${[
          ['Hindi RAG prompt: 10K saves in 3 days','üëÅ 22K ¬∑ ‚ù§Ô∏è 1.4K ¬∑ ‚ñ∂ 3.2K runs'],
          ['IndicBERT Tamil NER ‚Äî full guide','üëÅ 14K ¬∑ ‚ù§Ô∏è 890 ¬∑ ‚ñ∂ 1.8K runs'],
          ['How I got IndiaAI GPU credits','üëÅ 9.6K ¬∑ ‚ù§Ô∏è 620 ¬∑ üí¨ 188'],
        ].map((p,i) => `
          <div style="display:flex;gap:10px;align-items:center;">
            <div style="font-size:15px;font-weight:700;color:#ddd;min-width:22px;">${i+1}</div>
            <div style="flex:1;min-width:0;">
              <div style="font-size:13px;font-weight:600;color:#111;margin-bottom:2px;">${p[0]}</div>
              <div style="font-size:11px;color:#aaa;">${p[1]}</div>
            </div>
          </div>`).join('')}
      </div>
    </div>`,

  prompts: `
    <div class="stat-grid">
      <div class="scard"><div class="sico">‚ö°</div><div class="sval">5,210</div><div class="slbl">Total Runs</div><div class="schg up">‚Üë 88%</div></div>
      <div class="scard"><div class="sico">üîñ</div><div class="sval">9,800</div><div class="slbl">Total Saves</div><div class="schg up">‚Üë 54%</div></div>
      <div class="scard"><div class="sico">‚úÖ</div><div class="sval">12</div><div class="slbl">Verified Prompts</div><div class="schg up">‚Üë 20%</div></div>
      <div class="scard"><div class="sico">‚≠ê</div><div class="sval">4.9</div><div class="slbl">Avg Rating</div><div class="schg up">‚Üë 0.2</div></div>
    </div>
    <div style="margin:0 16px 12px;background:#fff;border-radius:16px;padding:14px;box-shadow:0 2px 10px rgba(0,0,0,0.05);">
      <div style="font-size:14px;font-weight:600;color:#111;margin-bottom:12px;">Top Prompts</div>
      <div style="display:flex;flex-direction:column;gap:12px;">
        ${[
          ['Hindi Summariser','‚ñ∂ 3.2K runs ¬∑ üîñ 4.4K saves','Hindi'],
          ['Kannada Sentiment Analyser','‚ñ∂ 890 runs ¬∑ üîñ 2.1K saves','Kannada'],
          ['LinkedIn Post Writer (India)','‚ñ∂ 5.6K runs ¬∑ üîñ 6.8K saves','English'],
        ].map((p,i) => `
          <div style="display:flex;gap:10px;align-items:center;">
            <div style="font-size:15px;font-weight:700;color:#ddd;min-width:22px;">${i+1}</div>
            <div style="flex:1;min-width:0;">
              <div style="font-size:13px;font-weight:600;color:#111;margin-bottom:2px;">${p[0]}</div>
              <div style="font-size:11px;color:#aaa;">${p[1]}</div>
            </div>
            <div style="background:#fff3e0;color:#e65100;font-size:10px;font-weight:700;padding:3px 9px;border-radius:20px;flex-shrink:0;">${p[2]}</div>
          </div>`).join('')}
      </div>
    </div>`,

  audience: `
    <div class="stat-grid">
      <div class="scard"><div class="sico">üë•</div><div class="sval">10.4K</div><div class="slbl">Total Followers</div><div class="schg up">‚Üë 29%</div></div>
      <div class="scard"><div class="sico">üåç</div><div class="sval">82%</div><div class="slbl">India-based</div><div class="schg up">‚Üë 4%</div></div>
      <div class="scard"><div class="sico">üî•</div><div class="sval">68%</div><div class="slbl">Engagement Rate</div><div class="schg up">‚Üë 11%</div></div>
      <div class="scard"><div class="sico">üì±</div><div class="sval">91%</div><div class="slbl">Mobile Users</div><div class="schg dn">‚Üì 2%</div></div>
    </div>
    <div style="margin:0 16px 12px;background:#fff;border-radius:16px;padding:14px;box-shadow:0 2px 10px rgba(0,0,0,0.05);">
      <div style="font-size:14px;font-weight:600;color:#111;margin-bottom:12px;">Top Cities</div>
      <div style="display:flex;flex-direction:column;gap:10px;">
        ${[
          ['Bangalore','28%',28],['Mumbai','22%',22],['Hyderabad','18%',18],['Chennai','14%',14],['Delhi','10%',10]
        ].map(c => `
          <div>
            <div style="display:flex;justify-content:space-between;margin-bottom:4px;">
              <span style="font-size:13px;color:#444;">üìç ${c[0]}</span>
              <span style="font-size:12px;font-weight:600;color:#111;">${c[1]}</span>
            </div>
            <div style="height:6px;background:#f0f0f5;border-radius:3px;overflow:hidden;">
              <div style="height:100%;width:${c[2]*3}px;background:linear-gradient(90deg,#FF9933,#6366f1);border-radius:3px;max-width:100%;"></div>
            </div>
          </div>`).join('')}
      </div>
    </div>`
};

function statsFilter(type, el) {
  el.parentElement.querySelectorAll('.chip').forEach(c => c.classList.remove('on'));
  el.classList.add('on');
  const box = document.getElementById('stats-content');
  box.style.opacity = 0;
  setTimeout(() => {
    box.innerHTML = statsContent[type];
    box.style.transition = 'opacity .2s'; box.style.opacity = 1;
    if (type === 'overview') buildBarChart();
  }, 120);
}

function buildBarChart() {
  const ch = document.getElementById('barChart');
  if (!ch) return;
  ch.innerHTML = '';
  const data = [{d:'S',v:32},{d:'M',v:55},{d:'T',v:72},{d:'W',v:92},{d:'T',v:65},{d:'F',v:88},{d:'S',v:50}];
  data.forEach(item => {
    const w = document.createElement('div');
    w.className = 'bw';
    w.innerHTML = `<div class="b" style="height:${item.v}%;background:${item.v>=88?'#FF9933':'#e8e8f0'};"></div><div class="bl">${item.d}</div>`;
    ch.appendChild(w);
  });
}

// Stats init handled in window.onload below
const libraryContent = {
  prompts: `
    <div class="prompt-card">
      <div class="pc-head">
        <div class="pc-icon">üß†</div>
        <div>
          <div class="pc-name">Kannada Sentiment</div>
          <div class="pc-meta">by Meena R. ¬∑ 890 runs ¬∑ ‚≠ê 4.8</div>
        </div>
        <div class="pc-lang">Kannada</div>
      </div>
      <div class="pc-body">"Classify sentiment of this Kannada text as positive, negative, or neutral. Return JSON. Text: {{text}}"</div>
      <div class="pc-footer">
        <button class="btn-run">‚ñ∂ Run</button>
        <button class="btn-copy">Copy</button>
        <div class="pc-stat">2.1K saves</div>
      </div>
    </div>
    <div class="prompt-card">
      <div class="pc-head">
        <div class="pc-icon">üìù</div>
        <div>
          <div class="pc-name">LinkedIn Post (India)</div>
          <div class="pc-meta">by Sianap AI ¬∑ 5.6K runs ¬∑ ‚≠ê 4.9</div>
        </div>
        <div class="pc-lang">English</div>
      </div>
      <div class="pc-body">"Write a LinkedIn post about {{topic}} for Indian startup audience. Use natural Hinglish. 200 words max."</div>
      <div class="pc-footer">
        <button class="btn-run">‚ñ∂ Run</button>
        <button class="btn-copy">Copy</button>
        <div class="pc-stat">4.4K saves</div>
      </div>
    </div>
    <div class="prompt-card">
      <div class="pc-head">
        <div class="pc-icon">‚ö°</div>
        <div>
          <div class="pc-name">Hindi Summariser</div>
          <div class="pc-meta">by Arjun S. ¬∑ 1.2K runs ¬∑ ‚≠ê 4.9</div>
        </div>
        <div class="pc-lang">Hindi</div>
      </div>
      <div class="pc-body">"Summarise {{text}} in Hindi in 3 bullet points under 15 words each."</div>
      <div class="pc-footer">
        <button class="btn-run">‚ñ∂ Run</button>
        <button class="btn-copy">Copy</button>
        <div class="pc-stat">3.8K saves</div>
      </div>
    </div>
    <div class="prompt-card">
      <div class="pc-head">
        <div class="pc-icon">üî§</div>
        <div>
          <div class="pc-name">Tamil ‚Üí English Translator</div>
          <div class="pc-meta">by Ravi K. ¬∑ 760 runs ¬∑ ‚≠ê 4.7</div>
        </div>
        <div class="pc-lang">Tamil</div>
      </div>
      <div class="pc-body">"Translate {{text}} from Tamil to English. Keep technical terms in English."</div>
      <div class="pc-footer">
        <button class="btn-run">‚ñ∂ Run</button>
        <button class="btn-copy">Copy</button>
        <div class="pc-stat">1.5K saves</div>
      </div>
    </div>`,

  videos: `
    <div class="vid-grid">
      <div class="vid-cell">
        <div class="vid-thumb ga">ü§ñ<div class="vid-play">‚ñ∂</div></div>
        <div class="vid-info">
          <div class="vid-lang">Hindi</div>
          <div class="vid-title">Build a RAG in 20 Min</div>
          <div class="vid-meta">üëÅ 18K ¬∑ ‚≠ê 4.9</div>
        </div>
      </div>
      <div class="vid-cell">
        <div class="vid-thumb gb">üåø<div class="vid-play">‚ñ∂</div></div>
        <div class="vid-info">
          <div class="vid-lang">Tamil</div>
          <div class="vid-title">IndicBERT Fine-tune</div>
          <div class="vid-meta">üëÅ 9.4K ¬∑ ‚≠ê 4.7</div>
        </div>
      </div>
      <div class="vid-cell">
        <div class="vid-thumb gd">üöÄ<div class="vid-play">‚ñ∂</div></div>
        <div class="vid-info">
          <div class="vid-lang">English</div>
          <div class="vid-title">LangChain + FastAPI</div>
          <div class="vid-meta">üëÅ 14K ¬∑ ‚≠ê 4.8</div>
        </div>
      </div>
      <div class="vid-cell">
        <div class="vid-thumb ge">üî¨<div class="vid-play">‚ñ∂</div></div>
        <div class="vid-info">
          <div class="vid-lang">Telugu</div>
          <div class="vid-title">Diffusion Models</div>
          <div class="vid-meta">üëÅ 6.1K ¬∑ ‚≠ê 4.6</div>
        </div>
      </div>
      <div class="vid-cell">
        <div class="vid-thumb gc">üß†<div class="vid-play">‚ñ∂</div></div>
        <div class="vid-info">
          <div class="vid-lang">Hindi</div>
          <div class="vid-title">Prompt Engineering 101</div>
          <div class="vid-meta">üëÅ 11K ¬∑ ‚≠ê 4.9</div>
        </div>
      </div>
      <div class="vid-cell">
        <div class="vid-thumb ga">üåê<div class="vid-play">‚ñ∂</div></div>
        <div class="vid-info">
          <div class="vid-lang">Kannada</div>
          <div class="vid-title">GPT-4o API Walkthrough</div>
          <div class="vid-meta">üëÅ 7.3K ¬∑ ‚≠ê 4.8</div>
        </div>
      </div>
    </div>`,

  notebooks: `
    <div style="margin:0 16px 12px;background:#fff;border-radius:18px;overflow:hidden;box-shadow:0 2px 10px rgba(0,0,0,0.05);">
      <div style="padding:14px;border-bottom:1px solid #f0f0f5;display:flex;gap:12px;align-items:center;">
        <div style="width:42px;height:42px;border-radius:12px;background:#f0f0ff;display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0;">üìì</div>
        <div style="flex:1;min-width:0;">
          <div style="font-size:14px;font-weight:600;color:#111;margin-bottom:2px;">IndicBERT NER ‚Äî Tamil Legal</div>
          <div style="font-size:11px;color:#aaa;">by Priya N. ¬∑ Python ¬∑ 24 cells</div>
        </div>
        <div style="background:#e8f5e9;color:#2e7d32;font-size:11px;font-weight:700;padding:3px 10px;border-radius:20px;">‚úÖ Verified</div>
      </div>
      <div style="padding:14px;border-bottom:1px solid #f0f0f5;display:flex;gap:12px;align-items:center;">
        <div style="width:42px;height:42px;border-radius:12px;background:#fff3e0;display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0;">üìí</div>
        <div style="flex:1;min-width:0;">
          <div style="font-size:14px;font-weight:600;color:#111;margin-bottom:2px;">RAG with LangChain + FastAPI</div>
          <div style="font-size:11px;color:#aaa;">by Arjun S. ¬∑ Python ¬∑ 18 cells</div>
        </div>
        <div style="background:#fff3e0;color:#e65100;font-size:11px;font-weight:700;padding:3px 10px;border-radius:20px;">üî• Popular</div>
      </div>
      <div style="padding:14px;border-bottom:1px solid #f0f0f5;display:flex;gap:12px;align-items:center;">
        <div style="width:42px;height:42px;border-radius:12px;background:#f0fffe;display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0;">üìî</div>
        <div style="flex:1;min-width:0;">
          <div style="font-size:14px;font-weight:600;color:#111;margin-bottom:2px;">Hindi Sentiment Classifier</div>
          <div style="font-size:11px;color:#aaa;">by Sianap AI ¬∑ Python ¬∑ 12 cells</div>
        </div>
        <div style="background:#e8f5e9;color:#2e7d32;font-size:11px;font-weight:700;padding:3px 10px;border-radius:20px;">‚úÖ Verified</div>
      </div>
      <div style="padding:14px;border-bottom:1px solid #f0f0f5;display:flex;gap:12px;align-items:center;">
        <div style="width:42px;height:42px;border-radius:12px;background:#fce4ec;display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0;">üìï</div>
        <div style="flex:1;min-width:0;">
          <div style="font-size:14px;font-weight:600;color:#111;margin-bottom:2px;">Fine-tune Llama 3 on Kannada</div>
          <div style="font-size:11px;color:#aaa;">by Ravi K. ¬∑ Python ¬∑ 31 cells</div>
        </div>
        <div style="background:#f0f0ff;color:#6366f1;font-size:11px;font-weight:700;padding:3px 10px;border-radius:20px;">‚ö° New</div>
      </div>
      <div style="padding:14px;display:flex;gap:12px;align-items:center;">
        <div style="width:42px;height:42px;border-radius:12px;background:#e8f5e9;display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0;">üìó</div>
        <div style="flex:1;min-width:0;">
          <div style="font-size:14px;font-weight:600;color:#111;margin-bottom:2px;">Telugu NLP ‚Äî Tokenisation Guide</div>
          <div style="font-size:11px;color:#aaa;">by Meena R. ¬∑ Python ¬∑ 16 cells</div>
        </div>
        <div style="background:#e8f5e9;color:#2e7d32;font-size:11px;font-weight:700;padding:3px 10px;border-radius:20px;">‚úÖ Verified</div>
      </div>
    </div>`
};

function libraryFilter(type, el) {
  el.parentElement.querySelectorAll('.chip').forEach(c => c.classList.remove('on'));
  el.classList.add('on');
  const box = document.getElementById('library-content');
  box.style.opacity = 0;
  setTimeout(() => {
    box.innerHTML = libraryContent[type];
    box.style.transition = 'opacity 0.2s';
    box.style.opacity = 1;
  }, 120);
}

// Library init handled in window.onload below

// ‚îÄ‚îÄ Create tab content ‚îÄ‚îÄ
const createContent = {
  text: `
    <div class="compose">
      <textarea id="compose-ta" placeholder="Share your idea, insight, or update‚Ä¶ Hinglish welcome üáÆüá≥" rows="4" oninput="onComposeInput()"></textarea>
      <div class="ctoolbar">
        <span class="ctool">üì∏</span>
        <span class="ctool">üîó</span>
        <span id="char-count" style="font-size:11px;color:#bbb;margin-left:auto;margin-right:8px;">0 / 3000</span>
        <button class="publish-btn">Publish</button>
      </div>
    </div>

    <!-- AI Idea Analyser trigger -->
    <div id="analyse-trigger" style="display:none;margin:0 16px 12px;">
      <button onclick="runIdeaAnalysis()" style="width:100%;padding:12px;border-radius:14px;border:1.5px dashed #6366f1;background:#f8f8ff;color:#6366f1;font-size:13px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;font-family:'Inter',sans-serif;">
        üß† Analyse My Idea with AI
      </button>
    </div>

    <!-- AI Analysis Result (hidden initially) -->
    <div id="idea-analysis" style="display:none;margin:0 16px 12px;">
      <div style="background:#fff;border-radius:18px;padding:16px;box-shadow:0 2px 12px rgba(0,0,0,0.07);border-top:3px solid #6366f1;">

        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:14px;">
          <div style="font-size:12px;font-weight:700;color:#6366f1;letter-spacing:1px;text-transform:uppercase;">‚ú¶ AI Idea Analysis</div>
          <div id="idea-score-badge" style="font-size:13px;font-weight:800;color:#fff;background:linear-gradient(135deg,#6366f1,#FF9933);padding:4px 14px;border-radius:99px;">8.4 / 10</div>
        </div>

        <!-- Score bars -->
        <div style="display:flex;flex-direction:column;gap:10px;margin-bottom:14px;">
          <div>
            <div style="display:flex;justify-content:space-between;margin-bottom:4px;">
              <span style="font-size:12px;color:#555;font-weight:500;">üí° Originality</span>
              <span class="idea-score-val" style="font-size:12px;font-weight:700;color:#111;">8 / 10</span>
            </div>
            <div style="height:6px;background:#f0f0f5;border-radius:3px;overflow:hidden;">
              <div class="idea-bar" style="height:100%;width:80%;background:linear-gradient(90deg,#6366f1,#a5b4fc);border-radius:3px;transition:width .5s;"></div>
            </div>
          </div>
          <div>
            <div style="display:flex;justify-content:space-between;margin-bottom:4px;">
              <span style="font-size:12px;color:#555;font-weight:500;">üéØ Relevance to IndiaAI</span>
              <span class="idea-score-val" style="font-size:12px;font-weight:700;color:#111;">9 / 10</span>
            </div>
            <div style="height:6px;background:#f0f0f5;border-radius:3px;overflow:hidden;">
              <div class="idea-bar" style="height:100%;width:90%;background:linear-gradient(90deg,#FF9933,#fbbf24);border-radius:3px;transition:width .5s;"></div>
            </div>
          </div>
          <div>
            <div style="display:flex;justify-content:space-between;margin-bottom:4px;">
              <span style="font-size:12px;color:#555;font-weight:500;">üî• Engagement Potential</span>
              <span class="idea-score-val" style="font-size:12px;font-weight:700;color:#111;">7 / 10</span>
            </div>
            <div style="height:6px;background:#f0f0f5;border-radius:3px;overflow:hidden;">
              <div class="idea-bar" style="height:100%;width:70%;background:linear-gradient(90deg,#f43f5e,#fb7185);border-radius:3px;transition:width .5s;"></div>
            </div>
          </div>
          <div>
            <div style="display:flex;justify-content:space-between;margin-bottom:4px;">
              <span style="font-size:12px;color:#555;font-weight:500;">üìö Technical Depth</span>
              <span class="idea-score-val" style="font-size:12px;font-weight:700;color:#111;">9 / 10</span>
            </div>
            <div style="height:6px;background:#f0f0f5;border-radius:3px;overflow:hidden;">
              <div class="idea-bar" style="height:100%;width:90%;background:linear-gradient(90deg,#22c55e,#86efac);border-radius:3px;transition:width .5s;"></div>
            </div>
          </div>
        </div>

        <!-- AI Verdict -->
        <div style="background:#f8f8ff;border-radius:12px;padding:11px 13px;margin-bottom:12px;">
          <div style="font-size:11px;color:#6366f1;font-weight:700;margin-bottom:4px;">AI Verdict</div>
          <div id="idea-verdict" style="font-size:13px;color:#333;line-height:1.55;">Strong idea with solid IndiaAI relevance. Add a concrete example or metric to boost engagement by ~40%. Consider posting as a <b>thread</b> for better reach.</div>
        </div>

        <!-- Suggestions -->
        <div style="font-size:11px;font-weight:700;color:#aaa;letter-spacing:1px;text-transform:uppercase;margin-bottom:8px;">AI Improvements</div>
        <div id="ai-improved-text" style="background:#f0f0ff;border:1px solid #ddd5ff;border-radius:12px;padding:11px 13px;font-size:13px;color:#333;line-height:1.6;margin-bottom:10px;cursor:pointer;" onclick="applyImprovement()">
          üí° Tap to use AI-improved version ‚Üí
        </div>
        <div style="display:flex;gap:8px;">
          <button onclick="applyImprovement()" style="flex:1;padding:9px;border-radius:12px;background:#6366f1;color:#fff;border:none;font-size:13px;font-weight:600;cursor:pointer;font-family:'Inter',sans-serif;">Use Improved ‚úì</button>
          <button onclick="closeAnalysis()" style="flex:1;padding:9px;border-radius:12px;background:#f0f0f5;color:#555;border:none;font-size:13px;font-weight:600;cursor:pointer;font-family:'Inter',sans-serif;">Keep Mine</button>
        </div>
      </div>
    </div>

    <div class="ai-box">
      <div class="ai-label">‚ú¶ AI Caption Suggestions</div>
      <div class="sug" onclick="fillText(this)">üöÄ Just ran IndicBERT on Tamil data ‚Äî 91% F1! Sharing full config for the community. #IndiaAI</div>
      <div class="sug" onclick="fillText(this)">üí° Hot take: The best AI builders write prompts in their mother tongue. Indic models are catching up fast üáÆüá≥</div>
      <div class="sug" onclick="fillText(this)">üßµ 3 things I learned building a Hindi chatbot this week ‚Äî a thread for every beginner.</div>
    </div>
    <div class="section-label">Schedule</div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;padding:0 16px 14px;">
      <div style="background:#fff;border-radius:14px;padding:12px;text-align:center;box-shadow:0 2px 8px rgba(0,0,0,0.05);">
        <div style="font-size:11px;color:#aaa;margin-bottom:3px;">Date</div>
        <div style="font-size:14px;font-weight:600;color:#111;">Feb 22, 2026</div>
      </div>
      <div style="background:#fff;border-radius:14px;padding:12px;text-align:center;box-shadow:0 2px 8px rgba(0,0,0,0.05);">
        <div style="font-size:11px;color:#aaa;margin-bottom:3px;">Best Time</div>
        <div style="font-size:14px;font-weight:700;color:#FF9933;">7:30 PM IST</div>
      </div>
    </div>`,

  prompt: `
    <div class="compose">
      <textarea placeholder='Write your prompt here‚Ä¶ e.g. "Summarise {{text}} in Hindi in 3 points"' rows="4"></textarea>
      <div class="ctoolbar">
        <span class="ctool" title="Add variable">ÔπõÔπú</span>
        <span class="ctool">üîó</span>
        <span style="font-size:11px;color:#bbb;margin-left:auto;margin-right:8px;">0 / 2000</span>
        <button class="publish-btn" style="background:#6366f1;">Share</button>
      </div>
    </div>
    <div style="margin:0 16px 12px;background:#fff;border-radius:18px;padding:14px;box-shadow:0 2px 10px rgba(0,0,0,0.05);">
      <div style="font-size:12px;font-weight:700;color:#6366f1;letter-spacing:1px;text-transform:uppercase;margin-bottom:10px;">Prompt Settings</div>
      <div style="display:flex;flex-direction:column;gap:10px;">
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <span style="font-size:13px;color:#444;">Language</span>
          <select style="border:1px solid #eee;border-radius:8px;padding:5px 10px;font-size:13px;color:#111;background:#f8f8fc;outline:none;">
            <option>Hindi</option><option>Tamil</option><option>Kannada</option><option>Telugu</option><option>English</option>
          </select>
        </div>
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <span style="font-size:13px;color:#444;">Model</span>
          <select style="border:1px solid #eee;border-radius:8px;padding:5px 10px;font-size:13px;color:#111;background:#f8f8fc;outline:none;">
            <option>IndicBERT</option><option>GPT-4o</option><option>Gemini 1.5</option><option>Llama 3</option>
          </select>
        </div>
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <span style="font-size:13px;color:#444;">Visibility</span>
          <select style="border:1px solid #eee;border-radius:8px;padding:5px 10px;font-size:13px;color:#111;background:#f8f8fc;outline:none;">
            <option>Public</option><option>Followers</option><option>Private</option>
          </select>
        </div>
      </div>
    </div>
    <div class="ai-box">
      <div class="ai-label">‚ú¶ Prompt Templates</div>
      <div class="sug">"Summarise {{text}} in {{language}} in 3 bullet points under 15 words each."</div>
      <div class="sug">"Classify the sentiment of {{input}} as positive, negative, or neutral. Return JSON."</div>
      <div class="sug">"Translate {{text}} from English to Hindi keeping technical terms in English."</div>
    </div>`,

  video: `
    <div style="margin:0 16px 12px;">
      <div style="background:#fff;border-radius:18px;padding:24px 16px;box-shadow:0 2px 10px rgba(0,0,0,0.05);text-align:center;border:2px dashed #eee;cursor:pointer;" onclick="this.style.borderColor='#FF9933'">
        <div style="font-size:36px;margin-bottom:10px;">üé¨</div>
        <div style="font-size:14px;font-weight:600;color:#111;margin-bottom:4px;">Upload your video</div>
        <div style="font-size:12px;color:#aaa;">MP4, MOV up to 500MB</div>
        <div style="margin-top:14px;display:inline-block;background:#FF9933;color:#fff;padding:8px 22px;border-radius:20px;font-size:13px;font-weight:600;">Browse Files</div>
      </div>
    </div>
    <div class="compose">
      <textarea placeholder="Add a title and description for your video‚Ä¶" rows="3"></textarea>
      <div class="ctoolbar">
        <span class="ctool">üè∑Ô∏è</span>
        <span class="ctool">üîó</span>
        <button class="publish-btn">Upload</button>
      </div>
    </div>
    <div style="margin:0 16px 12px;background:#fff;border-radius:18px;padding:14px;box-shadow:0 2px 10px rgba(0,0,0,0.05);">
      <div style="font-size:12px;font-weight:700;color:#6366f1;letter-spacing:1px;text-transform:uppercase;margin-bottom:10px;">Video Settings</div>
      <div style="display:flex;flex-direction:column;gap:10px;">
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <span style="font-size:13px;color:#444;">Language</span>
          <select style="border:1px solid #eee;border-radius:8px;padding:5px 10px;font-size:13px;color:#111;background:#f8f8fc;outline:none;">
            <option>Hindi</option><option>Tamil</option><option>Kannada</option><option>Telugu</option><option>English</option>
          </select>
        </div>
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <span style="font-size:13px;color:#444;">Category</span>
          <select style="border:1px solid #eee;border-radius:8px;padding:5px 10px;font-size:13px;color:#111;background:#f8f8fc;outline:none;">
            <option>Tutorial</option><option>Demo</option><option>Discussion</option><option>News</option>
          </select>
        </div>
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <span style="font-size:13px;color:#444;">Auto Captions</span>
          <div onclick="this.classList.toggle('tog-on');this.style.background=this.classList.contains('tog-on')?'#FF9933':'#eee'" style="width:40px;height:22px;border-radius:11px;background:#eee;cursor:pointer;transition:background .2s;position:relative;">
            <div style="width:18px;height:18px;border-radius:50%;background:#fff;position:absolute;top:2px;left:2px;box-shadow:0 1px 3px rgba(0,0,0,0.2);"></div>
          </div>
        </div>
      </div>
    </div>`,

  poll: `
    <div style="margin:0 16px 12px;background:#fff;border-radius:18px;padding:16px;box-shadow:0 2px 10px rgba(0,0,0,0.05);">
      <div style="font-size:12px;font-weight:700;color:#6366f1;letter-spacing:1px;text-transform:uppercase;margin-bottom:10px;">Poll Question</div>
      <textarea placeholder="Ask the community something‚Ä¶ e.g. Which Indic model do you use most?" rows="2" style="width:100%;background:#f8f8fc;border:none;border-radius:12px;padding:12px;font-family:'Inter',sans-serif;font-size:14px;color:#111;line-height:1.5;resize:none;outline:none;"></textarea>
    </div>
    <div style="margin:0 16px 12px;background:#fff;border-radius:18px;padding:16px;box-shadow:0 2px 10px rgba(0,0,0,0.05);" id="poll-options">
      <div style="font-size:12px;font-weight:700;color:#6366f1;letter-spacing:1px;text-transform:uppercase;margin-bottom:10px;">Options</div>
      <div style="display:flex;flex-direction:column;gap:8px;" id="poll-opts">
        <div style="display:flex;gap:8px;align-items:center;">
          <div style="width:28px;height:28px;border-radius:50%;background:#f0f0ff;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#6366f1;flex-shrink:0;">A</div>
          <input placeholder="Option A" style="flex:1;background:#f8f8fc;border:none;border-radius:10px;padding:10px 12px;font-size:13px;color:#111;outline:none;font-family:'Inter',sans-serif;">
        </div>
        <div style="display:flex;gap:8px;align-items:center;">
          <div style="width:28px;height:28px;border-radius:50%;background:#f0f0ff;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#6366f1;flex-shrink:0;">B</div>
          <input placeholder="Option B" style="flex:1;background:#f8f8fc;border:none;border-radius:10px;padding:10px 12px;font-size:13px;color:#111;outline:none;font-family:'Inter',sans-serif;">
        </div>
        <div style="display:flex;gap:8px;align-items:center;">
          <div style="width:28px;height:28px;border-radius:50%;background:#f0f0ff;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#6366f1;flex-shrink:0;">C</div>
          <input placeholder="Option C" style="flex:1;background:#f8f8fc;border:none;border-radius:10px;padding:10px 12px;font-size:13px;color:#111;outline:none;font-family:'Inter',sans-serif;">
        </div>
        <div style="display:flex;gap:8px;align-items:center;">
          <div style="width:28px;height:28px;border-radius:50%;background:#f0f0ff;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#6366f1;flex-shrink:0;">D</div>
          <input placeholder="Option D" style="flex:1;background:#f8f8fc;border:none;border-radius:10px;padding:10px 12px;font-size:13px;color:#111;outline:none;font-family:'Inter',sans-serif;">
        </div>
      </div>
    </div>
    <div style="padding:0 16px 6px;">
      <button id="add-opt-btn" onclick="addPollOption()" style="width:100%;padding:10px;border-radius:12px;border:1.5px dashed #6366f1;background:transparent;color:#6366f1;font-size:13px;font-weight:600;cursor:pointer;font-family:'Inter',sans-serif;">+ Add Option (max 6)</button>
    </div>
    <div style="margin:0 16px 12px;background:#fff;border-radius:18px;padding:14px;box-shadow:0 2px 10px rgba(0,0,0,0.05);">
      <div style="font-size:12px;font-weight:700;color:#6366f1;letter-spacing:1px;text-transform:uppercase;margin-bottom:10px;">Poll Settings</div>
      <div style="display:flex;flex-direction:column;gap:10px;">
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <span style="font-size:13px;color:#444;">Duration</span>
          <select style="border:1px solid #eee;border-radius:8px;padding:5px 10px;font-size:13px;color:#111;background:#f8f8fc;outline:none;">
            <option>1 Day</option><option>3 Days</option><option>1 Week</option>
          </select>
        </div>
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <span style="font-size:13px;color:#444;">Anonymous</span>
          <div onclick="this.classList.toggle('tog-on');this.style.background=this.classList.contains('tog-on')?'#FF9933':'#eee'" style="width:40px;height:22px;border-radius:11px;background:#eee;cursor:pointer;transition:background .2s;">
          </div>
        </div>
      </div>
    </div>
    <div style="padding:0 16px 14px;">
      <button class="publish-btn" style="width:100%;padding:14px;border-radius:14px;font-size:14px;">üìä Publish Poll</button>
    </div>`
};

function createFilter(type, el) {
  el.parentElement.querySelectorAll('.chip').forEach(c => c.classList.remove('on'));
  el.classList.add('on');
  if (type === 'poll') pollOptCount = 4;
  const box = document.getElementById('create-content');
  box.style.opacity = 0;
  setTimeout(() => {
    box.innerHTML = createContent[type];
    box.style.transition = 'opacity 0.2s';
    box.style.opacity = 1;
  }, 120);
}

function fillText(el) {
  const ta = document.querySelector('#create-content textarea');
  if (ta) { ta.value = el.innerText.replace(/^[üöÄüí°üßµ]\s*/,''); onComposeInput(); }
}

// ‚îÄ‚îÄ Idea Analyser ‚îÄ‚îÄ
function onComposeInput() {
  const ta = document.getElementById('compose-ta');
  const trigger = document.getElementById('analyse-trigger');
  const counter = document.getElementById('char-count');
  if (!ta) return;
  const len = ta.value.length;
  if (counter) counter.textContent = len + ' / 3000';
  if (trigger) trigger.style.display = len > 20 ? 'block' : 'none';
  // hide old analysis if user edits
  const panel = document.getElementById('idea-analysis');
  if (panel) panel.style.display = 'none';
}

const ideaProfiles = [
  {
    score: '8.4', originality: 80, relevance: 90, engagement: 70, depth: 90,
    verdict: 'Strong idea with solid IndiaAI relevance. Add a concrete metric or result to boost engagement by ~40%. Try posting as a <b>thread</b> for better reach.',
    improved: 'üöÄ Fine-tuned IndicBERT on Tamil legal NER ‚Äî hit 91% F1 with just 2K examples. Here\'s the exact config that worked (and what failed). #IndiaAI #IndicNLP'
  },
  {
    score: '7.1', originality: 65, relevance: 75, engagement: 80, depth: 55,
    verdict: 'Good engagement hook but needs more technical substance. Add a specific result, dataset name, or comparison to strengthen credibility.',
    improved: 'üí° Tested 4 Indic models on the same Hindi dataset ‚Äî IndicBERT won by 12% F1 over mBERT. Here\'s why mother-tongue prompting matters more than model size. üáÆüá≥'
  },
  {
    score: '9.2', originality: 95, relevance: 92, engagement: 88, depth: 92,
    verdict: 'Excellent idea ‚Äî highly original and deeply relevant to the Indic AI community. Post immediately at 7:30 PM IST for maximum reach.',
    improved: 'üßµ 3 things nobody tells you about building Hindi chatbots: (1) Tokenisation breaks at 40% of common words (2) Transliteration ‚â† translation (3) IndicBERT beats GPT-4 on local slang. Thread üëá'
  }
];

function runIdeaAnalysis() {
  const ta = document.getElementById('compose-ta');
  const panel = document.getElementById('idea-analysis');
  const btn = document.getElementById('analyse-trigger').querySelector('button');
  if (!ta || !panel) return;

  // Loading state
  btn.innerHTML = '<span style="animation:spin 1s linear infinite;display:inline-block;">‚è≥</span> Analysing with AI‚Ä¶';
  btn.disabled = true;

  setTimeout(() => {
    const profile = ideaProfiles[Math.floor(Math.random() * ideaProfiles.length)];

    // Update score badge
    panel.querySelector('#idea-score-badge').textContent = profile.score + ' / 10';

    // Update bars
    const bars = panel.querySelectorAll('.idea-bar');
    const vals = [profile.originality, profile.relevance, profile.engagement, profile.depth];
    bars.forEach((b, i) => b.style.width = vals[i] + '%');

    // Update scores text
    const scoreLabels = panel.querySelectorAll('.idea-score-val');
    const rawVals = [profile.originality/10, profile.relevance/10, profile.engagement/10, profile.depth/10];
    scoreLabels.forEach((s,i) => s.textContent = rawVals[i].toFixed(0) + ' / 10');

    // Update verdict
    panel.querySelector('#idea-verdict').innerHTML = profile.verdict;

    // Update improved text
    panel.querySelector('#ai-improved-text').setAttribute('data-improved', profile.improved);
    panel.querySelector('#ai-improved-text').innerHTML = 'üí° <i style="color:#6366f1;">' + profile.improved + '</i><br><span style="font-size:11px;color:#aaa;margin-top:4px;display:block;">Tap to use this version ‚Üí</span>';

    panel.style.display = 'block';
    panel.scrollIntoView({ behavior: 'smooth', block: 'nearest' });

    btn.innerHTML = 'üß† Analyse My Idea with AI';
    btn.disabled = false;
  }, 1600);
}

function applyImprovement() {
  const ta = document.getElementById('compose-ta');
  const improvedEl = document.getElementById('ai-improved-text');
  if (!ta || !improvedEl) return;
  ta.value = improvedEl.getAttribute('data-improved') || '';
  document.getElementById('idea-analysis').style.display = 'none';
  document.getElementById('analyse-trigger').style.display = 'none';
  onComposeInput();
}

function closeAnalysis() {
  const panel = document.getElementById('idea-analysis');
  if (panel) panel.style.display = 'none';
}

// Create init handled in window.onload below

// ‚îÄ‚îÄ Meetup data
const meetups = [
  {
    emoji: 'üáÆüá≥', bg: 'gc',
    badge: 'FREE', badgeStyle: 'background:#e8f5e9;color:#2e7d32;',
    title: 'IndiaAI Community Summit',
    date: 'Mar 1', time: '10 AM IST', location: 'üåê Online',
    attendees: ['üë©','üßë','üë®'], count: '+1.2K going',
    btnText: 'Join', btnStyle: '',
    tags: ['all', 'online', 'free']
  },
  {
    emoji: 'ü§ñ', bg: 'gd',
    badge: '‚Çπ499', badgeStyle: 'background:#fce4ec;color:#c62828;',
    title: 'GenAI Startup Pitch Night',
    date: 'Mar 8', time: '5 PM IST', location: 'üìç Bangalore',
    attendees: ['üßë','üë©'], count: '+340 going',
    btnText: 'RSVP', btnStyle: 'background:#6366f1;',
    tags: ['all', 'bangalore']
  },
  {
    emoji: 'üåø', bg: 'gb',
    badge: 'FREE', badgeStyle: 'background:#e8f5e9;color:#2e7d32;',
    title: 'Indic Language Models Workshop',
    date: 'Mar 15', time: '3 PM IST', location: 'üåê Online',
    attendees: ['üéì','üë©'], count: '+678 going',
    btnText: 'Join', btnStyle: '',
    tags: ['all', 'online', 'free']
  },
  {
    emoji: 'üöÄ', bg: 'ga',
    badge: 'FREE', badgeStyle: 'background:#e8f5e9;color:#2e7d32;',
    title: 'Python √ó AI Builders Meetup',
    date: 'Mar 20', time: '6 PM IST', location: 'üìç Mumbai',
    attendees: ['üë®','üßë','üë©'], count: '+210 going',
    btnText: 'Join', btnStyle: '',
    tags: ['all', 'mumbai', 'free']
  },
  {
    emoji: 'üß†', bg: 'ge',
    badge: '‚Çπ199', badgeStyle: 'background:#fce4ec;color:#c62828;',
    title: 'Prompt Engineering Bootcamp',
    date: 'Mar 22', time: '11 AM IST', location: 'üìç Bangalore',
    attendees: ['üë©','üßë'], count: '+155 going',
    btnText: 'RSVP', btnStyle: 'background:#6366f1;',
    tags: ['all', 'bangalore']
  },
  {
    emoji: 'üéì', bg: 'gd',
    badge: 'FREE', badgeStyle: 'background:#e8f5e9;color:#2e7d32;',
    title: 'EduPulse √ó Sianap AI Mentorship',
    date: 'Mar 28', time: '7 PM IST', location: 'üåê Online',
    attendees: ['üë®','üë©','üßë'], count: '+900 going',
    btnText: 'Join', btnStyle: '',
    tags: ['all', 'online', 'free']
  }
];

function renderMeetups(filter) {
  const list = document.getElementById('meetup-list');
  const filtered = meetups.filter(m => m.tags.includes(filter));
  if (filtered.length === 0) {
    list.innerHTML = `<div style="text-align:center;padding:40px 20px;color:#aaa;font-size:14px;">No meetups found for this filter.</div>`;
    return;
  }
  list.innerHTML = filtered.map(m => `
    <div class="mcard">
      <div class="mcov ${m.bg}">${m.emoji}<div class="mbadge" style="${m.badgeStyle}">${m.badge}</div></div>
      <div class="mbody">
        <div class="mtitle">${m.title}</div>
        <div class="mmeta"><span>üìÖ ${m.date}</span><span>üïô ${m.time}</span><span>${m.location}</span></div>
        <div class="mfoot">
          <div class="atts">
            <div class="att-emojis">
              ${m.attendees.map((a,i) => `<div class="att-e g${['a','b','c'][i%3]}">${a}</div>`).join('')}
            </div>
            <div class="att-count" style="margin-left:6px;">${m.count}</div>
          </div>
          <button class="join-btn" style="${m.btnStyle}">${m.btnText}</button>
        </div>
      </div>
    </div>
  `).join('');
}

function meetupFilter(filter, el) {
  el.parentElement.querySelectorAll('.chip').forEach(c => c.classList.remove('on'));
  el.classList.add('on');
  renderMeetups(filter);
}


// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// PROFILE MODAL SYSTEM
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const modalContents = {

  editProfile: () => `
    <div style="padding:20px 20px 0;">
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;">
        <span style="font-size:18px;font-weight:800;color:#111;">Edit Profile</span>
        <span onclick="closeModal()" style="font-size:22px;color:#aaa;cursor:pointer;">‚úï</span>
      </div>
      <div style="text-align:center;margin-bottom:20px;">
        <div style="width:72px;height:72px;border-radius:50%;background:linear-gradient(135deg,#6366f1,#FF9933);display:flex;align-items:center;justify-content:center;font-size:24px;font-weight:800;color:#fff;margin:0 auto 8px;" id="modal-avatar-preview">AS</div>
        <div style="font-size:13px;color:#6366f1;font-weight:600;cursor:pointer;">Change Photo</div>
      </div>
      ${mField('Full Name','ep-name','text',document.getElementById('display-name')?.textContent||'Amandeep Singh')}
      ${mField('Username','ep-user','text','amandeepsingh')}
      ${mField('Email','ep-email','email','amandeep@sianap.ai')}
      ${mField('Bio','ep-bio','text','AI Builder ¬∑ Bangalore üáÆüá≥')}
      ${mField('Location','ep-loc','text','Bangalore, Karnataka')}
      ${mField('Website','ep-web','url','https://sianap.ai')}
      <button onclick="saveProfile()" style="width:100%;padding:14px;border-radius:14px;background:#6366f1;color:#fff;border:none;font-size:15px;font-weight:700;cursor:pointer;margin-top:8px;">Save Changes</button>
    </div>`,

  notifications: () => `
    <div style="padding:20px 20px 0;">
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;">
        <span style="font-size:18px;font-weight:800;color:#111;">üîî Notifications</span>
        <span onclick="closeModal()" style="font-size:22px;color:#aaa;cursor:pointer;">‚úï</span>
      </div>
      ${mToggleRow('Likes on my posts', true)}
      ${mToggleRow('Comments on my posts', true)}
      ${mToggleRow('New followers', true)}
      ${mToggleRow('Prompt runs & saves', true)}
      ${mToggleRow('Trending posts in my field', false)}
      ${mToggleRow('Weekly summary email', true)}
      ${mToggleRow('Product updates from Sianap', false)}
      ${mToggleRow('Push notifications', true)}
    </div>`,

  language: () => `
    <div style="padding:20px 20px 0;">
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;">
        <span style="font-size:18px;font-weight:800;color:#111;">üåê Language & Region</span>
        <span onclick="closeModal()" style="font-size:22px;color:#aaa;cursor:pointer;">‚úï</span>
      </div>
      <div style="font-size:12px;font-weight:700;color:#aaa;letter-spacing:1px;text-transform:uppercase;margin-bottom:10px;">App Language</div>
      ${[['en','üåê English','English'],['hi','üáÆüá≥ ‡§π‡§ø‡§Ç‡§¶‡•Ä','Hindi'],['pa','‚ò¨ ‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä','Punjabi'],['ta','üå∫ ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç','Tamil'],['kn','üå∏ ‡≤ï‡≤®‡≥ç‡≤®‡≤°','Kannada'],['te','üåª ‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å','Telugu'],['mr','üåº ‡§Æ‡§∞‡§æ‡§†‡•Ä','Marathi']].map(([code,label,name])=>`
        <div onclick="setAppLanguage('${code}','${name}')" style="display:flex;align-items:center;gap:12px;padding:13px 14px;border-radius:12px;cursor:pointer;margin-bottom:4px;background:${currentLang===code?'#f0f0ff':'#f8f8fc'};">
          <span style="font-size:16px;">${label}</span>
          <span style="flex:1;font-size:14px;color:#111;font-weight:500;">${name}</span>
          ${currentLang===code?'<span style="color:#6366f1;font-size:18px;">‚úì</span>':''}
        </div>`).join('')}
      <div style="font-size:12px;font-weight:700;color:#aaa;letter-spacing:1px;text-transform:uppercase;margin:16px 0 10px;">Region</div>
      ${mSelect('Time Zone','tz',['IST ‚Äî India Standard Time','GST ‚Äî Gulf Standard Time','EST ‚Äî Eastern (US)'])}
      ${mSelect('Date Format','df',['DD/MM/YYYY','MM/DD/YYYY','YYYY-MM-DD'])}
    </div>`,

  appearance: () => `
    <div style="padding:20px 20px 0;">
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;">
        <span style="font-size:18px;font-weight:800;color:#111;">üé® Appearance</span>
        <span onclick="closeModal()" style="font-size:22px;color:#aaa;cursor:pointer;">‚úï</span>
      </div>
      <div style="font-size:12px;font-weight:700;color:#aaa;letter-spacing:1px;text-transform:uppercase;margin-bottom:12px;">Theme</div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:20px;">
        <div onclick="setTheme('light')" id="theme-light" style="border:2px solid #6366f1;border-radius:14px;padding:14px;text-align:center;cursor:pointer;background:#fff;">
          <div style="font-size:24px;margin-bottom:4px;">‚òÄÔ∏è</div><div style="font-size:13px;font-weight:600;color:#111;">Light</div>
        </div>
        <div onclick="setTheme('dark')" id="theme-dark" style="border:2px solid #eee;border-radius:14px;padding:14px;text-align:center;cursor:pointer;background:#1c1c2a;">
          <div style="font-size:24px;margin-bottom:4px;">üåô</div><div style="font-size:13px;font-weight:600;color:#e8e8f4;">Dark</div>
        </div>
      </div>
      <div style="font-size:12px;font-weight:700;color:#aaa;letter-spacing:1px;text-transform:uppercase;margin-bottom:12px;">Accent Color</div>
      <div style="display:flex;gap:10px;margin-bottom:20px;">
        ${['#6366f1','#FF9933','#f43f5e','#22c55e','#0891b2','#8b5cf6'].map(c=>`<div onclick="document.querySelectorAll('.btn-run').forEach(b=>b.style.background='${c}')" style="width:36px;height:36px;border-radius:50%;background:${c};cursor:pointer;border:3px solid #fff;box-shadow:0 2px 6px rgba(0,0,0,0.15);"></div>`).join('')}
      </div>
      <div style="font-size:12px;font-weight:700;color:#aaa;letter-spacing:1px;text-transform:uppercase;margin-bottom:12px;">Font Size</div>
      ${mSelect('Text Size','font-size',['Small (13px)','Medium (15px) ‚Äî Default','Large (17px)'])}
    </div>`,

  privacy: () => `
    <div style="padding:20px 20px 0;">
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;">
        <span style="font-size:18px;font-weight:800;color:#111;">üîí Privacy Settings</span>
        <span onclick="closeModal()" style="font-size:22px;color:#aaa;cursor:pointer;">‚úï</span>
      </div>
      ${mToggleRow('Private Account', false)}
      ${mToggleRow('Show online status', true)}
      ${mToggleRow('Allow others to tag me', true)}
      ${mToggleRow('Allow DMs from non-followers', false)}
      ${mToggleRow('Show in search results', true)}
      ${mToggleRow('Allow AI to train on my posts', false)}
      <div style="margin-top:16px;padding:12px 14px;background:#fff3e0;border-radius:12px;font-size:12px;color:#e65100;line-height:1.5;">
        ‚ö†Ô∏è Enabling private account means only approved followers can see your posts.
      </div>
    </div>`,

  whoCanSee: () => `
    <div style="padding:20px 20px 0;">
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;">
        <span style="font-size:18px;font-weight:800;color:#111;">üëÅÔ∏è Who Can See My Posts</span>
        <span onclick="closeModal()" style="font-size:22px;color:#aaa;cursor:pointer;">‚úï</span>
      </div>
      ${[['everyone','üåç Everyone','Visible to all Sianap users'],['followers','üë• Followers Only','Only people who follow you'],['closeFriends','‚≠ê Close Friends','A curated list of connections'],['onlyMe','üîê Only Me','Completely private']].map(([val,title,desc])=>`
        <div onclick="setVisibility('${val}','${title.replace(/[^ -~]/g,'').trim()}')" style="display:flex;align-items:center;gap:12px;padding:14px;border-radius:14px;cursor:pointer;margin-bottom:8px;background:#f8f8fc;border:2px solid ${document.getElementById('visibility-display')?.textContent===title.replace(/[^ -~]/g,'').trim()?'#6366f1':'transparent'};">
          <span style="font-size:20px;">${title.split(' ')[0]}</span>
          <div><div style="font-size:14px;font-weight:600;color:#111;">${title.split(' ').slice(1).join(' ')}</div><div style="font-size:12px;color:#aaa;">${desc}</div></div>
        </div>`).join('')}
    </div>`,

  blocked: () => `
    <div style="padding:20px 20px 0;">
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;">
        <span style="font-size:18px;font-weight:800;color:#111;">üö´ Blocked Accounts</span>
        <span onclick="closeModal()" style="font-size:22px;color:#aaa;cursor:pointer;">‚úï</span>
      </div>
      <input placeholder="üîç  Search blocked users‚Ä¶" style="width:100%;padding:10px 14px;border-radius:12px;border:1px solid #eee;background:#f8f8fc;font-size:14px;outline:none;margin-bottom:14px;font-family:'Inter',sans-serif;">
      ${[['SP','#f43f5e','SpamBot99','@spambot99'],['TX','#FF9933','TrollX','@trollx_anon'],['BF','#8b5cf6','BadFaith','@badfaith_dev']].map(([av,col,name,handle])=>`
        <div style="display:flex;align-items:center;gap:12px;padding:12px 0;border-bottom:1px solid #f0f0f5;">
          <div style="width:40px;height:40px;border-radius:50%;background:${col};display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:700;color:#fff;">${av}</div>
          <div style="flex:1;"><div style="font-size:14px;font-weight:600;color:#111;">${name}</div><div style="font-size:12px;color:#aaa;">${handle}</div></div>
          <button onclick="this.textContent=this.textContent==='Unblock'?'Block':'Unblock'" style="padding:6px 14px;border-radius:20px;border:1px solid #f43f5e;background:transparent;color:#f43f5e;font-size:12px;font-weight:600;cursor:pointer;">Unblock</button>
        </div>`).join('')}
      <button style="width:100%;padding:12px;border-radius:12px;background:#f8f8fc;color:#6366f1;border:1px dashed #6366f1;font-size:13px;font-weight:600;cursor:pointer;margin-top:14px;">+ Block a user</button>
    </div>`,

  helpCenter: () => `
    <div style="padding:20px 20px 0;">
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;">
        <span style="font-size:18px;font-weight:800;color:#111;">‚ùì Help Center</span>
        <span onclick="closeModal()" style="font-size:22px;color:#aaa;cursor:pointer;">‚úï</span>
      </div>
      <input placeholder="üîç  Search help articles‚Ä¶" style="width:100%;padding:10px 14px;border-radius:12px;border:1px solid #eee;background:#f8f8fc;font-size:14px;outline:none;margin-bottom:14px;font-family:'Inter',sans-serif;">
      <div style="font-size:12px;font-weight:700;color:#aaa;letter-spacing:1px;text-transform:uppercase;margin-bottom:10px;">Popular Topics</div>
      ${[['üöÄ','Getting started with Sianap'],['‚ö°','How to run & save prompts'],['üîí','Privacy and security'],['üí≥','Billing & subscriptions'],['üáÆüá≥','Indic language features'],['üìä','Understanding analytics'],['üîî','Managing notifications'],['üêõ','Report a bug']].map(([icon,topic])=>`
        <div style="display:flex;align-items:center;gap:12px;padding:12px 14px;border-radius:12px;cursor:pointer;margin-bottom:6px;background:#f8f8fc;">
          <span style="font-size:18px;">${icon}</span><span style="font-size:14px;color:#111;font-weight:500;">${topic}</span><span style="margin-left:auto;color:#ccc;">‚Ä∫</span>
        </div>`).join('')}
      <div style="margin-top:14px;padding:14px;background:linear-gradient(135deg,#f0f0ff,#fff3e0);border-radius:14px;text-align:center;">
        <div style="font-size:14px;font-weight:700;color:#111;margin-bottom:4px;">Still need help?</div>
        <div style="font-size:12px;color:#888;margin-bottom:10px;">Our support team replies within 2 hours</div>
        <button style="padding:8px 20px;border-radius:20px;background:#6366f1;color:#fff;border:none;font-size:13px;font-weight:600;cursor:pointer;">üí¨ Chat with Support</button>
      </div>
    </div>`,

  feedback: () => `
    <div style="padding:20px 20px 0;">
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;">
        <span style="font-size:18px;font-weight:800;color:#111;">üìù Send Feedback</span>
        <span onclick="closeModal()" style="font-size:22px;color:#aaa;cursor:pointer;">‚úï</span>
      </div>
      <div style="font-size:12px;font-weight:700;color:#aaa;letter-spacing:1px;text-transform:uppercase;margin-bottom:10px;">Type</div>
      <div style="display:flex;gap:8px;margin-bottom:16px;">
        ${[['üí°','Idea'],['üêõ','Bug'],['üòç','Praise'],['ü§î','Question']].map(([icon,label])=>`<div onclick="this.parentElement.querySelectorAll('div').forEach(d=>d.style.borderColor='#eee');this.style.borderColor='#6366f1'" style="flex:1;text-align:center;padding:10px 6px;border-radius:12px;border:2px solid #eee;cursor:pointer;"><div style="font-size:20px;">${icon}</div><div style="font-size:11px;font-weight:600;color:#555;margin-top:3px;">${label}</div></div>`).join('')}
      </div>
      <div style="font-size:12px;font-weight:700;color:#aaa;letter-spacing:1px;text-transform:uppercase;margin-bottom:10px;">Your Feedback</div>
      <textarea id="fb-text" placeholder="Tell us what's on your mind. Every word counts! üôè" rows="5" style="width:100%;padding:12px;border-radius:12px;border:1px solid #eee;background:#f8f8fc;font-size:14px;font-family:'Inter',sans-serif;outline:none;resize:none;margin-bottom:12px;"></textarea>
      ${mField('Your Email (optional)','fb-email','email','amandeep@sianap.ai')}
      <button onclick="submitFeedback()" style="width:100%;padding:14px;border-radius:14px;background:#6366f1;color:#fff;border:none;font-size:15px;font-weight:700;cursor:pointer;margin-top:4px;">Send Feedback üöÄ</button>
    </div>`,

  rateApp: () => `
    <div style="padding:20px 20px 0;text-align:center;">
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;text-align:left;">
        <span style="font-size:18px;font-weight:800;color:#111;">‚≠ê Rate Sianap</span>
        <span onclick="closeModal()" style="font-size:22px;color:#aaa;cursor:pointer;">‚úï</span>
      </div>
      <div style="font-size:52px;margin:10px 0;">üôè</div>
      <div style="font-size:16px;font-weight:700;color:#111;margin-bottom:6px;">Enjoying Sianap?</div>
      <div style="font-size:13px;color:#888;margin-bottom:20px;">Your rating helps us reach more AI builders across India</div>
      <div id="star-row" style="display:flex;justify-content:center;gap:8px;margin-bottom:20px;">
        ${[1,2,3,4,5].map(i=>`<div onclick="rateStar(${i})" id="star-${i}" style="font-size:36px;cursor:pointer;transition:transform .15s;">‚òÖ</div>`).join('')}
      </div>
      <textarea id="rate-comment" placeholder="Tell us more‚Ä¶ (optional)" rows="3" style="width:100%;padding:12px;border-radius:12px;border:1px solid #eee;background:#f8f8fc;font-size:14px;font-family:'Inter',sans-serif;outline:none;resize:none;margin-bottom:12px;"></textarea>
      <button onclick="submitRating()" style="width:100%;padding:14px;border-radius:14px;background:#FF9933;color:#fff;border:none;font-size:15px;font-weight:700;cursor:pointer;">Submit Rating ‚≠ê</button>
    </div>`,

  logout: () => `
    <div style="padding:20px 20px 0;text-align:center;">
      <div style="font-size:48px;margin:10px 0 12px;">üëã</div>
      <div style="font-size:18px;font-weight:800;color:#111;margin-bottom:8px;">Log Out?</div>
      <div style="font-size:14px;color:#888;margin-bottom:24px;">You'll need to sign in again to access your account.</div>
      <button onclick="closeModal();alert('See you soon, Amandeep! üëã')" style="width:100%;padding:14px;border-radius:14px;background:#fce4ec;color:#c62828;border:none;font-size:15px;font-weight:700;cursor:pointer;margin-bottom:10px;">üö™ Yes, Log Out</button>
      <button onclick="closeModal()" style="width:100%;padding:14px;border-radius:14px;background:#f8f8fc;color:#555;border:none;font-size:15px;font-weight:600;cursor:pointer;">Cancel</button>
    </div>`
};

// Modal helpers
function mField(label, id, type, value) {
  return `<div style="margin-bottom:14px;"><div style="font-size:11px;font-weight:700;color:#aaa;letter-spacing:.8px;text-transform:uppercase;margin-bottom:6px;">${label}</div><input id="${id}" type="${type}" value="${value}" style="width:100%;padding:11px 14px;border-radius:12px;border:1px solid #eee;background:#f8f8fc;font-size:14px;font-family:'Inter',sans-serif;outline:none;color:#111;"></div>`;
}
function mToggleRow(label, on) {
  return `<div style="display:flex;justify-content:space-between;align-items:center;padding:13px 0;border-bottom:1px solid #f0f0f5;"><span style="font-size:14px;color:#111;font-weight:500;">${label}</span><div onclick="toggleSwitch(this)" ${on?'class="sw-on"':''} style="width:42px;height:24px;border-radius:12px;background:${on?'#6366f1':'#eee'};cursor:pointer;position:relative;transition:background .2s;flex-shrink:0;"><div style="width:20px;height:20px;border-radius:50%;background:#fff;position:absolute;top:2px;${on?'right:2px':'left:2px'};box-shadow:0 1px 3px rgba(0,0,0,0.25);transition:all .2s;"></div></div></div>`;
}
function mSelect(label, id, options) {
  return `<div style="margin-bottom:14px;"><div style="font-size:11px;font-weight:700;color:#aaa;letter-spacing:.8px;text-transform:uppercase;margin-bottom:6px;">${label}</div><select id="${id}" style="width:100%;padding:11px 14px;border-radius:12px;border:1px solid #eee;background:#f8f8fc;font-size:14px;font-family:'Inter',sans-serif;outline:none;color:#111;">${options.map(o=>`<option>${o}</option>`).join('')}</select></div>`;
}

function openModal(type) {
  const overlay = document.getElementById('modal-overlay');
  const sheet = document.getElementById('modal-sheet');
  const content = document.getElementById('modal-content');
  if (!overlay || !sheet || !content) return;
  const builder = modalContents[type];
  if (!builder) return;
  content.innerHTML = builder();
  overlay.style.display = 'flex';
  requestAnimationFrame(() => { sheet.style.transform = 'translateY(0)'; });
  // Init star colors for rateApp
  if (type === 'rateApp') resetStars(0);
}

function closeModal() {
  const overlay = document.getElementById('modal-overlay');
  const sheet = document.getElementById('modal-sheet');
  if (!overlay || !sheet) return;
  sheet.style.transform = 'translateY(100%)';
  setTimeout(() => { overlay.style.display = 'none'; }, 320);
}

function saveProfile() {
  const name = document.getElementById('ep-name')?.value?.trim();
  const user = document.getElementById('ep-user')?.value?.trim();
  if (name) { const n = document.getElementById('display-name'); if(n) n.textContent = name; document.getElementById('profile-avatar').textContent = name.split(' ').map(w=>w[0]).join('').slice(0,2).toUpperCase(); }
  if (user) { const h = document.getElementById('display-handle'); if(h) h.textContent = '@'+user+' ¬∑ AI Builder ¬∑ Bangalore üáÆüá≥'; }
  closeModal();
}

function setAppLanguage(code, name) {
  currentLang = code;
  const el = document.getElementById('lang-display');
  if (el) el.textContent = name;
  const sel = document.getElementById('langSelect');
  if (sel) sel.value = code;
  setLang(code);
  closeModal();
}

function setVisibility(val, label) {
  const el = document.getElementById('visibility-display');
  if (el) el.textContent = label;
  closeModal();
}

function setTheme(mode) {
  if (mode === 'dark' && !isDark) toggleDark();
  else if (mode === 'light' && isDark) toggleDark();
  closeModal();
}

let currentRating = 0;
function rateStar(n) {
  currentRating = n;
  resetStars(n);
}
function resetStars(n) {
  for (let i = 1; i <= 5; i++) {
    const s = document.getElementById('star-'+i);
    if (s) { s.style.color = i <= n ? '#FF9933' : '#ddd'; s.style.transform = i <= n ? 'scale(1.1)' : 'scale(1)'; }
  }
}
function submitRating() {
  if (!currentRating) { alert('Please select a star rating first!'); return; }
  closeModal();
  setTimeout(() => alert('Thank you for rating Sianap '+currentRating+'‚≠ê! It means the world to us üôè'), 400);
}
function submitFeedback() {
  const text = document.getElementById('fb-text')?.value?.trim();
  if (!text) { alert('Please write your feedback before submitting!'); return; }
  closeModal();
  setTimeout(() => alert('Thank you for your feedback! üôè We\'ll review it soon.'), 400);
}

// app init handled by _launch() after splash

// ‚ïê‚ïê SPLASH ‚ïê‚ïê
const _SP = [
  {w:'Sianap',    l:'English',            a:'Recognising language‚Ä¶'},
  {w:'‡§∏‡§ø‡§Ø‡§æ‡§®‡§™',    l:'Hindi ¬∑ ‡§π‡§ø‡§Ç‡§¶‡•Ä',       a:'Translating with AI‚Ä¶'},
  {w:'‡®∏‡®ø‡®Ü‡®®‡®™',   l:'Punjabi ¬∑ ‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä',   a:'Processing Indic script‚Ä¶'},
  {w:'‡Æö‡Æø‡ÆØ‡Ææ‡Æ©‡Æ™‡Øç',  l:'Tamil ¬∑ ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç',      a:'Running NLP model‚Ä¶'},
  {w:'‡≤∏‡≤ø‡≤Ø‡≤æ‡≤®‡≤™‡≥ç', l:'Kannada ¬∑ ‡≤ï‡≤®‡≥ç‡≤®‡≤°',    a:'Embedding vectors‚Ä¶'},
  {w:'‡∞∏‡∞ø‡∞Ø‡∞æ‡∞®‡∞™‡±ç',  l:'Telugu ¬∑ ‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å',   a:'Cross-lingual transfer‚Ä¶'},
  {w:'‡§∏‡§ø‡§Ø‡§æ‡§®‡§™',  l:'Marathi ¬∑ ‡§Æ‡§∞‡§æ‡§†‡•Ä',    a:'Bharat AI online ‚úì'},
  {w:'Sianap',   l:'AI Community ¬∑ Bharat', a:'Welcome üáÆüá≥'},
];
let _si=0;
function _spStep(){
  if(_si>=_SP.length){setTimeout(_launch,260);return;}
  const t=_SP[_si];
  const lE=document.getElementById('sp-lang');
  const aE=document.getElementById('sp-ai');
  const wE=document.getElementById('sp-word');
  const fE=document.getElementById('sp-fill');
  lE.classList.add('fade'); aE.classList.add('fade');
  setTimeout(()=>{
    wE.style.animation='none'; wE.offsetHeight; wE.style.animation='';
    wE.textContent=t.w; lE.textContent=t.l; aE.textContent=t.a;
    lE.classList.remove('fade'); aE.classList.remove('fade');
    fE.style.width=((_si+1)/_SP.length*100)+'%';
    _si++; setTimeout(_spStep,480);
  },130);
}
function _launch(){
  document.getElementById('splash').classList.add('out');
  const app=document.getElementById('app');
  app.classList.add('on');
  // Init tabs
  renderFeed('all'); renderNews('all'); renderMeetups('all'); renderNotifs();
  const sc=document.querySelector('#tab-calendar .chip');
  if(sc) scheduleFilter('today',sc);
  const st=document.querySelector('#tab-analytics .chip');
  if(st) statsFilter('overview',st);
  const sl=document.querySelector('#tab-images .chip');
  if(sl) libraryFilter('prompts',sl);
  const sp=document.querySelector('#tab-post .chip');
  if(sp) createFilter('text',sp);
}
_spStep();

// ‚ïê‚ïê OVERRIDE go() ‚Äî sync sidebar AND bottom nav ‚ïê‚ïê
function go(id,el){
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.querySelectorAll('.sn-item,.ni').forEach(n=>n.classList.remove('active'));
  const tab=document.getElementById('tab-'+id);
  if(tab) tab.classList.add('active');
  if(el) el.classList.add('active');
  // sync the OTHER nav (sidebar vs bottom-nav)
  document.querySelectorAll('.sn-item, .ni').forEach(n=>{
    const fn=n.getAttribute('onclick')||'';
    if(fn.includes("'"+id+"'")) n.classList.add('active');
  });
  // scroll main back to top
  const m=document.querySelector('.app-feed-wrap');
  if(m) m.scrollTop=0;
  window.scrollTo(0,0);
}

// ‚ïê‚ïê OVERRIDE toggleDark() ‚Äî use body.dark instead of .phone.dark ‚ïê‚ïê
let isDark=false;
function toggleDark(){
  isDark=!isDark;
  document.body.classList.toggle('dark',isDark);
  const icon=isDark?'‚òÄÔ∏è':'üåô';
  const pbtn=document.getElementById('dark-profile-btn');
  const dbtn=document.getElementById('dark-btn');
  if(dbtn) dbtn.textContent=icon;
  if(pbtn) pbtn.textContent=isDark?'‚òÄÔ∏è Light':'üåô Dark';
}


// ‚ïê‚ïê PROFILE IMAGE UPLOAD ‚ïê‚ïê
let _imgTarget = 'avatar'; // 'avatar' or 'cover'

function showImageSourcePicker(target) {
  _imgTarget = target;
  document.getElementById('img-picker-title').textContent = target === 'avatar' ? 'Choose Profile Photo' : 'Choose Cover Photo';
  const picker = document.getElementById('img-source-picker');
  picker.style.display = 'flex';
}

function closeImagePicker() {
  document.getElementById('img-source-picker').style.display = 'none';
}

function pickImageSource(source) {
  closeImagePicker();
  if (source === 'camera' || source === 'gallery') {
    // Trigger file input
    const inp = document.getElementById(_imgTarget === 'avatar' ? 'avatar-file-input' : 'cover-file-input');
    if (inp) inp.click();
  } else if (source === 'drive') {
    alert('Google Drive picker: In production this would open the Google Drive API picker. For now, use the file upload option.');
  } else if (source === 'url') {
    const url = prompt('Paste image URL:');
    if (url) applyImageUrl(url);
  }
}

function handleAvatarUpload(e) {
  const file = e.target.files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = ev => {
    const img = document.getElementById('av-img');
    const initials = document.getElementById('av-initials');
    if (img) { img.src = ev.target.result; img.style.display = 'block'; }
    if (initials) initials.style.display = 'none';
    // Also update topbar avatar
    const topAv = document.querySelector('.app-topbar-actions [style*="border-radius:50%"]');
    if (topAv) {
      topAv.innerHTML = `<img src="${ev.target.result}" style="width:100%;height:100%;object-fit:cover;border-radius:50%;">`;
    }
    // Update modal preview
    const prev = document.getElementById('modal-avatar-preview');
    if (prev) { prev.style.backgroundImage = `url(${ev.target.result})`; prev.textContent = ''; }
  };
  reader.readAsDataURL(file);
}

function handleCoverUpload(e) {
  const file = e.target.files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = ev => applyImageUrl(ev.target.result, 'cover');
  reader.readAsDataURL(file);
}

function applyImageUrl(url, forceTarget) {
  const tgt = forceTarget || _imgTarget;
  if (tgt === 'cover') {
    const coverDiv = document.getElementById('profile-cover');
    const coverImg = document.getElementById('cover-img');
    if (coverImg) { coverImg.src = url; coverImg.style.display = 'block'; }
    if (coverDiv) coverDiv.style.background = 'none';
  } else {
    const img = document.getElementById('av-img');
    const initials = document.getElementById('av-initials');
    if (img) { img.src = url; img.style.display = 'block'; }
    if (initials) initials.style.display = 'none';
  }
}

// ‚ïê‚ïê NOTIFICATIONS ‚ïê‚ïê
let _notifs = [
  { id:'n1', icon:'ü§ñ', bg:'#fff3e0', text:'<b>Sianap AI</b> scheduled your Hindi prompt post for 7:30 PM IST.', time:'Just now',    unread:true  },
  { id:'n2', icon:'‚úÖ', bg:'#e8f5e9', text:'<b>Priya Nair</b> gave your prompt a Proof-of-AI badge.',           time:'10 min ago', unread:true  },
  { id:'n3', icon:'‚ö°', bg:'#f0f0ff', text:'Your <b>Kannada prompt</b> hit 1,000 runs! üéâ',                     time:'1 hr ago',   unread:true  },
  { id:'n4', icon:'‚ù§Ô∏è', bg:'#fce4ec', text:'<b>DevSpark India</b> and 204 others liked your post.',             time:'3 hr ago',   unread:false },
  { id:'n5', icon:'üèÜ', bg:'#fff8e1', text:'You\'re in the <b>Top 50 AI Creators</b> on Sianap üáÆüá≥',          time:'Yesterday',  unread:false },
  { id:'n6', icon:'üèõÔ∏è', bg:'#e3f2fd', text:'<b>IndiaAI Mission</b> mentioned Sianap in their newsletter.',     time:'2 days ago', unread:false },
];

function _updateNotifBadge() {
  const unread = _notifs.filter(n => n.unread).length;
  // Sidebar badge
  const sideBadge = document.querySelector('.sn-item[onclick*="notifs"] .sn-badge');
  if (sideBadge) sideBadge.textContent = unread || '';
  if (sideBadge) sideBadge.style.display = unread > 0 ? '' : 'none';
  // Topbar badge
  const topBadge = document.getElementById('topbar-notif-badge');
  if (topBadge) { topBadge.textContent = unread || ''; topBadge.style.display = unread > 0 ? 'flex' : 'none'; }
  // Bottom nav badge (nbadge dot)
  const botBadge = document.querySelector('.ni[onclick*="notifs"] .nbadge');
  if (botBadge) botBadge.style.display = unread > 0 ? 'block' : 'none';
}

function renderNotifs() {
  const list = document.getElementById('notif-list');
  if (!list) return;
  if (_notifs.length === 0) {
    list.innerHTML = `<div style="text-align:center;padding:52px 24px;color:#aaa;">
      <div style="font-size:44px;margin-bottom:12px;">üîî</div>
      <div style="font-size:15px;font-weight:600;color:#555;margin-bottom:6px;">All caught up!</div>
      <div style="font-size:13px;">No notifications right now.</div>
    </div>`;
  } else {
    list.innerHTML = _notifs.map(n => `
      <div class="notif${n.unread?' unread':''}" id="${n.id}" style="display:flex;align-items:center;position:relative;">
        <div class="navo" style="background:${n.bg};">${n.icon}</div>
        <div class="nb" style="flex:1;">
          <div class="nt">${n.text}</div>
          <div class="ntm">${n.time}</div>
        </div>
        ${n.unread ? '<div class="ndot"></div>' : ''}
        <button onclick="deleteNotif('${n.id}')" style="flex-shrink:0;margin-left:8px;margin-right:4px;background:none;border:none;cursor:pointer;font-size:16px;color:#ccc;line-height:1;padding:4px;" title="Dismiss">‚úï</button>
      </div>`).join('');
  }
  _updateNotifBadge();
}

function deleteNotif(id) {
  const el = document.getElementById(id);
  if (el) { el.style.opacity='0'; el.style.transform='translateX(30px)'; el.style.transition='all .22s'; setTimeout(() => el.remove(), 220); }
  _notifs = _notifs.filter(n => n.id !== id);
  setTimeout(() => { _updateNotifBadge(); if (_notifs.length === 0) renderNotifs(); }, 230);
}

function clearAllNotifs() {
  const list = document.getElementById('notif-list');
  if (!list) return;
  [...list.children].forEach((el, i) => {
    setTimeout(() => { el.style.opacity='0'; el.style.transform='translateX(30px)'; el.style.transition='all .18s'; }, i * 50);
  });
  setTimeout(() => { _notifs = []; renderNotifs(); }, _notifs.length * 50 + 200);
}


// Tracks which card is currently playing so we can stop it when another starts
let _currentLiveCard = null;

function playLiveVideo(cardId, videoId) {
  const thumb  = document.getElementById('lv-thumb-'  + cardId);
  const player = document.getElementById('lv-player-' + cardId);
  const iframe = document.getElementById('lv-iframe-' + cardId);
  if (!thumb || !player || !iframe) return;

  // Pause & hide whatever was playing before
  if (_currentLiveCard && _currentLiveCard !== cardId) {
    const prevThumb  = document.getElementById('lv-thumb-'  + _currentLiveCard);
    const prevPlayer = document.getElementById('lv-player-' + _currentLiveCard);
    const prevIframe = document.getElementById('lv-iframe-' + _currentLiveCard);
    if (prevPlayer) prevPlayer.style.display = 'none';
    if (prevThumb)  prevThumb.style.display  = 'flex';
    if (prevIframe) prevIframe.src = '';          // stop playback
  }

  // Toggle: if already playing this card, stop it
  if (_currentLiveCard === cardId && player.style.display !== 'none') {
    player.style.display = 'none';
    thumb.style.display  = 'flex';
    iframe.src = '';
    _currentLiveCard = null;
    return;
  }

  // Load embed URL with autoplay + rel=0 (no related-video redirects)
  iframe.src = `https://www.youtube-nocookie.com/embed/${videoId}?autoplay=1&rel=0&modestbranding=1&origin=${location.href}`;
  thumb.style.display  = 'none';
  player.style.display = 'block';
  _currentLiveCard = cardId;

  // Smooth scroll so the player is visible
  player.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}


function renderSavedPosts() {
  const list = document.getElementById('saved-posts-list');
  if (!list) return;
  const saved = Object.values(_savedPosts);
  if (saved.length === 0) {
    list.innerHTML = `<div style="text-align:center;padding:48px 20px;color:#aaa;">
      <div style="font-size:42px;margin-bottom:12px;">üîñ</div>
      <div style="font-size:15px;font-weight:600;color:#555;margin-bottom:6px;">No saved posts yet</div>
      <div style="font-size:13px;">Tap the Save button on any post to bookmark it here.</div>
    </div>`;
  } else {
    list.innerHTML = saved.map(p => buildPostCard(p)).join('');
  }
}

const _origFeedFilter = typeof feedFilter === 'function' ? feedFilter : null;
function feedFilter(type, el) {
  // Highlight chip
  el.parentElement.querySelectorAll('.chip').forEach(c => c.classList.remove('on'));
  el.classList.add('on');

  const liveEl  = document.getElementById('feed-live');
  const savedEl = document.getElementById('feed-saved');
  const feedListEl = document.getElementById('feed-list');

  // Hide all panels first
  if (liveEl)  liveEl.style.display  = 'none';
  if (savedEl) savedEl.style.display = 'none';
  if (feedListEl) feedListEl.style.display = 'block';

  if (type === 'live') {
    if (liveEl) liveEl.style.display = 'block';
    if (feedListEl) feedListEl.style.display = 'none';
  } else if (type === 'saved') {
    if (savedEl) savedEl.style.display = 'block';
    if (feedListEl) feedListEl.style.display = 'none';
    renderSavedPosts();
  } else {
    renderFeed(type);
  }
}

</script>
</body>
</html>